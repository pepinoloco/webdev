/*! For license information please see main.02a10975.js.LICENSE.txt */
(()=>{"use strict";var t={730:(t,e,i)=>{var n=i(43),a=i(853);function s(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function l(t,e){c(t,e),c(t+"Capture",e)}function c(t,e){for(o[t]=e,t=0;t<e.length;t++)r.add(e[t])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function f(t,e,i,n,a,s,r){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=i,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=r}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){y[t]=new f(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];y[e]=new f(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){y[t]=new f(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){y[t]=new f(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){y[t]=new f(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){y[t]=new f(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){y[t]=new f(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){y[t]=new f(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){y[t]=new f(t,5,!1,t.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function x(t){return t[1].toUpperCase()}function b(t,e,i,n){var a=y.hasOwnProperty(e)?y[e]:null;(null!==a?0!==a.type:n||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,i,n){if(null===e||"undefined"===typeof e||function(t,e,i,n){if(null!==i&&0===i.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==i?!i.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,i,n))return!0;if(n)return!1;if(null!==i)switch(i.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,i,a,n)&&(i=null),n||null===a?function(t){return!!h.call(g,t)||!h.call(p,t)&&(d.test(t)?g[t]=!0:(p[t]=!0,!1))}(e)&&(null===i?t.removeAttribute(e):t.setAttribute(e,""+i)):a.mustUseProperty?t[a.propertyName]=null===i?3!==a.type&&"":i:(e=a.attributeName,n=a.attributeNamespace,null===i?t.removeAttribute(e):(i=3===(a=a.type)||4===a&&!0===i?"":""+i,n?t.setAttributeNS(n,e,i):t.setAttribute(e,i))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(m,x);y[e]=new f(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(m,x);y[e]=new f(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(m,x);y[e]=new f(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){y[t]=new f(t,1,!1,t.toLowerCase(),null,!1,!1)})),y.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){y[t]=new f(t,1,!1,t.toLowerCase(),null,!0,!0)}));var v=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),S=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),L=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),E=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function z(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=O&&t[O]||t["@@iterator"])?t:null}var j,P=Object.assign;function B(t){if(void 0===j)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);j=e&&e[1]||""}return"\n"+j+t}var F=!1;function G(t,e){if(!t||F)return"";F=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),s=n.stack.split("\n"),r=a.length-1,o=s.length-1;1<=r&&0<=o&&a[r]!==s[o];)o--;for(;1<=r&&0<=o;r--,o--)if(a[r]!==s[o]){if(1!==r||1!==o)do{if(r--,0>--o||a[r]!==s[o]){var l="\n"+a[r].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}}while(1<=r&&0<=o);break}}}finally{F=!1,Error.prepareStackTrace=i}return(t=t?t.displayName||t.name:"")?B(t):""}function _(t){switch(t.tag){case 5:return B(t.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return t=G(t.type,!1);case 11:return t=G(t.type.render,!1);case 1:return t=G(t.type,!0);default:return""}}function U(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case I:return"Fragment";case S:return"Portal";case w:return"Profiler";case D:return"StrictMode";case A:return"Suspense";case C:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case L:return(t.displayName||"Context")+".Consumer";case N:return(t._context.displayName||"Context")+".Provider";case k:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case T:return null!==(e=t.displayName||null)?e:U(t.type)||"Memo";case E:e=t._payload,t=t._init;try{return U(t(e))}catch(i){}}return null}function Y(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(e);case 8:return e===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function V(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function W(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function Z(t){t._valueTracker||(t._valueTracker=function(t){var e=W(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof i&&"function"===typeof i.get&&"function"===typeof i.set){var a=i.get,s=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(t){n=""+t,s.call(this,t)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(t){n=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function H(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),n="";return t&&(n=W(t)?t.checked?"true":"false":t.value),(t=n)!==i&&(e.setValue(t),!0)}function K(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function $(t,e){var i=e.checked;return P({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=i?i:t._wrapperState.initialChecked})}function Q(t,e){var i=null==e.defaultValue?"":e.defaultValue,n=null!=e.checked?e.checked:e.defaultChecked;i=V(null!=e.value?e.value:i),t._wrapperState={initialChecked:n,initialValue:i,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function X(t,e){null!=(e=e.checked)&&b(t,"checked",e,!1)}function J(t,e){X(t,e);var i=V(e.value),n=e.type;if(null!=i)"number"===n?(0===i&&""===t.value||t.value!=i)&&(t.value=""+i):t.value!==""+i&&(t.value=""+i);else if("submit"===n||"reset"===n)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,i):e.hasOwnProperty("defaultValue")&&tt(t,e.type,V(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function q(t,e,i){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!("submit"!==n&&"reset"!==n||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,i||e===t.value||(t.value=e),t.defaultValue=e}""!==(i=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==i&&(t.name=i)}function tt(t,e,i){"number"===e&&K(t.ownerDocument)===t||(null==i?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+i&&(t.defaultValue=""+i))}var et=Array.isArray;function it(t,e,i,n){if(t=t.options,e){e={};for(var a=0;a<i.length;a++)e["$"+i[a]]=!0;for(i=0;i<t.length;i++)a=e.hasOwnProperty("$"+t[i].value),t[i].selected!==a&&(t[i].selected=a),a&&n&&(t[i].defaultSelected=!0)}else{for(i=""+V(i),e=null,a=0;a<t.length;a++){if(t[a].value===i)return t[a].selected=!0,void(n&&(t[a].defaultSelected=!0));null!==e||t[a].disabled||(e=t[a])}null!==e&&(e.selected=!0)}}function nt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(s(91));return P({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function at(t,e){var i=e.value;if(null==i){if(i=e.children,e=e.defaultValue,null!=i){if(null!=e)throw Error(s(92));if(et(i)){if(1<i.length)throw Error(s(93));i=i[0]}e=i}null==e&&(e=""),i=e}t._wrapperState={initialValue:V(i)}}function st(t,e){var i=V(e.value),n=V(e.defaultValue);null!=i&&((i=""+i)!==t.value&&(t.value=i),null==e.defaultValue&&t.defaultValue!==i&&(t.defaultValue=i)),null!=n&&(t.defaultValue=""+n)}function rt(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function ot(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?ot(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var ct,ut,ht=(ut=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((ct=ct||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ct.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,i,n){MSApp.execUnsafeLocalFunction((function(){return ut(t,e)}))}:ut);function dt(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&3===i.nodeType)return void(i.nodeValue=e)}t.textContent=e}var pt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gt=["Webkit","ms","Moz","O"];function ft(t,e,i){return null==e||"boolean"===typeof e||""===e?"":i||"number"!==typeof e||0===e||pt.hasOwnProperty(t)&&pt[t]?(""+e).trim():e+"px"}function yt(t,e){for(var i in t=t.style,e)if(e.hasOwnProperty(i)){var n=0===i.indexOf("--"),a=ft(i,e[i],n);"float"===i&&(i="cssFloat"),n?t.setProperty(i,a):t[i]=a}}Object.keys(pt).forEach((function(t){gt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),pt[e]=pt[t]}))}));var mt=P({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xt(t,e){if(e){if(mt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(s(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(s(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(s(62))}}function bt(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vt=null;function Mt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var St=null,It=null,Dt=null;function wt(t){if(t=ba(t)){if("function"!==typeof St)throw Error(s(280));var e=t.stateNode;e&&(e=Ma(e),St(t.stateNode,t.type,e))}}function Nt(t){It?Dt?Dt.push(t):Dt=[t]:It=t}function Lt(){if(It){var t=It,e=Dt;if(Dt=It=null,wt(t),e)for(t=0;t<e.length;t++)wt(e[t])}}function kt(t,e){return t(e)}function At(){}var Ct=!1;function Tt(t,e,i){if(Ct)return t(e,i);Ct=!0;try{return kt(t,e,i)}finally{Ct=!1,(null!==It||null!==Dt)&&(At(),Lt())}}function Et(t,e){var i=t.stateNode;if(null===i)return null;var n=Ma(i);if(null===n)return null;i=n[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!n;break t;default:t=!1}if(t)return null;if(i&&"function"!==typeof i)throw Error(s(231,e,typeof i));return i}var Rt=!1;if(u)try{var Ot={};Object.defineProperty(Ot,"passive",{get:function(){Rt=!0}}),window.addEventListener("test",Ot,Ot),window.removeEventListener("test",Ot,Ot)}catch(ut){Rt=!1}function zt(t,e,i,n,a,s,r,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(i,c)}catch(u){this.onError(u)}}var jt=!1,Pt=null,Bt=!1,Ft=null,Gt={onError:function(t){jt=!0,Pt=t}};function _t(t,e,i,n,a,s,r,o,l){jt=!1,Pt=null,zt.apply(Gt,arguments)}function Ut(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(i=e.return),t=e.return}while(t)}return 3===e.tag?i:null}function Yt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Vt(t){if(Ut(t)!==t)throw Error(s(188))}function Wt(t){return null!==(t=function(t){var e=t.alternate;if(!e){if(null===(e=Ut(t)))throw Error(s(188));return e!==t?null:t}for(var i=t,n=e;;){var a=i.return;if(null===a)break;var r=a.alternate;if(null===r){if(null!==(n=a.return)){i=n;continue}break}if(a.child===r.child){for(r=a.child;r;){if(r===i)return Vt(a),t;if(r===n)return Vt(a),e;r=r.sibling}throw Error(s(188))}if(i.return!==n.return)i=a,n=r;else{for(var o=!1,l=a.child;l;){if(l===i){o=!0,i=a,n=r;break}if(l===n){o=!0,n=a,i=r;break}l=l.sibling}if(!o){for(l=r.child;l;){if(l===i){o=!0,i=r,n=a;break}if(l===n){o=!0,n=r,i=a;break}l=l.sibling}if(!o)throw Error(s(189))}}if(i.alternate!==n)throw Error(s(190))}if(3!==i.tag)throw Error(s(188));return i.stateNode.current===i?t:e}(t))?Zt(t):null}function Zt(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=Zt(t);if(null!==e)return e;t=t.sibling}return null}var Ht=a.unstable_scheduleCallback,Kt=a.unstable_cancelCallback,$t=a.unstable_shouldYield,Qt=a.unstable_requestPaint,Xt=a.unstable_now,Jt=a.unstable_getCurrentPriorityLevel,qt=a.unstable_ImmediatePriority,te=a.unstable_UserBlockingPriority,ee=a.unstable_NormalPriority,ie=a.unstable_LowPriority,ne=a.unstable_IdlePriority,ae=null,se=null;var re=Math.clz32?Math.clz32:function(t){return t>>>=0,0===t?32:31-(oe(t)/le|0)|0},oe=Math.log,le=Math.LN2;var ce=64,ue=4194304;function he(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function de(t,e){var i=t.pendingLanes;if(0===i)return 0;var n=0,a=t.suspendedLanes,s=t.pingedLanes,r=268435455&i;if(0!==r){var o=r&~a;0!==o?n=he(o):0!==(s&=r)&&(n=he(s))}else 0!==(r=i&~a)?n=he(r):0!==s&&(n=he(s));if(0===n)return 0;if(0!==e&&e!==n&&0===(e&a)&&((a=n&-n)>=(s=e&-e)||16===a&&0!==(4194240&s)))return e;if(0!==(4&n)&&(n|=16&i),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=n;0<e;)a=1<<(i=31-re(e)),n|=t[i],e&=~a;return n}function pe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function ge(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function fe(){var t=ce;return 0===(4194240&(ce<<=1))&&(ce=64),t}function ye(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function me(t,e,i){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-re(e)]=i}function xe(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var n=31-re(i),a=1<<n;a&e|t[n]&e&&(t[n]|=e),i&=~a}}var be=0;function ve(t){return 1<(t&=-t)?4<t?0!==(268435455&t)?16:536870912:4:1}var Me,Se,Ie,De,we,Ne=!1,Le=[],ke=null,Ae=null,Ce=null,Te=new Map,Ee=new Map,Re=[],Oe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ze(t,e){switch(t){case"focusin":case"focusout":ke=null;break;case"dragenter":case"dragleave":Ae=null;break;case"mouseover":case"mouseout":Ce=null;break;case"pointerover":case"pointerout":Te.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ee.delete(e.pointerId)}}function je(t,e,i,n,a,s){return null===t||t.nativeEvent!==s?(t={blockedOn:e,domEventName:i,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},null!==e&&(null!==(e=ba(e))&&Se(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,null!==a&&-1===e.indexOf(a)&&e.push(a),t)}function Pe(t){var e=xa(t.target);if(null!==e){var i=Ut(e);if(null!==i)if(13===(e=i.tag)){if(null!==(e=Yt(i)))return t.blockedOn=e,void we(t.priority,(function(){Ie(i)}))}else if(3===e&&i.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===i.tag?i.stateNode.containerInfo:null)}t.blockedOn=null}function Be(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var i=$e(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==i)return null!==(e=ba(i))&&Se(e),t.blockedOn=i,!1;var n=new(i=t.nativeEvent).constructor(i.type,i);vt=n,i.target.dispatchEvent(n),vt=null,e.shift()}return!0}function Fe(t,e,i){Be(t)&&i.delete(e)}function Ge(){Ne=!1,null!==ke&&Be(ke)&&(ke=null),null!==Ae&&Be(Ae)&&(Ae=null),null!==Ce&&Be(Ce)&&(Ce=null),Te.forEach(Fe),Ee.forEach(Fe)}function _e(t,e){t.blockedOn===e&&(t.blockedOn=null,Ne||(Ne=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Ge)))}function Ue(t){function e(e){return _e(e,t)}if(0<Le.length){_e(Le[0],t);for(var i=1;i<Le.length;i++){var n=Le[i];n.blockedOn===t&&(n.blockedOn=null)}}for(null!==ke&&_e(ke,t),null!==Ae&&_e(Ae,t),null!==Ce&&_e(Ce,t),Te.forEach(e),Ee.forEach(e),i=0;i<Re.length;i++)(n=Re[i]).blockedOn===t&&(n.blockedOn=null);for(;0<Re.length&&null===(i=Re[0]).blockedOn;)Pe(i),null===i.blockedOn&&Re.shift()}var Ye=v.ReactCurrentBatchConfig,Ve=!0;function We(t,e,i,n){var a=be,s=Ye.transition;Ye.transition=null;try{be=1,He(t,e,i,n)}finally{be=a,Ye.transition=s}}function Ze(t,e,i,n){var a=be,s=Ye.transition;Ye.transition=null;try{be=4,He(t,e,i,n)}finally{be=a,Ye.transition=s}}function He(t,e,i,n){if(Ve){var a=$e(t,e,i,n);if(null===a)Vn(t,e,n,Ke,i),ze(t,n);else if(function(t,e,i,n,a){switch(e){case"focusin":return ke=je(ke,t,e,i,n,a),!0;case"dragenter":return Ae=je(Ae,t,e,i,n,a),!0;case"mouseover":return Ce=je(Ce,t,e,i,n,a),!0;case"pointerover":var s=a.pointerId;return Te.set(s,je(Te.get(s)||null,t,e,i,n,a)),!0;case"gotpointercapture":return s=a.pointerId,Ee.set(s,je(Ee.get(s)||null,t,e,i,n,a)),!0}return!1}(a,t,e,i,n))n.stopPropagation();else if(ze(t,n),4&e&&-1<Oe.indexOf(t)){for(;null!==a;){var s=ba(a);if(null!==s&&Me(s),null===(s=$e(t,e,i,n))&&Vn(t,e,n,Ke,i),s===a)break;a=s}null!==a&&n.stopPropagation()}else Vn(t,e,n,null,i)}}var Ke=null;function $e(t,e,i,n){if(Ke=null,null!==(t=xa(t=Mt(n))))if(null===(e=Ut(t)))t=null;else if(13===(i=e.tag)){if(null!==(t=Yt(e)))return t;t=null}else if(3===i){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ke=t,null}function Qe(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jt()){case qt:return 1;case te:return 4;case ee:case ie:return 16;case ne:return 536870912;default:return 16}default:return 16}}var Xe=null,Je=null,qe=null;function ti(){if(qe)return qe;var t,e,i=Je,n=i.length,a="value"in Xe?Xe.value:Xe.textContent,s=a.length;for(t=0;t<n&&i[t]===a[t];t++);var r=n-t;for(e=1;e<=r&&i[n-e]===a[s-e];e++);return qe=a.slice(t,1<e?1-e:void 0)}function ei(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function ii(){return!0}function ni(){return!1}function ai(t){function e(e,i,n,a,s){for(var r in this._reactName=e,this._targetInst=n,this.type=i,this.nativeEvent=a,this.target=s,this.currentTarget=null,t)t.hasOwnProperty(r)&&(e=t[r],this[r]=e?e(a):a[r]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?ii:ni,this.isPropagationStopped=ni,this}return P(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=ii)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=ii)},persist:function(){},isPersistent:ii}),e}var si,ri,oi,li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ci=ai(li),ui=P({},li,{view:0,detail:0}),hi=ai(ui),di=P({},ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Di,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==oi&&(oi&&"mousemove"===t.type?(si=t.screenX-oi.screenX,ri=t.screenY-oi.screenY):ri=si=0,oi=t),si)},movementY:function(t){return"movementY"in t?t.movementY:ri}}),pi=ai(di),gi=ai(P({},di,{dataTransfer:0})),fi=ai(P({},ui,{relatedTarget:0})),yi=ai(P({},li,{animationName:0,elapsedTime:0,pseudoElement:0})),mi=P({},li,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xi=ai(mi),bi=ai(P({},li,{data:0})),vi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Si={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ii(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Si[t])&&!!e[t]}function Di(){return Ii}var wi=P({},ui,{key:function(t){if(t.key){var e=vi[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=ei(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?Mi[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Di,charCode:function(t){return"keypress"===t.type?ei(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?ei(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Ni=ai(wi),Li=ai(P({},di,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),ki=ai(P({},ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Di})),Ai=ai(P({},li,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ci=P({},di,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ti=ai(Ci),Ei=[9,13,27,32],Ri=u&&"CompositionEvent"in window,Oi=null;u&&"documentMode"in document&&(Oi=document.documentMode);var zi=u&&"TextEvent"in window&&!Oi,ji=u&&(!Ri||Oi&&8<Oi&&11>=Oi),Pi=String.fromCharCode(32),Bi=!1;function Fi(t,e){switch(t){case"keyup":return-1!==Ei.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gi(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var _i=!1;var Ui={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yi(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Ui[t.type]:"textarea"===e}function Vi(t,e,i,n){Nt(n),0<(e=Zn(e,"onChange")).length&&(i=new ci("onChange","change",null,i,n),t.push({event:i,listeners:e}))}var Wi=null,Zi=null;function Hi(t){Bn(t,0)}function Ki(t){if(H(va(t)))return t}function $i(t,e){if("change"===t)return e}var Qi=!1;if(u){var Xi;if(u){var Ji="oninput"in document;if(!Ji){var qi=document.createElement("div");qi.setAttribute("oninput","return;"),Ji="function"===typeof qi.oninput}Xi=Ji}else Xi=!1;Qi=Xi&&(!document.documentMode||9<document.documentMode)}function tn(){Wi&&(Wi.detachEvent("onpropertychange",en),Zi=Wi=null)}function en(t){if("value"===t.propertyName&&Ki(Zi)){var e=[];Vi(e,Zi,t,Mt(t)),Tt(Hi,e)}}function nn(t,e,i){"focusin"===t?(tn(),Zi=i,(Wi=e).attachEvent("onpropertychange",en)):"focusout"===t&&tn()}function an(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Ki(Zi)}function sn(t,e){if("click"===t)return Ki(e)}function rn(t,e){if("input"===t||"change"===t)return Ki(e)}var on="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function ln(t,e){if(on(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var i=Object.keys(t),n=Object.keys(e);if(i.length!==n.length)return!1;for(n=0;n<i.length;n++){var a=i[n];if(!h.call(e,a)||!on(t[a],e[a]))return!1}return!0}function cn(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function un(t,e){var i,n=cn(t);for(t=0;n;){if(3===n.nodeType){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=cn(n)}}function hn(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?hn(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function dn(){for(var t=window,e=K();e instanceof t.HTMLIFrameElement;){try{var i="string"===typeof e.contentWindow.location.href}catch(n){i=!1}if(!i)break;e=K((t=e.contentWindow).document)}return e}function pn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function gn(t){var e=dn(),i=t.focusedElem,n=t.selectionRange;if(e!==i&&i&&i.ownerDocument&&hn(i.ownerDocument.documentElement,i)){if(null!==n&&pn(i))if(e=n.start,void 0===(t=n.end)&&(t=e),"selectionStart"in i)i.selectionStart=e,i.selectionEnd=Math.min(t,i.value.length);else if((t=(e=i.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var a=i.textContent.length,s=Math.min(n.start,a);n=void 0===n.end?s:Math.min(n.end,a),!t.extend&&s>n&&(a=n,n=s,s=a),a=un(i,s);var r=un(i,n);a&&r&&(1!==t.rangeCount||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==r.node||t.focusOffset!==r.offset)&&((e=e.createRange()).setStart(a.node,a.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(r.node,r.offset)):(e.setEnd(r.node,r.offset),t.addRange(e)))}for(e=[],t=i;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof i.focus&&i.focus(),i=0;i<e.length;i++)(t=e[i]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var fn=u&&"documentMode"in document&&11>=document.documentMode,yn=null,mn=null,xn=null,bn=!1;function vn(t,e,i){var n=i.window===i?i.document:9===i.nodeType?i:i.ownerDocument;bn||null==yn||yn!==K(n)||("selectionStart"in(n=yn)&&pn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},xn&&ln(xn,n)||(xn=n,0<(n=Zn(mn,"onSelect")).length&&(e=new ci("onSelect","select",null,e,i),t.push({event:e,listeners:n}),e.target=yn)))}function Mn(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var Sn={animationend:Mn("Animation","AnimationEnd"),animationiteration:Mn("Animation","AnimationIteration"),animationstart:Mn("Animation","AnimationStart"),transitionend:Mn("Transition","TransitionEnd")},In={},Dn={};function wn(t){if(In[t])return In[t];if(!Sn[t])return t;var e,i=Sn[t];for(e in i)if(i.hasOwnProperty(e)&&e in Dn)return In[t]=i[e];return t}u&&(Dn=document.createElement("div").style,"AnimationEvent"in window||(delete Sn.animationend.animation,delete Sn.animationiteration.animation,delete Sn.animationstart.animation),"TransitionEvent"in window||delete Sn.transitionend.transition);var Nn=wn("animationend"),Ln=wn("animationiteration"),kn=wn("animationstart"),An=wn("transitionend"),Cn=new Map,Tn="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function En(t,e){Cn.set(t,e),l(e,[t])}for(var Rn=0;Rn<Tn.length;Rn++){var On=Tn[Rn];En(On.toLowerCase(),"on"+(On[0].toUpperCase()+On.slice(1)))}En(Nn,"onAnimationEnd"),En(Ln,"onAnimationIteration"),En(kn,"onAnimationStart"),En("dblclick","onDoubleClick"),En("focusin","onFocus"),En("focusout","onBlur"),En(An,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jn=new Set("cancel close invalid load scroll toggle".split(" ").concat(zn));function Pn(t,e,i){var n=t.type||"unknown-event";t.currentTarget=i,function(t,e,i,n,a,r,o,l,c){if(_t.apply(this,arguments),jt){if(!jt)throw Error(s(198));var u=Pt;jt=!1,Pt=null,Bt||(Bt=!0,Ft=u)}}(n,e,void 0,t),t.currentTarget=null}function Bn(t,e){e=0!==(4&e);for(var i=0;i<t.length;i++){var n=t[i],a=n.event;n=n.listeners;t:{var s=void 0;if(e)for(var r=n.length-1;0<=r;r--){var o=n[r],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&a.isPropagationStopped())break t;Pn(a,o,c),s=l}else for(r=0;r<n.length;r++){if(l=(o=n[r]).instance,c=o.currentTarget,o=o.listener,l!==s&&a.isPropagationStopped())break t;Pn(a,o,c),s=l}}}if(Bt)throw t=Ft,Bt=!1,Ft=null,t}function Fn(t,e){var i=e[fa];void 0===i&&(i=e[fa]=new Set);var n=t+"__bubble";i.has(n)||(Yn(e,t,2,!1),i.add(n))}function Gn(t,e,i){var n=0;e&&(n|=4),Yn(i,t,n,e)}var _n="_reactListening"+Math.random().toString(36).slice(2);function Un(t){if(!t[_n]){t[_n]=!0,r.forEach((function(e){"selectionchange"!==e&&(jn.has(e)||Gn(e,!1,t),Gn(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[_n]||(e[_n]=!0,Gn("selectionchange",!1,e))}}function Yn(t,e,i,n){switch(Qe(e)){case 1:var a=We;break;case 4:a=Ze;break;default:a=He}i=a.bind(null,e,i,t),a=void 0,!Rt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(a=!0),n?void 0!==a?t.addEventListener(e,i,{capture:!0,passive:a}):t.addEventListener(e,i,!0):void 0!==a?t.addEventListener(e,i,{passive:a}):t.addEventListener(e,i,!1)}function Vn(t,e,i,n,a){var s=n;if(0===(1&e)&&0===(2&e)&&null!==n)t:for(;;){if(null===n)return;var r=n.tag;if(3===r||4===r){var o=n.stateNode.containerInfo;if(o===a||8===o.nodeType&&o.parentNode===a)break;if(4===r)for(r=n.return;null!==r;){var l=r.tag;if((3===l||4===l)&&((l=r.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;r=r.return}for(;null!==o;){if(null===(r=xa(o)))return;if(5===(l=r.tag)||6===l){n=s=r;continue t}o=o.parentNode}}n=n.return}Tt((function(){var n=s,a=Mt(i),r=[];t:{var o=Cn.get(t);if(void 0!==o){var l=ci,c=t;switch(t){case"keypress":if(0===ei(i))break t;case"keydown":case"keyup":l=Ni;break;case"focusin":c="focus",l=fi;break;case"focusout":c="blur",l=fi;break;case"beforeblur":case"afterblur":l=fi;break;case"click":if(2===i.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=ki;break;case Nn:case Ln:case kn:l=yi;break;case An:l=Ai;break;case"scroll":l=hi;break;case"wheel":l=Ti;break;case"copy":case"cut":case"paste":l=xi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Li}var u=0!==(4&e),h=!u&&"scroll"===t,d=u?null!==o?o+"Capture":null:o;u=[];for(var p,g=n;null!==g;){var f=(p=g).stateNode;if(5===p.tag&&null!==f&&(p=f,null!==d&&(null!=(f=Et(g,d))&&u.push(Wn(g,f,p)))),h)break;g=g.return}0<u.length&&(o=new l(o,c,null,i,a),r.push({event:o,listeners:u}))}}if(0===(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(o="mouseover"===t||"pointerover"===t)||i===vt||!(c=i.relatedTarget||i.fromElement)||!xa(c)&&!c[ga])&&(l||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=n,null!==(c=(c=i.relatedTarget||i.toElement)?xa(c):null)&&(c!==(h=Ut(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=n),l!==c)){if(u=pi,f="onMouseLeave",d="onMouseEnter",g="mouse","pointerout"!==t&&"pointerover"!==t||(u=Li,f="onPointerLeave",d="onPointerEnter",g="pointer"),h=null==l?o:va(l),p=null==c?o:va(c),(o=new u(f,g+"leave",l,i,a)).target=h,o.relatedTarget=p,f=null,xa(a)===n&&((u=new u(d,g+"enter",c,i,a)).target=p,u.relatedTarget=h,f=u),h=f,l&&c)t:{for(d=c,g=0,p=u=l;p;p=Hn(p))g++;for(p=0,f=d;f;f=Hn(f))p++;for(;0<g-p;)u=Hn(u),g--;for(;0<p-g;)d=Hn(d),p--;for(;g--;){if(u===d||null!==d&&u===d.alternate)break t;u=Hn(u),d=Hn(d)}u=null}else u=null;null!==l&&Kn(r,o,l,u,!1),null!==c&&null!==h&&Kn(r,h,c,u,!0)}if("select"===(l=(o=n?va(n):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var y=$i;else if(Yi(o))if(Qi)y=rn;else{y=an;var m=nn}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(y=sn);switch(y&&(y=y(t,n))?Vi(r,y,i,a):(m&&m(t,o,n),"focusout"===t&&(m=o._wrapperState)&&m.controlled&&"number"===o.type&&tt(o,"number",o.value)),m=n?va(n):window,t){case"focusin":(Yi(m)||"true"===m.contentEditable)&&(yn=m,mn=n,xn=null);break;case"focusout":xn=mn=yn=null;break;case"mousedown":bn=!0;break;case"contextmenu":case"mouseup":case"dragend":bn=!1,vn(r,i,a);break;case"selectionchange":if(fn)break;case"keydown":case"keyup":vn(r,i,a)}var x;if(Ri)t:{switch(t){case"compositionstart":var b="onCompositionStart";break t;case"compositionend":b="onCompositionEnd";break t;case"compositionupdate":b="onCompositionUpdate";break t}b=void 0}else _i?Fi(t,i)&&(b="onCompositionEnd"):"keydown"===t&&229===i.keyCode&&(b="onCompositionStart");b&&(ji&&"ko"!==i.locale&&(_i||"onCompositionStart"!==b?"onCompositionEnd"===b&&_i&&(x=ti()):(Je="value"in(Xe=a)?Xe.value:Xe.textContent,_i=!0)),0<(m=Zn(n,b)).length&&(b=new bi(b,t,null,i,a),r.push({event:b,listeners:m}),x?b.data=x:null!==(x=Gi(i))&&(b.data=x))),(x=zi?function(t,e){switch(t){case"compositionend":return Gi(e);case"keypress":return 32!==e.which?null:(Bi=!0,Pi);case"textInput":return(t=e.data)===Pi&&Bi?null:t;default:return null}}(t,i):function(t,e){if(_i)return"compositionend"===t||!Ri&&Fi(t,e)?(t=ti(),qe=Je=Xe=null,_i=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ji&&"ko"!==e.locale?null:e.data}}(t,i))&&(0<(n=Zn(n,"onBeforeInput")).length&&(a=new bi("onBeforeInput","beforeinput",null,i,a),r.push({event:a,listeners:n}),a.data=x))}Bn(r,e)}))}function Wn(t,e,i){return{instance:t,listener:e,currentTarget:i}}function Zn(t,e){for(var i=e+"Capture",n=[];null!==t;){var a=t,s=a.stateNode;5===a.tag&&null!==s&&(a=s,null!=(s=Et(t,i))&&n.unshift(Wn(t,s,a)),null!=(s=Et(t,e))&&n.push(Wn(t,s,a))),t=t.return}return n}function Hn(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Kn(t,e,i,n,a){for(var s=e._reactName,r=[];null!==i&&i!==n;){var o=i,l=o.alternate,c=o.stateNode;if(null!==l&&l===n)break;5===o.tag&&null!==c&&(o=c,a?null!=(l=Et(i,s))&&r.unshift(Wn(i,l,o)):a||null!=(l=Et(i,s))&&r.push(Wn(i,l,o))),i=i.return}0!==r.length&&t.push({event:e,listeners:r})}var $n=/\r\n?/g,Qn=/\u0000|\uFFFD/g;function Xn(t){return("string"===typeof t?t:""+t).replace($n,"\n").replace(Qn,"")}function Jn(t,e,i){if(e=Xn(e),Xn(t)!==e&&i)throw Error(s(425))}function qn(){}var ta=null,ea=null;function ia(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var na="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,sa="function"===typeof Promise?Promise:void 0,ra="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sa?function(t){return sa.resolve(null).then(t).catch(oa)}:na;function oa(t){setTimeout((function(){throw t}))}function la(t,e){var i=e,n=0;do{var a=i.nextSibling;if(t.removeChild(i),a&&8===a.nodeType)if("/$"===(i=a.data)){if(0===n)return t.removeChild(a),void Ue(e);n--}else"$"!==i&&"$?"!==i&&"$!"!==i||n++;i=a}while(i);Ue(e)}function ca(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function ua(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var i=t.data;if("$"===i||"$!"===i||"$?"===i){if(0===e)return t;e--}else"/$"===i&&e++}t=t.previousSibling}return null}var ha=Math.random().toString(36).slice(2),da="__reactFiber$"+ha,pa="__reactProps$"+ha,ga="__reactContainer$"+ha,fa="__reactEvents$"+ha,ya="__reactListeners$"+ha,ma="__reactHandles$"+ha;function xa(t){var e=t[da];if(e)return e;for(var i=t.parentNode;i;){if(e=i[ga]||i[da]){if(i=e.alternate,null!==e.child||null!==i&&null!==i.child)for(t=ua(t);null!==t;){if(i=t[da])return i;t=ua(t)}return e}i=(t=i).parentNode}return null}function ba(t){return!(t=t[da]||t[ga])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function va(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(s(33))}function Ma(t){return t[pa]||null}var Sa=[],Ia=-1;function Da(t){return{current:t}}function wa(t){0>Ia||(t.current=Sa[Ia],Sa[Ia]=null,Ia--)}function Na(t,e){Ia++,Sa[Ia]=t.current,t.current=e}var La={},ka=Da(La),Aa=Da(!1),Ca=La;function Ta(t,e){var i=t.type.contextTypes;if(!i)return La;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var a,s={};for(a in i)s[a]=e[a];return n&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ea(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Ra(){wa(Aa),wa(ka)}function Oa(t,e,i){if(ka.current!==La)throw Error(s(168));Na(ka,e),Na(Aa,i)}function za(t,e,i){var n=t.stateNode;if(e=e.childContextTypes,"function"!==typeof n.getChildContext)return i;for(var a in n=n.getChildContext())if(!(a in e))throw Error(s(108,Y(t)||"Unknown",a));return P({},i,n)}function ja(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||La,Ca=ka.current,Na(ka,t),Na(Aa,Aa.current),!0}function Pa(t,e,i){var n=t.stateNode;if(!n)throw Error(s(169));i?(t=za(t,e,Ca),n.__reactInternalMemoizedMergedChildContext=t,wa(Aa),wa(ka),Na(ka,t)):wa(Aa),Na(Aa,i)}var Ba=null,Fa=!1,Ga=!1;function _a(t){null===Ba?Ba=[t]:Ba.push(t)}function Ua(){if(!Ga&&null!==Ba){Ga=!0;var t=0,e=be;try{var i=Ba;for(be=1;t<i.length;t++){var n=i[t];do{n=n(!0)}while(null!==n)}Ba=null,Fa=!1}catch(a){throw null!==Ba&&(Ba=Ba.slice(t+1)),Ht(qt,Ua),a}finally{be=e,Ga=!1}}return null}var Ya=[],Va=0,Wa=null,Za=0,Ha=[],Ka=0,$a=null,Qa=1,Xa="";function Ja(t,e){Ya[Va++]=Za,Ya[Va++]=Wa,Wa=t,Za=e}function qa(t,e,i){Ha[Ka++]=Qa,Ha[Ka++]=Xa,Ha[Ka++]=$a,$a=t;var n=Qa;t=Xa;var a=32-re(n)-1;n&=~(1<<a),i+=1;var s=32-re(e)+a;if(30<s){var r=a-a%5;s=(n&(1<<r)-1).toString(32),n>>=r,a-=r,Qa=1<<32-re(e)+a|i<<a|n,Xa=s+t}else Qa=1<<s|i<<a|n,Xa=t}function ts(t){null!==t.return&&(Ja(t,1),qa(t,1,0))}function es(t){for(;t===Wa;)Wa=Ya[--Va],Ya[Va]=null,Za=Ya[--Va],Ya[Va]=null;for(;t===$a;)$a=Ha[--Ka],Ha[Ka]=null,Xa=Ha[--Ka],Ha[Ka]=null,Qa=Ha[--Ka],Ha[Ka]=null}var is=null,ns=null,as=!1,ss=null;function rs(t,e){var i=Tc(5,null,null,0);i.elementType="DELETED",i.stateNode=e,i.return=t,null===(e=t.deletions)?(t.deletions=[i],t.flags|=16):e.push(i)}function os(t,e){switch(t.tag){case 5:var i=t.type;return null!==(e=1!==e.nodeType||i.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,is=t,ns=ca(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,is=t,ns=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(i=null!==$a?{id:Qa,overflow:Xa}:null,t.memoizedState={dehydrated:e,treeContext:i,retryLane:1073741824},(i=Tc(18,null,null,0)).stateNode=e,i.return=t,t.child=i,is=t,ns=null,!0);default:return!1}}function ls(t){return 0!==(1&t.mode)&&0===(128&t.flags)}function cs(t){if(as){var e=ns;if(e){var i=e;if(!os(t,e)){if(ls(t))throw Error(s(418));e=ca(i.nextSibling);var n=is;e&&os(t,e)?rs(n,i):(t.flags=-4097&t.flags|2,as=!1,is=t)}}else{if(ls(t))throw Error(s(418));t.flags=-4097&t.flags|2,as=!1,is=t}}}function us(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;is=t}function hs(t){if(t!==is)return!1;if(!as)return us(t),as=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!ia(t.type,t.memoizedProps)),e&&(e=ns)){if(ls(t))throw ds(),Error(s(418));for(;e;)rs(t,e),e=ca(e.nextSibling)}if(us(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(s(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var i=t.data;if("/$"===i){if(0===e){ns=ca(t.nextSibling);break t}e--}else"$"!==i&&"$!"!==i&&"$?"!==i||e++}t=t.nextSibling}ns=null}}else ns=is?ca(t.stateNode.nextSibling):null;return!0}function ds(){for(var t=ns;t;)t=ca(t.nextSibling)}function ps(){ns=is=null,as=!1}function gs(t){null===ss?ss=[t]:ss.push(t)}var fs=v.ReactCurrentBatchConfig;function ys(t,e,i){if(null!==(t=i.ref)&&"function"!==typeof t&&"object"!==typeof t){if(i._owner){if(i=i._owner){if(1!==i.tag)throw Error(s(309));var n=i.stateNode}if(!n)throw Error(s(147,t));var a=n,r=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===r?e.ref:(e=function(t){var e=a.refs;null===t?delete e[r]:e[r]=t},e._stringRef=r,e)}if("string"!==typeof t)throw Error(s(284));if(!i._owner)throw Error(s(290,t))}return t}function ms(t,e){throw t=Object.prototype.toString.call(e),Error(s(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function xs(t){return(0,t._init)(t._payload)}function bs(t){function e(e,i){if(t){var n=e.deletions;null===n?(e.deletions=[i],e.flags|=16):n.push(i)}}function i(i,n){if(!t)return null;for(;null!==n;)e(i,n),n=n.sibling;return null}function n(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(t,e){return(t=Rc(t,e)).index=0,t.sibling=null,t}function r(e,i,n){return e.index=n,t?null!==(n=e.alternate)?(n=n.index)<i?(e.flags|=2,i):n:(e.flags|=2,i):(e.flags|=1048576,i)}function o(e){return t&&null===e.alternate&&(e.flags|=2),e}function l(t,e,i,n){return null===e||6!==e.tag?((e=Pc(i,t.mode,n)).return=t,e):((e=a(e,i)).return=t,e)}function c(t,e,i,n){var s=i.type;return s===I?h(t,e,i.props.children,n,i.key):null!==e&&(e.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===E&&xs(s)===e.type)?((n=a(e,i.props)).ref=ys(t,e,i),n.return=t,n):((n=Oc(i.type,i.key,i.props,null,t.mode,n)).ref=ys(t,e,i),n.return=t,n)}function u(t,e,i,n){return null===e||4!==e.tag||e.stateNode.containerInfo!==i.containerInfo||e.stateNode.implementation!==i.implementation?((e=Bc(i,t.mode,n)).return=t,e):((e=a(e,i.children||[])).return=t,e)}function h(t,e,i,n,s){return null===e||7!==e.tag?((e=zc(i,t.mode,n,s)).return=t,e):((e=a(e,i)).return=t,e)}function d(t,e,i){if("string"===typeof e&&""!==e||"number"===typeof e)return(e=Pc(""+e,t.mode,i)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case M:return(i=Oc(e.type,e.key,e.props,null,t.mode,i)).ref=ys(t,null,e),i.return=t,i;case S:return(e=Bc(e,t.mode,i)).return=t,e;case E:return d(t,(0,e._init)(e._payload),i)}if(et(e)||z(e))return(e=zc(e,t.mode,i,null)).return=t,e;ms(t,e)}return null}function p(t,e,i,n){var a=null!==e?e.key:null;if("string"===typeof i&&""!==i||"number"===typeof i)return null!==a?null:l(t,e,""+i,n);if("object"===typeof i&&null!==i){switch(i.$$typeof){case M:return i.key===a?c(t,e,i,n):null;case S:return i.key===a?u(t,e,i,n):null;case E:return p(t,e,(a=i._init)(i._payload),n)}if(et(i)||z(i))return null!==a?null:h(t,e,i,n,null);ms(t,i)}return null}function g(t,e,i,n,a){if("string"===typeof n&&""!==n||"number"===typeof n)return l(e,t=t.get(i)||null,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case M:return c(e,t=t.get(null===n.key?i:n.key)||null,n,a);case S:return u(e,t=t.get(null===n.key?i:n.key)||null,n,a);case E:return g(t,e,i,(0,n._init)(n._payload),a)}if(et(n)||z(n))return h(e,t=t.get(i)||null,n,a,null);ms(e,n)}return null}function f(a,s,o,l){for(var c=null,u=null,h=s,f=s=0,y=null;null!==h&&f<o.length;f++){h.index>f?(y=h,h=null):y=h.sibling;var m=p(a,h,o[f],l);if(null===m){null===h&&(h=y);break}t&&h&&null===m.alternate&&e(a,h),s=r(m,s,f),null===u?c=m:u.sibling=m,u=m,h=y}if(f===o.length)return i(a,h),as&&Ja(a,f),c;if(null===h){for(;f<o.length;f++)null!==(h=d(a,o[f],l))&&(s=r(h,s,f),null===u?c=h:u.sibling=h,u=h);return as&&Ja(a,f),c}for(h=n(a,h);f<o.length;f++)null!==(y=g(h,a,f,o[f],l))&&(t&&null!==y.alternate&&h.delete(null===y.key?f:y.key),s=r(y,s,f),null===u?c=y:u.sibling=y,u=y);return t&&h.forEach((function(t){return e(a,t)})),as&&Ja(a,f),c}function y(a,o,l,c){var u=z(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,f=o,y=o=0,m=null,x=l.next();null!==f&&!x.done;y++,x=l.next()){f.index>y?(m=f,f=null):m=f.sibling;var b=p(a,f,x.value,c);if(null===b){null===f&&(f=m);break}t&&f&&null===b.alternate&&e(a,f),o=r(b,o,y),null===h?u=b:h.sibling=b,h=b,f=m}if(x.done)return i(a,f),as&&Ja(a,y),u;if(null===f){for(;!x.done;y++,x=l.next())null!==(x=d(a,x.value,c))&&(o=r(x,o,y),null===h?u=x:h.sibling=x,h=x);return as&&Ja(a,y),u}for(f=n(a,f);!x.done;y++,x=l.next())null!==(x=g(f,a,y,x.value,c))&&(t&&null!==x.alternate&&f.delete(null===x.key?y:x.key),o=r(x,o,y),null===h?u=x:h.sibling=x,h=x);return t&&f.forEach((function(t){return e(a,t)})),as&&Ja(a,y),u}return function t(n,s,r,l){if("object"===typeof r&&null!==r&&r.type===I&&null===r.key&&(r=r.props.children),"object"===typeof r&&null!==r){switch(r.$$typeof){case M:t:{for(var c=r.key,u=s;null!==u;){if(u.key===c){if((c=r.type)===I){if(7===u.tag){i(n,u.sibling),(s=a(u,r.props.children)).return=n,n=s;break t}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===E&&xs(c)===u.type){i(n,u.sibling),(s=a(u,r.props)).ref=ys(n,u,r),s.return=n,n=s;break t}i(n,u);break}e(n,u),u=u.sibling}r.type===I?((s=zc(r.props.children,n.mode,l,r.key)).return=n,n=s):((l=Oc(r.type,r.key,r.props,null,n.mode,l)).ref=ys(n,s,r),l.return=n,n=l)}return o(n);case S:t:{for(u=r.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===r.containerInfo&&s.stateNode.implementation===r.implementation){i(n,s.sibling),(s=a(s,r.children||[])).return=n,n=s;break t}i(n,s);break}e(n,s),s=s.sibling}(s=Bc(r,n.mode,l)).return=n,n=s}return o(n);case E:return t(n,s,(u=r._init)(r._payload),l)}if(et(r))return f(n,s,r,l);if(z(r))return y(n,s,r,l);ms(n,r)}return"string"===typeof r&&""!==r||"number"===typeof r?(r=""+r,null!==s&&6===s.tag?(i(n,s.sibling),(s=a(s,r)).return=n,n=s):(i(n,s),(s=Pc(r,n.mode,l)).return=n,n=s),o(n)):i(n,s)}}var vs=bs(!0),Ms=bs(!1),Ss=Da(null),Is=null,Ds=null,ws=null;function Ns(){ws=Ds=Is=null}function Ls(t){var e=Ss.current;wa(Ss),t._currentValue=e}function ks(t,e,i){for(;null!==t;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==n&&(n.childLanes|=e)):null!==n&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===i)break;t=t.return}}function As(t,e){Is=t,ws=Ds=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(bo=!0),t.firstContext=null)}function Cs(t){var e=t._currentValue;if(ws!==t)if(t={context:t,memoizedValue:e,next:null},null===Ds){if(null===Is)throw Error(s(308));Ds=t,Is.dependencies={lanes:0,firstContext:t}}else Ds=Ds.next=t;return e}var Ts=null;function Es(t){null===Ts?Ts=[t]:Ts.push(t)}function Rs(t,e,i,n){var a=e.interleaved;return null===a?(i.next=i,Es(e)):(i.next=a.next,a.next=i),e.interleaved=i,Os(t,n)}function Os(t,e){t.lanes|=e;var i=t.alternate;for(null!==i&&(i.lanes|=e),i=t,t=t.return;null!==t;)t.childLanes|=e,null!==(i=t.alternate)&&(i.childLanes|=e),i=t,t=t.return;return 3===i.tag?i.stateNode:null}var zs=!1;function js(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ps(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Bs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Fs(t,e,i){var n=t.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&kl)){var a=n.pending;return null===a?e.next=e:(e.next=a.next,a.next=e),n.pending=e,Os(t,i)}return null===(a=n.interleaved)?(e.next=e,Es(n)):(e.next=a.next,a.next=e),n.interleaved=e,Os(t,i)}function Gs(t,e,i){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194240&i))){var n=e.lanes;i|=n&=t.pendingLanes,e.lanes=i,xe(t,i)}}function _s(t,e){var i=t.updateQueue,n=t.alternate;if(null!==n&&i===(n=n.updateQueue)){var a=null,s=null;if(null!==(i=i.firstBaseUpdate)){do{var r={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};null===s?a=s=r:s=s.next=r,i=i.next}while(null!==i);null===s?a=s=e:s=s.next=e}else a=s=e;return i={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},void(t.updateQueue=i)}null===(t=i.lastBaseUpdate)?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}function Us(t,e,i,n){var a=t.updateQueue;zs=!1;var s=a.firstBaseUpdate,r=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,c=l.next;l.next=null,null===r?s=c:r.next=c,r=l;var u=t.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==r&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=a.baseState;for(r=0,u=c=l=null,o=s;;){var d=o.lane,p=o.eventTime;if((n&d)===d){null!==u&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});t:{var g=t,f=o;switch(d=e,p=i,f.tag){case 1:if("function"===typeof(g=f.payload)){h=g.call(p,h,d);break t}h=g;break t;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(d="function"===typeof(g=f.payload)?g.call(p,h,d):g)||void 0===d)break t;h=P({},h,d);break t;case 2:zs=!0}}null!==o.callback&&0!==o.lane&&(t.flags|=64,null===(d=a.effects)?a.effects=[o]:d.push(o))}else p={eventTime:p,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=h):u=u.next=p,r|=d;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(d=o).next,d.next=null,a.lastBaseUpdate=d,a.shared.pending=null}}if(null===u&&(l=h),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null!==(e=a.shared.interleaved)){a=e;do{r|=a.lane,a=a.next}while(a!==e)}else null===s&&(a.shared.lanes=0);jl|=r,t.lanes=r,t.memoizedState=h}}function Ys(t,e,i){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var n=t[e],a=n.callback;if(null!==a){if(n.callback=null,n=i,"function"!==typeof a)throw Error(s(191,a));a.call(n)}}}var Vs={},Ws=Da(Vs),Zs=Da(Vs),Hs=Da(Vs);function Ks(t){if(t===Vs)throw Error(s(174));return t}function $s(t,e){switch(Na(Hs,e),Na(Zs,t),Na(Ws,Vs),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lt(null,"");break;default:e=lt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}wa(Ws),Na(Ws,e)}function Qs(){wa(Ws),wa(Zs),wa(Hs)}function Xs(t){Ks(Hs.current);var e=Ks(Ws.current),i=lt(e,t.type);e!==i&&(Na(Zs,t),Na(Ws,i))}function Js(t){Zs.current===t&&(wa(Ws),wa(Zs))}var qs=Da(0);function tr(t){for(var e=t;null!==e;){if(13===e.tag){var i=e.memoizedState;if(null!==i&&(null===(i=i.dehydrated)||"$?"===i.data||"$!"===i.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var er=[];function ir(){for(var t=0;t<er.length;t++)er[t]._workInProgressVersionPrimary=null;er.length=0}var nr=v.ReactCurrentDispatcher,ar=v.ReactCurrentBatchConfig,sr=0,rr=null,or=null,lr=null,cr=!1,ur=!1,hr=0,dr=0;function pr(){throw Error(s(321))}function gr(t,e){if(null===e)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!on(t[i],e[i]))return!1;return!0}function fr(t,e,i,n,a,r){if(sr=r,rr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,nr.current=null===t||null===t.memoizedState?Jr:qr,t=i(n,a),ur){r=0;do{if(ur=!1,hr=0,25<=r)throw Error(s(301));r+=1,lr=or=null,e.updateQueue=null,nr.current=to,t=i(n,a)}while(ur)}if(nr.current=Xr,e=null!==or&&null!==or.next,sr=0,lr=or=rr=null,cr=!1,e)throw Error(s(300));return t}function yr(){var t=0!==hr;return hr=0,t}function mr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lr?rr.memoizedState=lr=t:lr=lr.next=t,lr}function xr(){if(null===or){var t=rr.alternate;t=null!==t?t.memoizedState:null}else t=or.next;var e=null===lr?rr.memoizedState:lr.next;if(null!==e)lr=e,or=t;else{if(null===t)throw Error(s(310));t={memoizedState:(or=t).memoizedState,baseState:or.baseState,baseQueue:or.baseQueue,queue:or.queue,next:null},null===lr?rr.memoizedState=lr=t:lr=lr.next=t}return lr}function br(t,e){return"function"===typeof e?e(t):e}function vr(t){var e=xr(),i=e.queue;if(null===i)throw Error(s(311));i.lastRenderedReducer=t;var n=or,a=n.baseQueue,r=i.pending;if(null!==r){if(null!==a){var o=a.next;a.next=r.next,r.next=o}n.baseQueue=a=r,i.pending=null}if(null!==a){r=a.next,n=n.baseState;var l=o=null,c=null,u=r;do{var h=u.lane;if((sr&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,o=n):c=c.next=d,rr.lanes|=h,jl|=h}u=u.next}while(null!==u&&u!==r);null===c?o=n:c.next=l,on(n,e.memoizedState)||(bo=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,i.lastRenderedState=n}if(null!==(t=i.interleaved)){a=t;do{r=a.lane,rr.lanes|=r,jl|=r,a=a.next}while(a!==t)}else null===a&&(i.lanes=0);return[e.memoizedState,i.dispatch]}function Mr(t){var e=xr(),i=e.queue;if(null===i)throw Error(s(311));i.lastRenderedReducer=t;var n=i.dispatch,a=i.pending,r=e.memoizedState;if(null!==a){i.pending=null;var o=a=a.next;do{r=t(r,o.action),o=o.next}while(o!==a);on(r,e.memoizedState)||(bo=!0),e.memoizedState=r,null===e.baseQueue&&(e.baseState=r),i.lastRenderedState=r}return[r,n]}function Sr(){}function Ir(t,e){var i=rr,n=xr(),a=e(),r=!on(n.memoizedState,a);if(r&&(n.memoizedState=a,bo=!0),n=n.queue,zr(Nr.bind(null,i,n,t),[t]),n.getSnapshot!==e||r||null!==lr&&1&lr.memoizedState.tag){if(i.flags|=2048,Cr(9,wr.bind(null,i,n,a,e),void 0,null),null===Al)throw Error(s(349));0!==(30&sr)||Dr(i,e,a)}return a}function Dr(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},null===(e=rr.updateQueue)?(e={lastEffect:null,stores:null},rr.updateQueue=e,e.stores=[t]):null===(i=e.stores)?e.stores=[t]:i.push(t)}function wr(t,e,i,n){e.value=i,e.getSnapshot=n,Lr(e)&&kr(t)}function Nr(t,e,i){return i((function(){Lr(e)&&kr(t)}))}function Lr(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!on(t,i)}catch(n){return!0}}function kr(t){var e=Os(t,1);null!==e&&ic(e,t,1,-1)}function Ar(t){var e=mr();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:br,lastRenderedState:t},e.queue=t,t=t.dispatch=Hr.bind(null,rr,t),[e.memoizedState,t]}function Cr(t,e,i,n){return t={tag:t,create:e,destroy:i,deps:n,next:null},null===(e=rr.updateQueue)?(e={lastEffect:null,stores:null},rr.updateQueue=e,e.lastEffect=t.next=t):null===(i=e.lastEffect)?e.lastEffect=t.next=t:(n=i.next,i.next=t,t.next=n,e.lastEffect=t),t}function Tr(){return xr().memoizedState}function Er(t,e,i,n){var a=mr();rr.flags|=t,a.memoizedState=Cr(1|e,i,void 0,void 0===n?null:n)}function Rr(t,e,i,n){var a=xr();n=void 0===n?null:n;var s=void 0;if(null!==or){var r=or.memoizedState;if(s=r.destroy,null!==n&&gr(n,r.deps))return void(a.memoizedState=Cr(e,i,s,n))}rr.flags|=t,a.memoizedState=Cr(1|e,i,s,n)}function Or(t,e){return Er(8390656,8,t,e)}function zr(t,e){return Rr(2048,8,t,e)}function jr(t,e){return Rr(4,2,t,e)}function Pr(t,e){return Rr(4,4,t,e)}function Br(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Fr(t,e,i){return i=null!==i&&void 0!==i?i.concat([t]):null,Rr(4,4,Br.bind(null,e,t),i)}function Gr(){}function _r(t,e){var i=xr();e=void 0===e?null:e;var n=i.memoizedState;return null!==n&&null!==e&&gr(e,n[1])?n[0]:(i.memoizedState=[t,e],t)}function Ur(t,e){var i=xr();e=void 0===e?null:e;var n=i.memoizedState;return null!==n&&null!==e&&gr(e,n[1])?n[0]:(t=t(),i.memoizedState=[t,e],t)}function Yr(t,e,i){return 0===(21&sr)?(t.baseState&&(t.baseState=!1,bo=!0),t.memoizedState=i):(on(i,e)||(i=fe(),rr.lanes|=i,jl|=i,t.baseState=!0),e)}function Vr(t,e){var i=be;be=0!==i&&4>i?i:4,t(!0);var n=ar.transition;ar.transition={};try{t(!1),e()}finally{be=i,ar.transition=n}}function Wr(){return xr().memoizedState}function Zr(t,e,i){var n=ec(t);if(i={lane:n,action:i,hasEagerState:!1,eagerState:null,next:null},Kr(t))$r(e,i);else if(null!==(i=Rs(t,e,i,n))){ic(i,t,n,tc()),Qr(i,e,n)}}function Hr(t,e,i){var n=ec(t),a={lane:n,action:i,hasEagerState:!1,eagerState:null,next:null};if(Kr(t))$r(e,a);else{var s=t.alternate;if(0===t.lanes&&(null===s||0===s.lanes)&&null!==(s=e.lastRenderedReducer))try{var r=e.lastRenderedState,o=s(r,i);if(a.hasEagerState=!0,a.eagerState=o,on(o,r)){var l=e.interleaved;return null===l?(a.next=a,Es(e)):(a.next=l.next,l.next=a),void(e.interleaved=a)}}catch(c){}null!==(i=Rs(t,e,a,n))&&(ic(i,t,n,a=tc()),Qr(i,e,n))}}function Kr(t){var e=t.alternate;return t===rr||null!==e&&e===rr}function $r(t,e){ur=cr=!0;var i=t.pending;null===i?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function Qr(t,e,i){if(0!==(4194240&i)){var n=e.lanes;i|=n&=t.pendingLanes,e.lanes=i,xe(t,i)}}var Xr={readContext:Cs,useCallback:pr,useContext:pr,useEffect:pr,useImperativeHandle:pr,useInsertionEffect:pr,useLayoutEffect:pr,useMemo:pr,useReducer:pr,useRef:pr,useState:pr,useDebugValue:pr,useDeferredValue:pr,useTransition:pr,useMutableSource:pr,useSyncExternalStore:pr,useId:pr,unstable_isNewReconciler:!1},Jr={readContext:Cs,useCallback:function(t,e){return mr().memoizedState=[t,void 0===e?null:e],t},useContext:Cs,useEffect:Or,useImperativeHandle:function(t,e,i){return i=null!==i&&void 0!==i?i.concat([t]):null,Er(4194308,4,Br.bind(null,e,t),i)},useLayoutEffect:function(t,e){return Er(4194308,4,t,e)},useInsertionEffect:function(t,e){return Er(4,2,t,e)},useMemo:function(t,e){var i=mr();return e=void 0===e?null:e,t=t(),i.memoizedState=[t,e],t},useReducer:function(t,e,i){var n=mr();return e=void 0!==i?i(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Zr.bind(null,rr,t),[n.memoizedState,t]},useRef:function(t){return t={current:t},mr().memoizedState=t},useState:Ar,useDebugValue:Gr,useDeferredValue:function(t){return mr().memoizedState=t},useTransition:function(){var t=Ar(!1),e=t[0];return t=Vr.bind(null,t[1]),mr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,i){var n=rr,a=mr();if(as){if(void 0===i)throw Error(s(407));i=i()}else{if(i=e(),null===Al)throw Error(s(349));0!==(30&sr)||Dr(n,e,i)}a.memoizedState=i;var r={value:i,getSnapshot:e};return a.queue=r,Or(Nr.bind(null,n,r,t),[t]),n.flags|=2048,Cr(9,wr.bind(null,n,r,i,e),void 0,null),i},useId:function(){var t=mr(),e=Al.identifierPrefix;if(as){var i=Xa;e=":"+e+"R"+(i=(Qa&~(1<<32-re(Qa)-1)).toString(32)+i),0<(i=hr++)&&(e+="H"+i.toString(32)),e+=":"}else e=":"+e+"r"+(i=dr++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},qr={readContext:Cs,useCallback:_r,useContext:Cs,useEffect:zr,useImperativeHandle:Fr,useInsertionEffect:jr,useLayoutEffect:Pr,useMemo:Ur,useReducer:vr,useRef:Tr,useState:function(){return vr(br)},useDebugValue:Gr,useDeferredValue:function(t){return Yr(xr(),or.memoizedState,t)},useTransition:function(){return[vr(br)[0],xr().memoizedState]},useMutableSource:Sr,useSyncExternalStore:Ir,useId:Wr,unstable_isNewReconciler:!1},to={readContext:Cs,useCallback:_r,useContext:Cs,useEffect:zr,useImperativeHandle:Fr,useInsertionEffect:jr,useLayoutEffect:Pr,useMemo:Ur,useReducer:Mr,useRef:Tr,useState:function(){return Mr(br)},useDebugValue:Gr,useDeferredValue:function(t){var e=xr();return null===or?e.memoizedState=t:Yr(e,or.memoizedState,t)},useTransition:function(){return[Mr(br)[0],xr().memoizedState]},useMutableSource:Sr,useSyncExternalStore:Ir,useId:Wr,unstable_isNewReconciler:!1};function eo(t,e){if(t&&t.defaultProps){for(var i in e=P({},e),t=t.defaultProps)void 0===e[i]&&(e[i]=t[i]);return e}return e}function io(t,e,i,n){i=null===(i=i(n,e=t.memoizedState))||void 0===i?e:P({},e,i),t.memoizedState=i,0===t.lanes&&(t.updateQueue.baseState=i)}var no={isMounted:function(t){return!!(t=t._reactInternals)&&Ut(t)===t},enqueueSetState:function(t,e,i){t=t._reactInternals;var n=tc(),a=ec(t),s=Bs(n,a);s.payload=e,void 0!==i&&null!==i&&(s.callback=i),null!==(e=Fs(t,s,a))&&(ic(e,t,a,n),Gs(e,t,a))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var n=tc(),a=ec(t),s=Bs(n,a);s.tag=1,s.payload=e,void 0!==i&&null!==i&&(s.callback=i),null!==(e=Fs(t,s,a))&&(ic(e,t,a,n),Gs(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=tc(),n=ec(t),a=Bs(i,n);a.tag=2,void 0!==e&&null!==e&&(a.callback=e),null!==(e=Fs(t,a,n))&&(ic(e,t,n,i),Gs(e,t,n))}};function ao(t,e,i,n,a,s,r){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(n,s,r):!e.prototype||!e.prototype.isPureReactComponent||(!ln(i,n)||!ln(a,s))}function so(t,e,i){var n=!1,a=La,s=e.contextType;return"object"===typeof s&&null!==s?s=Cs(s):(a=Ea(e)?Ca:ka.current,s=(n=null!==(n=e.contextTypes)&&void 0!==n)?Ta(t,a):La),e=new e(i,s),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=no,t.stateNode=e,e._reactInternals=t,n&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=s),e}function ro(t,e,i,n){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(i,n),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(i,n),e.state!==t&&no.enqueueReplaceState(e,e.state,null)}function oo(t,e,i,n){var a=t.stateNode;a.props=i,a.state=t.memoizedState,a.refs={},js(t);var s=e.contextType;"object"===typeof s&&null!==s?a.context=Cs(s):(s=Ea(e)?Ca:ka.current,a.context=Ta(t,s)),a.state=t.memoizedState,"function"===typeof(s=e.getDerivedStateFromProps)&&(io(t,e,s,i),a.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(e=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),e!==a.state&&no.enqueueReplaceState(a,a.state,null),Us(t,i,a,n),a.state=t.memoizedState),"function"===typeof a.componentDidMount&&(t.flags|=4194308)}function lo(t,e){try{var i="",n=e;do{i+=_(n),n=n.return}while(n);var a=i}catch(s){a="\nError generating stack: "+s.message+"\n"+s.stack}return{value:t,source:e,stack:a,digest:null}}function co(t,e,i){return{value:t,source:null,stack:null!=i?i:null,digest:null!=e?e:null}}function uo(t,e){try{console.error(e.value)}catch(i){setTimeout((function(){throw i}))}}var ho="function"===typeof WeakMap?WeakMap:Map;function po(t,e,i){(i=Bs(-1,i)).tag=3,i.payload={element:null};var n=e.value;return i.callback=function(){Vl||(Vl=!0,Wl=n),uo(0,e)},i}function go(t,e,i){(i=Bs(-1,i)).tag=3;var n=t.type.getDerivedStateFromError;if("function"===typeof n){var a=e.value;i.payload=function(){return n(a)},i.callback=function(){uo(0,e)}}var s=t.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(i.callback=function(){uo(0,e),"function"!==typeof n&&(null===Zl?Zl=new Set([this]):Zl.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),i}function fo(t,e,i){var n=t.pingCache;if(null===n){n=t.pingCache=new ho;var a=new Set;n.set(e,a)}else void 0===(a=n.get(e))&&(a=new Set,n.set(e,a));a.has(i)||(a.add(i),t=wc.bind(null,t,e,i),e.then(t,t))}function yo(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function mo(t,e,i,n,a){return 0===(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,i.flags|=131072,i.flags&=-52805,1===i.tag&&(null===i.alternate?i.tag=17:((e=Bs(-1,1)).tag=2,Fs(i,e,1))),i.lanes|=1),t):(t.flags|=65536,t.lanes=a,t)}var xo=v.ReactCurrentOwner,bo=!1;function vo(t,e,i,n){e.child=null===t?Ms(e,null,i,n):vs(e,t.child,i,n)}function Mo(t,e,i,n,a){i=i.render;var s=e.ref;return As(e,a),n=fr(t,e,i,n,s,a),i=yr(),null===t||bo?(as&&i&&ts(e),e.flags|=1,vo(t,e,n,a),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,Vo(t,e,a))}function So(t,e,i,n,a){if(null===t){var s=i.type;return"function"!==typeof s||Ec(s)||void 0!==s.defaultProps||null!==i.compare||void 0!==i.defaultProps?((t=Oc(i.type,null,n,e,e.mode,a)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=s,Io(t,e,s,n,a))}if(s=t.child,0===(t.lanes&a)){var r=s.memoizedProps;if((i=null!==(i=i.compare)?i:ln)(r,n)&&t.ref===e.ref)return Vo(t,e,a)}return e.flags|=1,(t=Rc(s,n)).ref=e.ref,t.return=e,e.child=t}function Io(t,e,i,n,a){if(null!==t){var s=t.memoizedProps;if(ln(s,n)&&t.ref===e.ref){if(bo=!1,e.pendingProps=n=s,0===(t.lanes&a))return e.lanes=t.lanes,Vo(t,e,a);0!==(131072&t.flags)&&(bo=!0)}}return No(t,e,i,n,a)}function Do(t,e,i){var n=e.pendingProps,a=n.children,s=null!==t?t.memoizedState:null;if("hidden"===n.mode)if(0===(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Na(Rl,El),El|=i;else{if(0===(1073741824&i))return t=null!==s?s.baseLanes|i:i,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Na(Rl,El),El|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==s?s.baseLanes:i,Na(Rl,El),El|=n}else null!==s?(n=s.baseLanes|i,e.memoizedState=null):n=i,Na(Rl,El),El|=n;return vo(t,e,a,i),e.child}function wo(t,e){var i=e.ref;(null===t&&null!==i||null!==t&&t.ref!==i)&&(e.flags|=512,e.flags|=2097152)}function No(t,e,i,n,a){var s=Ea(i)?Ca:ka.current;return s=Ta(e,s),As(e,a),i=fr(t,e,i,n,s,a),n=yr(),null===t||bo?(as&&n&&ts(e),e.flags|=1,vo(t,e,i,a),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,Vo(t,e,a))}function Lo(t,e,i,n,a){if(Ea(i)){var s=!0;ja(e)}else s=!1;if(As(e,a),null===e.stateNode)Yo(t,e),so(e,i,n),oo(e,i,n,a),n=!0;else if(null===t){var r=e.stateNode,o=e.memoizedProps;r.props=o;var l=r.context,c=i.contextType;"object"===typeof c&&null!==c?c=Cs(c):c=Ta(e,c=Ea(i)?Ca:ka.current);var u=i.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof r.getSnapshotBeforeUpdate;h||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(o!==n||l!==c)&&ro(e,r,n,c),zs=!1;var d=e.memoizedState;r.state=d,Us(e,n,r,a),l=e.memoizedState,o!==n||d!==l||Aa.current||zs?("function"===typeof u&&(io(e,i,u,n),l=e.memoizedState),(o=zs||ao(e,i,o,n,d,l,c))?(h||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||("function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount()),"function"===typeof r.componentDidMount&&(e.flags|=4194308)):("function"===typeof r.componentDidMount&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),r.props=n,r.state=l,r.context=c,n=o):("function"===typeof r.componentDidMount&&(e.flags|=4194308),n=!1)}else{r=e.stateNode,Ps(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:eo(e.type,o),r.props=c,h=e.pendingProps,d=r.context,"object"===typeof(l=i.contextType)&&null!==l?l=Cs(l):l=Ta(e,l=Ea(i)?Ca:ka.current);var p=i.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof r.getSnapshotBeforeUpdate)||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(o!==h||d!==l)&&ro(e,r,n,l),zs=!1,d=e.memoizedState,r.state=d,Us(e,n,r,a);var g=e.memoizedState;o!==h||d!==g||Aa.current||zs?("function"===typeof p&&(io(e,i,p,n),g=e.memoizedState),(c=zs||ao(e,i,c,n,d,g,l)||!1)?(u||"function"!==typeof r.UNSAFE_componentWillUpdate&&"function"!==typeof r.componentWillUpdate||("function"===typeof r.componentWillUpdate&&r.componentWillUpdate(n,g,l),"function"===typeof r.UNSAFE_componentWillUpdate&&r.UNSAFE_componentWillUpdate(n,g,l)),"function"===typeof r.componentDidUpdate&&(e.flags|=4),"function"===typeof r.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof r.componentDidUpdate||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),r.props=n,r.state=g,r.context=l,n=c):("function"!==typeof r.componentDidUpdate||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),n=!1)}return ko(t,e,i,n,s,a)}function ko(t,e,i,n,a,s){wo(t,e);var r=0!==(128&e.flags);if(!n&&!r)return a&&Pa(e,i,!1),Vo(t,e,s);n=e.stateNode,xo.current=e;var o=r&&"function"!==typeof i.getDerivedStateFromError?null:n.render();return e.flags|=1,null!==t&&r?(e.child=vs(e,t.child,null,s),e.child=vs(e,null,o,s)):vo(t,e,o,s),e.memoizedState=n.state,a&&Pa(e,i,!0),e.child}function Ao(t){var e=t.stateNode;e.pendingContext?Oa(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Oa(0,e.context,!1),$s(t,e.containerInfo)}function Co(t,e,i,n,a){return ps(),gs(a),e.flags|=256,vo(t,e,i,n),e.child}var To,Eo,Ro,Oo,zo={dehydrated:null,treeContext:null,retryLane:0};function jo(t){return{baseLanes:t,cachePool:null,transitions:null}}function Po(t,e,i){var n,a=e.pendingProps,r=qs.current,o=!1,l=0!==(128&e.flags);if((n=l)||(n=(null===t||null!==t.memoizedState)&&0!==(2&r)),n?(o=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(r|=1),Na(qs,1&r),null===t)return cs(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0===(1&e.mode)?e.lanes=1:"$!"===t.data?e.lanes=8:e.lanes=1073741824,null):(l=a.children,t=a.fallback,o?(a=e.mode,o=e.child,l={mode:"hidden",children:l},0===(1&a)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=jc(l,a,0,null),t=zc(t,a,i,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=jo(i),e.memoizedState=zo,t):Bo(e,l));if(null!==(r=t.memoizedState)&&null!==(n=r.dehydrated))return function(t,e,i,n,a,r,o){if(i)return 256&e.flags?(e.flags&=-257,Fo(t,e,o,n=co(Error(s(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(r=n.fallback,a=e.mode,n=jc({mode:"visible",children:n.children},a,0,null),(r=zc(r,a,o,null)).flags|=2,n.return=e,r.return=e,n.sibling=r,e.child=n,0!==(1&e.mode)&&vs(e,t.child,null,o),e.child.memoizedState=jo(o),e.memoizedState=zo,r);if(0===(1&e.mode))return Fo(t,e,o,null);if("$!"===a.data){if(n=a.nextSibling&&a.nextSibling.dataset)var l=n.dgst;return n=l,Fo(t,e,o,n=co(r=Error(s(419)),n,void 0))}if(l=0!==(o&t.childLanes),bo||l){if(null!==(n=Al)){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(n.suspendedLanes|o))?0:a)&&a!==r.retryLane&&(r.retryLane=a,Os(t,a),ic(n,t,a,-1))}return fc(),Fo(t,e,o,n=co(Error(s(421))))}return"$?"===a.data?(e.flags|=128,e.child=t.child,e=Lc.bind(null,t),a._reactRetry=e,null):(t=r.treeContext,ns=ca(a.nextSibling),is=e,as=!0,ss=null,null!==t&&(Ha[Ka++]=Qa,Ha[Ka++]=Xa,Ha[Ka++]=$a,Qa=t.id,Xa=t.overflow,$a=e),e=Bo(e,n.children),e.flags|=4096,e)}(t,e,l,a,n,r,i);if(o){o=a.fallback,l=e.mode,n=(r=t.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&e.child!==r?((a=e.child).childLanes=0,a.pendingProps=c,e.deletions=null):(a=Rc(r,c)).subtreeFlags=14680064&r.subtreeFlags,null!==n?o=Rc(n,o):(o=zc(o,l,i,null)).flags|=2,o.return=e,a.return=e,a.sibling=o,e.child=a,a=o,o=e.child,l=null===(l=t.child.memoizedState)?jo(i):{baseLanes:l.baseLanes|i,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=t.childLanes&~i,e.memoizedState=zo,a}return t=(o=t.child).sibling,a=Rc(o,{mode:"visible",children:a.children}),0===(1&e.mode)&&(a.lanes=i),a.return=e,a.sibling=null,null!==t&&(null===(i=e.deletions)?(e.deletions=[t],e.flags|=16):i.push(t)),e.child=a,e.memoizedState=null,a}function Bo(t,e){return(e=jc({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function Fo(t,e,i,n){return null!==n&&gs(n),vs(e,t.child,null,i),(t=Bo(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function Go(t,e,i){t.lanes|=e;var n=t.alternate;null!==n&&(n.lanes|=e),ks(t.return,e,i)}function _o(t,e,i,n,a){var s=t.memoizedState;null===s?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:i,tailMode:a}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=i,s.tailMode=a)}function Uo(t,e,i){var n=e.pendingProps,a=n.revealOrder,s=n.tail;if(vo(t,e,n.children,i),0!==(2&(n=qs.current)))n=1&n|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Go(t,i,e);else if(19===t.tag)Go(t,i,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Na(qs,n),0===(1&e.mode))e.memoizedState=null;else switch(a){case"forwards":for(i=e.child,a=null;null!==i;)null!==(t=i.alternate)&&null===tr(t)&&(a=i),i=i.sibling;null===(i=a)?(a=e.child,e.child=null):(a=i.sibling,i.sibling=null),_o(e,!1,a,i,s);break;case"backwards":for(i=null,a=e.child,e.child=null;null!==a;){if(null!==(t=a.alternate)&&null===tr(t)){e.child=a;break}t=a.sibling,a.sibling=i,i=a,a=t}_o(e,!0,i,null,s);break;case"together":_o(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Yo(t,e){0===(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Vo(t,e,i){if(null!==t&&(e.dependencies=t.dependencies),jl|=e.lanes,0===(i&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(s(153));if(null!==e.child){for(i=Rc(t=e.child,t.pendingProps),e.child=i,i.return=e;null!==t.sibling;)t=t.sibling,(i=i.sibling=Rc(t,t.pendingProps)).return=e;i.sibling=null}return e.child}function Wo(t,e){if(!as)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;null!==e;)null!==e.alternate&&(i=e),e=e.sibling;null===i?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var n=null;null!==i;)null!==i.alternate&&(n=i),i=i.sibling;null===n?e||null===t.tail?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Zo(t){var e=null!==t.alternate&&t.alternate.child===t.child,i=0,n=0;if(e)for(var a=t.child;null!==a;)i|=a.lanes|a.childLanes,n|=14680064&a.subtreeFlags,n|=14680064&a.flags,a.return=t,a=a.sibling;else for(a=t.child;null!==a;)i|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=n,t.childLanes=i,e}function Ho(t,e,i){var n=e.pendingProps;switch(es(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zo(e),null;case 1:case 17:return Ea(e.type)&&Ra(),Zo(e),null;case 3:return n=e.stateNode,Qs(),wa(Aa),wa(ka),ir(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==t&&null!==t.child||(hs(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==ss&&(rc(ss),ss=null))),Eo(t,e),Zo(e),null;case 5:Js(e);var a=Ks(Hs.current);if(i=e.type,null!==t&&null!=e.stateNode)Ro(t,e,i,n,a),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(null===e.stateNode)throw Error(s(166));return Zo(e),null}if(t=Ks(Ws.current),hs(e)){n=e.stateNode,i=e.type;var r=e.memoizedProps;switch(n[da]=e,n[pa]=r,t=0!==(1&e.mode),i){case"dialog":Fn("cancel",n),Fn("close",n);break;case"iframe":case"object":case"embed":Fn("load",n);break;case"video":case"audio":for(a=0;a<zn.length;a++)Fn(zn[a],n);break;case"source":Fn("error",n);break;case"img":case"image":case"link":Fn("error",n),Fn("load",n);break;case"details":Fn("toggle",n);break;case"input":Q(n,r),Fn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!r.multiple},Fn("invalid",n);break;case"textarea":at(n,r),Fn("invalid",n)}for(var l in xt(i,r),a=null,r)if(r.hasOwnProperty(l)){var c=r[l];"children"===l?"string"===typeof c?n.textContent!==c&&(!0!==r.suppressHydrationWarning&&Jn(n.textContent,c,t),a=["children",c]):"number"===typeof c&&n.textContent!==""+c&&(!0!==r.suppressHydrationWarning&&Jn(n.textContent,c,t),a=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fn("scroll",n)}switch(i){case"input":Z(n),q(n,r,!0);break;case"textarea":Z(n),rt(n);break;case"select":case"option":break;default:"function"===typeof r.onClick&&(n.onclick=qn)}n=a,e.updateQueue=n,null!==n&&(e.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=ot(i)),"http://www.w3.org/1999/xhtml"===t?"script"===i?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof n.is?t=l.createElement(i,{is:n.is}):(t=l.createElement(i),"select"===i&&(l=t,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):t=l.createElementNS(t,i),t[da]=e,t[pa]=n,To(t,e,!1,!1),e.stateNode=t;t:{switch(l=bt(i,n),i){case"dialog":Fn("cancel",t),Fn("close",t),a=n;break;case"iframe":case"object":case"embed":Fn("load",t),a=n;break;case"video":case"audio":for(a=0;a<zn.length;a++)Fn(zn[a],t);a=n;break;case"source":Fn("error",t),a=n;break;case"img":case"image":case"link":Fn("error",t),Fn("load",t),a=n;break;case"details":Fn("toggle",t),a=n;break;case"input":Q(t,n),a=$(t,n),Fn("invalid",t);break;case"option":default:a=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},a=P({},n,{value:void 0}),Fn("invalid",t);break;case"textarea":at(t,n),a=nt(t,n),Fn("invalid",t)}for(r in xt(i,a),c=a)if(c.hasOwnProperty(r)){var u=c[r];"style"===r?yt(t,u):"dangerouslySetInnerHTML"===r?null!=(u=u?u.__html:void 0)&&ht(t,u):"children"===r?"string"===typeof u?("textarea"!==i||""!==u)&&dt(t,u):"number"===typeof u&&dt(t,""+u):"suppressContentEditableWarning"!==r&&"suppressHydrationWarning"!==r&&"autoFocus"!==r&&(o.hasOwnProperty(r)?null!=u&&"onScroll"===r&&Fn("scroll",t):null!=u&&b(t,r,u,l))}switch(i){case"input":Z(t),q(t,n,!1);break;case"textarea":Z(t),rt(t);break;case"option":null!=n.value&&t.setAttribute("value",""+V(n.value));break;case"select":t.multiple=!!n.multiple,null!=(r=n.value)?it(t,!!n.multiple,r,!1):null!=n.defaultValue&&it(t,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof a.onClick&&(t.onclick=qn)}switch(i){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break t;case"img":n=!0;break t;default:n=!1}}n&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return Zo(e),null;case 6:if(t&&null!=e.stateNode)Oo(t,e,t.memoizedProps,n);else{if("string"!==typeof n&&null===e.stateNode)throw Error(s(166));if(i=Ks(Hs.current),Ks(Ws.current),hs(e)){if(n=e.stateNode,i=e.memoizedProps,n[da]=e,(r=n.nodeValue!==i)&&null!==(t=is))switch(t.tag){case 3:Jn(n.nodeValue,i,0!==(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&Jn(n.nodeValue,i,0!==(1&t.mode))}r&&(e.flags|=4)}else(n=(9===i.nodeType?i:i.ownerDocument).createTextNode(n))[da]=e,e.stateNode=n}return Zo(e),null;case 13:if(wa(qs),n=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(as&&null!==ns&&0!==(1&e.mode)&&0===(128&e.flags))ds(),ps(),e.flags|=98560,r=!1;else if(r=hs(e),null!==n&&null!==n.dehydrated){if(null===t){if(!r)throw Error(s(318));if(!(r=null!==(r=e.memoizedState)?r.dehydrated:null))throw Error(s(317));r[da]=e}else ps(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;Zo(e),r=!1}else null!==ss&&(rc(ss),ss=null),r=!0;if(!r)return 65536&e.flags?e:null}return 0!==(128&e.flags)?(e.lanes=i,e):((n=null!==n)!==(null!==t&&null!==t.memoizedState)&&n&&(e.child.flags|=8192,0!==(1&e.mode)&&(null===t||0!==(1&qs.current)?0===Ol&&(Ol=3):fc())),null!==e.updateQueue&&(e.flags|=4),Zo(e),null);case 4:return Qs(),Eo(t,e),null===t&&Un(e.stateNode.containerInfo),Zo(e),null;case 10:return Ls(e.type._context),Zo(e),null;case 19:if(wa(qs),null===(r=e.memoizedState))return Zo(e),null;if(n=0!==(128&e.flags),null===(l=r.rendering))if(n)Wo(r,!1);else{if(0!==Ol||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(l=tr(t))){for(e.flags|=128,Wo(r,!1),null!==(n=l.updateQueue)&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=i,i=e.child;null!==i;)t=n,(r=i).flags&=14680066,null===(l=r.alternate)?(r.childLanes=0,r.lanes=t,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,t=l.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),i=i.sibling;return Na(qs,1&qs.current|2),e.child}t=t.sibling}null!==r.tail&&Xt()>Ul&&(e.flags|=128,n=!0,Wo(r,!1),e.lanes=4194304)}else{if(!n)if(null!==(t=tr(l))){if(e.flags|=128,n=!0,null!==(i=t.updateQueue)&&(e.updateQueue=i,e.flags|=4),Wo(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!as)return Zo(e),null}else 2*Xt()-r.renderingStartTime>Ul&&1073741824!==i&&(e.flags|=128,n=!0,Wo(r,!1),e.lanes=4194304);r.isBackwards?(l.sibling=e.child,e.child=l):(null!==(i=r.last)?i.sibling=l:e.child=l,r.last=l)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Xt(),e.sibling=null,i=qs.current,Na(qs,n?1&i|2:1&i),e):(Zo(e),null);case 22:case 23:return hc(),n=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==n&&(e.flags|=8192),n&&0!==(1&e.mode)?0!==(1073741824&El)&&(Zo(e),6&e.subtreeFlags&&(e.flags|=8192)):Zo(e),null;case 24:case 25:return null}throw Error(s(156,e.tag))}function Ko(t,e){switch(es(e),e.tag){case 1:return Ea(e.type)&&Ra(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return Qs(),wa(Aa),wa(ka),ir(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 5:return Js(e),null;case 13:if(wa(qs),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(s(340));ps()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return wa(qs),null;case 4:return Qs(),null;case 10:return Ls(e.type._context),null;case 22:case 23:return hc(),null;default:return null}}To=function(t,e){for(var i=e.child;null!==i;){if(5===i.tag||6===i.tag)t.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Eo=function(){},Ro=function(t,e,i,n){var a=t.memoizedProps;if(a!==n){t=e.stateNode,Ks(Ws.current);var s,r=null;switch(i){case"input":a=$(t,a),n=$(t,n),r=[];break;case"select":a=P({},a,{value:void 0}),n=P({},n,{value:void 0}),r=[];break;case"textarea":a=nt(t,a),n=nt(t,n),r=[];break;default:"function"!==typeof a.onClick&&"function"===typeof n.onClick&&(t.onclick=qn)}for(u in xt(i,n),i=null,a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var l=a[u];for(s in l)l.hasOwnProperty(s)&&(i||(i={}),i[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?r||(r=[]):(r=r||[]).push(u,null));for(u in n){var c=n[u];if(l=null!=a?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(i||(i={}),i[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(i||(i={}),i[s]=c[s])}else i||(r||(r=[]),r.push(u,i)),i=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(r=r||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(r=r||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fn("scroll",t),r||l===c||(r=[])):(r=r||[]).push(u,c))}i&&(r=r||[]).push("style",i);var u=r;(e.updateQueue=u)&&(e.flags|=4)}},Oo=function(t,e,i,n){i!==n&&(e.flags|=4)};var $o=!1,Qo=!1,Xo="function"===typeof WeakSet?WeakSet:Set,Jo=null;function qo(t,e){var i=t.ref;if(null!==i)if("function"===typeof i)try{i(null)}catch(n){Dc(t,e,n)}else i.current=null}function tl(t,e,i){try{i()}catch(n){Dc(t,e,n)}}var el=!1;function il(t,e,i){var n=e.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var a=n=n.next;do{if((a.tag&t)===t){var s=a.destroy;a.destroy=void 0,void 0!==s&&tl(e,i,s)}a=a.next}while(a!==n)}}function nl(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var i=e=e.next;do{if((i.tag&t)===t){var n=i.create;i.destroy=n()}i=i.next}while(i!==e)}}function al(t){var e=t.ref;if(null!==e){var i=t.stateNode;t.tag,t=i,"function"===typeof e?e(t):e.current=t}}function sl(t){var e=t.alternate;null!==e&&(t.alternate=null,sl(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[da],delete e[pa],delete e[fa],delete e[ya],delete e[ma])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function rl(t){return 5===t.tag||3===t.tag||4===t.tag}function ol(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||rl(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function ll(t,e,i){var n=t.tag;if(5===n||6===n)t=t.stateNode,e?8===i.nodeType?i.parentNode.insertBefore(t,e):i.insertBefore(t,e):(8===i.nodeType?(e=i.parentNode).insertBefore(t,i):(e=i).appendChild(t),null!==(i=i._reactRootContainer)&&void 0!==i||null!==e.onclick||(e.onclick=qn));else if(4!==n&&null!==(t=t.child))for(ll(t,e,i),t=t.sibling;null!==t;)ll(t,e,i),t=t.sibling}function cl(t,e,i){var n=t.tag;if(5===n||6===n)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(4!==n&&null!==(t=t.child))for(cl(t,e,i),t=t.sibling;null!==t;)cl(t,e,i),t=t.sibling}var ul=null,hl=!1;function dl(t,e,i){for(i=i.child;null!==i;)pl(t,e,i),i=i.sibling}function pl(t,e,i){if(se&&"function"===typeof se.onCommitFiberUnmount)try{se.onCommitFiberUnmount(ae,i)}catch(o){}switch(i.tag){case 5:Qo||qo(i,e);case 6:var n=ul,a=hl;ul=null,dl(t,e,i),hl=a,null!==(ul=n)&&(hl?(t=ul,i=i.stateNode,8===t.nodeType?t.parentNode.removeChild(i):t.removeChild(i)):ul.removeChild(i.stateNode));break;case 18:null!==ul&&(hl?(t=ul,i=i.stateNode,8===t.nodeType?la(t.parentNode,i):1===t.nodeType&&la(t,i),Ue(t)):la(ul,i.stateNode));break;case 4:n=ul,a=hl,ul=i.stateNode.containerInfo,hl=!0,dl(t,e,i),ul=n,hl=a;break;case 0:case 11:case 14:case 15:if(!Qo&&(null!==(n=i.updateQueue)&&null!==(n=n.lastEffect))){a=n=n.next;do{var s=a,r=s.destroy;s=s.tag,void 0!==r&&(0!==(2&s)||0!==(4&s))&&tl(i,e,r),a=a.next}while(a!==n)}dl(t,e,i);break;case 1:if(!Qo&&(qo(i,e),"function"===typeof(n=i.stateNode).componentWillUnmount))try{n.props=i.memoizedProps,n.state=i.memoizedState,n.componentWillUnmount()}catch(o){Dc(i,e,o)}dl(t,e,i);break;case 21:dl(t,e,i);break;case 22:1&i.mode?(Qo=(n=Qo)||null!==i.memoizedState,dl(t,e,i),Qo=n):dl(t,e,i);break;default:dl(t,e,i)}}function gl(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var i=t.stateNode;null===i&&(i=t.stateNode=new Xo),e.forEach((function(e){var n=kc.bind(null,t,e);i.has(e)||(i.add(e),e.then(n,n))}))}}function fl(t,e){var i=e.deletions;if(null!==i)for(var n=0;n<i.length;n++){var a=i[n];try{var r=t,o=e,l=o;t:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,hl=!1;break t;case 3:case 4:ul=l.stateNode.containerInfo,hl=!0;break t}l=l.return}if(null===ul)throw Error(s(160));pl(r,o,a),ul=null,hl=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(u){Dc(a,e,u)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)yl(e,t),e=e.sibling}function yl(t,e){var i=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(fl(e,t),ml(t),4&n){try{il(3,t,t.return),nl(3,t)}catch(y){Dc(t,t.return,y)}try{il(5,t,t.return)}catch(y){Dc(t,t.return,y)}}break;case 1:fl(e,t),ml(t),512&n&&null!==i&&qo(i,i.return);break;case 5:if(fl(e,t),ml(t),512&n&&null!==i&&qo(i,i.return),32&t.flags){var a=t.stateNode;try{dt(a,"")}catch(y){Dc(t,t.return,y)}}if(4&n&&null!=(a=t.stateNode)){var r=t.memoizedProps,o=null!==i?i.memoizedProps:r,l=t.type,c=t.updateQueue;if(t.updateQueue=null,null!==c)try{"input"===l&&"radio"===r.type&&null!=r.name&&X(a,r),bt(l,o);var u=bt(l,r);for(o=0;o<c.length;o+=2){var h=c[o],d=c[o+1];"style"===h?yt(a,d):"dangerouslySetInnerHTML"===h?ht(a,d):"children"===h?dt(a,d):b(a,h,d,u)}switch(l){case"input":J(a,r);break;case"textarea":st(a,r);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!r.multiple;var g=r.value;null!=g?it(a,!!r.multiple,g,!1):p!==!!r.multiple&&(null!=r.defaultValue?it(a,!!r.multiple,r.defaultValue,!0):it(a,!!r.multiple,r.multiple?[]:"",!1))}a[pa]=r}catch(y){Dc(t,t.return,y)}}break;case 6:if(fl(e,t),ml(t),4&n){if(null===t.stateNode)throw Error(s(162));a=t.stateNode,r=t.memoizedProps;try{a.nodeValue=r}catch(y){Dc(t,t.return,y)}}break;case 3:if(fl(e,t),ml(t),4&n&&null!==i&&i.memoizedState.isDehydrated)try{Ue(e.containerInfo)}catch(y){Dc(t,t.return,y)}break;case 4:default:fl(e,t),ml(t);break;case 13:fl(e,t),ml(t),8192&(a=t.child).flags&&(r=null!==a.memoizedState,a.stateNode.isHidden=r,!r||null!==a.alternate&&null!==a.alternate.memoizedState||(_l=Xt())),4&n&&gl(t);break;case 22:if(h=null!==i&&null!==i.memoizedState,1&t.mode?(Qo=(u=Qo)||h,fl(e,t),Qo=u):fl(e,t),ml(t),8192&n){if(u=null!==t.memoizedState,(t.stateNode.isHidden=u)&&!h&&0!==(1&t.mode))for(Jo=t,h=t.child;null!==h;){for(d=Jo=h;null!==Jo;){switch(g=(p=Jo).child,p.tag){case 0:case 11:case 14:case 15:il(4,p,p.return);break;case 1:qo(p,p.return);var f=p.stateNode;if("function"===typeof f.componentWillUnmount){n=p,i=p.return;try{e=n,f.props=e.memoizedProps,f.state=e.memoizedState,f.componentWillUnmount()}catch(y){Dc(n,i,y)}}break;case 5:qo(p,p.return);break;case 22:if(null!==p.memoizedState){Ml(d);continue}}null!==g?(g.return=p,Jo=g):Ml(d)}h=h.sibling}t:for(h=null,d=t;;){if(5===d.tag){if(null===h){h=d;try{a=d.stateNode,u?"function"===typeof(r=a.style).setProperty?r.setProperty("display","none","important"):r.display="none":(l=d.stateNode,o=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=ft("display",o))}catch(y){Dc(t,t.return,y)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){Dc(t,t.return,y)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===t)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===t)break t;for(;null===d.sibling;){if(null===d.return||d.return===t)break t;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:fl(e,t),ml(t),4&n&&gl(t);case 21:}}function ml(t){var e=t.flags;if(2&e){try{t:{for(var i=t.return;null!==i;){if(rl(i)){var n=i;break t}i=i.return}throw Error(s(160))}switch(n.tag){case 5:var a=n.stateNode;32&n.flags&&(dt(a,""),n.flags&=-33),cl(t,ol(t),a);break;case 3:case 4:var r=n.stateNode.containerInfo;ll(t,ol(t),r);break;default:throw Error(s(161))}}catch(o){Dc(t,t.return,o)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function xl(t,e,i){Jo=t,bl(t,e,i)}function bl(t,e,i){for(var n=0!==(1&t.mode);null!==Jo;){var a=Jo,s=a.child;if(22===a.tag&&n){var r=null!==a.memoizedState||$o;if(!r){var o=a.alternate,l=null!==o&&null!==o.memoizedState||Qo;o=$o;var c=Qo;if($o=r,(Qo=l)&&!c)for(Jo=a;null!==Jo;)l=(r=Jo).child,22===r.tag&&null!==r.memoizedState?Sl(a):null!==l?(l.return=r,Jo=l):Sl(a);for(;null!==s;)Jo=s,bl(s,e,i),s=s.sibling;Jo=a,$o=o,Qo=c}vl(t)}else 0!==(8772&a.subtreeFlags)&&null!==s?(s.return=a,Jo=s):vl(t)}}function vl(t){for(;null!==Jo;){var e=Jo;if(0!==(8772&e.flags)){var i=e.alternate;try{if(0!==(8772&e.flags))switch(e.tag){case 0:case 11:case 15:Qo||nl(5,e);break;case 1:var n=e.stateNode;if(4&e.flags&&!Qo)if(null===i)n.componentDidMount();else{var a=e.elementType===e.type?i.memoizedProps:eo(e.type,i.memoizedProps);n.componentDidUpdate(a,i.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;null!==r&&Ys(e,r,n);break;case 3:var o=e.updateQueue;if(null!==o){if(i=null,null!==e.child)switch(e.child.tag){case 5:case 1:i=e.child.stateNode}Ys(e,o,i)}break;case 5:var l=e.stateNode;if(null===i&&4&e.flags){i=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&i.focus();break;case"img":c.src&&(i.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var u=e.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Ue(d)}}}break;default:throw Error(s(163))}Qo||512&e.flags&&al(e)}catch(p){Dc(e,e.return,p)}}if(e===t){Jo=null;break}if(null!==(i=e.sibling)){i.return=e.return,Jo=i;break}Jo=e.return}}function Ml(t){for(;null!==Jo;){var e=Jo;if(e===t){Jo=null;break}var i=e.sibling;if(null!==i){i.return=e.return,Jo=i;break}Jo=e.return}}function Sl(t){for(;null!==Jo;){var e=Jo;try{switch(e.tag){case 0:case 11:case 15:var i=e.return;try{nl(4,e)}catch(l){Dc(e,i,l)}break;case 1:var n=e.stateNode;if("function"===typeof n.componentDidMount){var a=e.return;try{n.componentDidMount()}catch(l){Dc(e,a,l)}}var s=e.return;try{al(e)}catch(l){Dc(e,s,l)}break;case 5:var r=e.return;try{al(e)}catch(l){Dc(e,r,l)}}}catch(l){Dc(e,e.return,l)}if(e===t){Jo=null;break}var o=e.sibling;if(null!==o){o.return=e.return,Jo=o;break}Jo=e.return}}var Il,Dl=Math.ceil,wl=v.ReactCurrentDispatcher,Nl=v.ReactCurrentOwner,Ll=v.ReactCurrentBatchConfig,kl=0,Al=null,Cl=null,Tl=0,El=0,Rl=Da(0),Ol=0,zl=null,jl=0,Pl=0,Bl=0,Fl=null,Gl=null,_l=0,Ul=1/0,Yl=null,Vl=!1,Wl=null,Zl=null,Hl=!1,Kl=null,$l=0,Ql=0,Xl=null,Jl=-1,ql=0;function tc(){return 0!==(6&kl)?Xt():-1!==Jl?Jl:Jl=Xt()}function ec(t){return 0===(1&t.mode)?1:0!==(2&kl)&&0!==Tl?Tl&-Tl:null!==fs.transition?(0===ql&&(ql=fe()),ql):0!==(t=be)?t:t=void 0===(t=window.event)?16:Qe(t.type)}function ic(t,e,i,n){if(50<Ql)throw Ql=0,Xl=null,Error(s(185));me(t,i,n),0!==(2&kl)&&t===Al||(t===Al&&(0===(2&kl)&&(Pl|=i),4===Ol&&oc(t,Tl)),nc(t,n),1===i&&0===kl&&0===(1&e.mode)&&(Ul=Xt()+500,Fa&&Ua()))}function nc(t,e){var i=t.callbackNode;!function(t,e){for(var i=t.suspendedLanes,n=t.pingedLanes,a=t.expirationTimes,s=t.pendingLanes;0<s;){var r=31-re(s),o=1<<r,l=a[r];-1===l?0!==(o&i)&&0===(o&n)||(a[r]=pe(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}(t,e);var n=de(t,t===Al?Tl:0);if(0===n)null!==i&&Kt(i),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(null!=i&&Kt(i),1===e)0===t.tag?function(t){Fa=!0,_a(t)}(lc.bind(null,t)):_a(lc.bind(null,t)),ra((function(){0===(6&kl)&&Ua()})),i=null;else{switch(ve(n)){case 1:i=qt;break;case 4:i=te;break;case 16:default:i=ee;break;case 536870912:i=ne}i=Ac(i,ac.bind(null,t))}t.callbackPriority=e,t.callbackNode=i}}function ac(t,e){if(Jl=-1,ql=0,0!==(6&kl))throw Error(s(327));var i=t.callbackNode;if(Sc()&&t.callbackNode!==i)return null;var n=de(t,t===Al?Tl:0);if(0===n)return null;if(0!==(30&n)||0!==(n&t.expiredLanes)||e)e=yc(t,n);else{e=n;var a=kl;kl|=2;var r=gc();for(Al===t&&Tl===e||(Yl=null,Ul=Xt()+500,dc(t,e));;)try{xc();break}catch(l){pc(t,l)}Ns(),wl.current=r,kl=a,null!==Cl?e=0:(Al=null,Tl=0,e=Ol)}if(0!==e){if(2===e&&(0!==(a=ge(t))&&(n=a,e=sc(t,a))),1===e)throw i=zl,dc(t,0),oc(t,n),nc(t,Xt()),i;if(6===e)oc(t,n);else{if(a=t.current.alternate,0===(30&n)&&!function(t){for(var e=t;;){if(16384&e.flags){var i=e.updateQueue;if(null!==i&&null!==(i=i.stores))for(var n=0;n<i.length;n++){var a=i[n],s=a.getSnapshot;a=a.value;try{if(!on(s(),a))return!1}catch(o){return!1}}}if(i=e.child,16384&e.subtreeFlags&&null!==i)i.return=e,e=i;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(a)&&(2===(e=yc(t,n))&&(0!==(r=ge(t))&&(n=r,e=sc(t,r))),1===e))throw i=zl,dc(t,0),oc(t,n),nc(t,Xt()),i;switch(t.finishedWork=a,t.finishedLanes=n,e){case 0:case 1:throw Error(s(345));case 2:case 5:Mc(t,Gl,Yl);break;case 3:if(oc(t,n),(130023424&n)===n&&10<(e=_l+500-Xt())){if(0!==de(t,0))break;if(((a=t.suspendedLanes)&n)!==n){tc(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=na(Mc.bind(null,t,Gl,Yl),e);break}Mc(t,Gl,Yl);break;case 4:if(oc(t,n),(4194240&n)===n)break;for(e=t.eventTimes,a=-1;0<n;){var o=31-re(n);r=1<<o,(o=e[o])>a&&(a=o),n&=~r}if(n=a,10<(n=(120>(n=Xt()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Dl(n/1960))-n)){t.timeoutHandle=na(Mc.bind(null,t,Gl,Yl),n);break}Mc(t,Gl,Yl);break;default:throw Error(s(329))}}}return nc(t,Xt()),t.callbackNode===i?ac.bind(null,t):null}function sc(t,e){var i=Fl;return t.current.memoizedState.isDehydrated&&(dc(t,e).flags|=256),2!==(t=yc(t,e))&&(e=Gl,Gl=i,null!==e&&rc(e)),t}function rc(t){null===Gl?Gl=t:Gl.push.apply(Gl,t)}function oc(t,e){for(e&=~Bl,e&=~Pl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var i=31-re(e),n=1<<i;t[i]=-1,e&=~n}}function lc(t){if(0!==(6&kl))throw Error(s(327));Sc();var e=de(t,0);if(0===(1&e))return nc(t,Xt()),null;var i=yc(t,e);if(0!==t.tag&&2===i){var n=ge(t);0!==n&&(e=n,i=sc(t,n))}if(1===i)throw i=zl,dc(t,0),oc(t,e),nc(t,Xt()),i;if(6===i)throw Error(s(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Mc(t,Gl,Yl),nc(t,Xt()),null}function cc(t,e){var i=kl;kl|=1;try{return t(e)}finally{0===(kl=i)&&(Ul=Xt()+500,Fa&&Ua())}}function uc(t){null!==Kl&&0===Kl.tag&&0===(6&kl)&&Sc();var e=kl;kl|=1;var i=Ll.transition,n=be;try{if(Ll.transition=null,be=1,t)return t()}finally{be=n,Ll.transition=i,0===(6&(kl=e))&&Ua()}}function hc(){El=Rl.current,wa(Rl)}function dc(t,e){t.finishedWork=null,t.finishedLanes=0;var i=t.timeoutHandle;if(-1!==i&&(t.timeoutHandle=-1,aa(i)),null!==Cl)for(i=Cl.return;null!==i;){var n=i;switch(es(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Ra();break;case 3:Qs(),wa(Aa),wa(ka),ir();break;case 5:Js(n);break;case 4:Qs();break;case 13:case 19:wa(qs);break;case 10:Ls(n.type._context);break;case 22:case 23:hc()}i=i.return}if(Al=t,Cl=t=Rc(t.current,null),Tl=El=e,Ol=0,zl=null,Bl=Pl=jl=0,Gl=Fl=null,null!==Ts){for(e=0;e<Ts.length;e++)if(null!==(n=(i=Ts[e]).interleaved)){i.interleaved=null;var a=n.next,s=i.pending;if(null!==s){var r=s.next;s.next=a,n.next=r}i.pending=n}Ts=null}return t}function pc(t,e){for(;;){var i=Cl;try{if(Ns(),nr.current=Xr,cr){for(var n=rr.memoizedState;null!==n;){var a=n.queue;null!==a&&(a.pending=null),n=n.next}cr=!1}if(sr=0,lr=or=rr=null,ur=!1,hr=0,Nl.current=null,null===i||null===i.return){Ol=1,zl=e,Cl=null;break}t:{var r=t,o=i.return,l=i,c=e;if(e=Tl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=yo(o);if(null!==g){g.flags&=-257,mo(g,o,l,0,e),1&g.mode&&fo(r,u,e),c=u;var f=(e=g).updateQueue;if(null===f){var y=new Set;y.add(c),e.updateQueue=y}else f.add(c);break t}if(0===(1&e)){fo(r,u,e),fc();break t}c=Error(s(426))}else if(as&&1&l.mode){var m=yo(o);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),mo(m,o,l,0,e),gs(lo(c,l));break t}}r=c=lo(c,l),4!==Ol&&(Ol=2),null===Fl?Fl=[r]:Fl.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e,_s(r,po(0,c,e));break t;case 1:l=c;var x=r.type,b=r.stateNode;if(0===(128&r.flags)&&("function"===typeof x.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Zl||!Zl.has(b)))){r.flags|=65536,e&=-e,r.lanes|=e,_s(r,go(r,l,e));break t}}r=r.return}while(null!==r)}vc(i)}catch(v){e=v,Cl===i&&null!==i&&(Cl=i=i.return);continue}break}}function gc(){var t=wl.current;return wl.current=Xr,null===t?Xr:t}function fc(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===Al||0===(268435455&jl)&&0===(268435455&Pl)||oc(Al,Tl)}function yc(t,e){var i=kl;kl|=2;var n=gc();for(Al===t&&Tl===e||(Yl=null,dc(t,e));;)try{mc();break}catch(a){pc(t,a)}if(Ns(),kl=i,wl.current=n,null!==Cl)throw Error(s(261));return Al=null,Tl=0,Ol}function mc(){for(;null!==Cl;)bc(Cl)}function xc(){for(;null!==Cl&&!$t();)bc(Cl)}function bc(t){var e=Il(t.alternate,t,El);t.memoizedProps=t.pendingProps,null===e?vc(t):Cl=e,Nl.current=null}function vc(t){var e=t;do{var i=e.alternate;if(t=e.return,0===(32768&e.flags)){if(null!==(i=Ho(i,e,El)))return void(Cl=i)}else{if(null!==(i=Ko(i,e)))return i.flags&=32767,void(Cl=i);if(null===t)return Ol=6,void(Cl=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(Cl=e);Cl=e=t}while(null!==e);0===Ol&&(Ol=5)}function Mc(t,e,i){var n=be,a=Ll.transition;try{Ll.transition=null,be=1,function(t,e,i,n){do{Sc()}while(null!==Kl);if(0!==(6&kl))throw Error(s(327));i=t.finishedWork;var a=t.finishedLanes;if(null===i)return null;if(t.finishedWork=null,t.finishedLanes=0,i===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0;var r=i.lanes|i.childLanes;if(function(t,e){var i=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<i;){var a=31-re(i),s=1<<a;e[a]=0,n[a]=-1,t[a]=-1,i&=~s}}(t,r),t===Al&&(Cl=Al=null,Tl=0),0===(2064&i.subtreeFlags)&&0===(2064&i.flags)||Hl||(Hl=!0,Ac(ee,(function(){return Sc(),null}))),r=0!==(15990&i.flags),0!==(15990&i.subtreeFlags)||r){r=Ll.transition,Ll.transition=null;var o=be;be=1;var l=kl;kl|=4,Nl.current=null,function(t,e){if(ta=Ve,pn(t=dn())){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else t:{var n=(i=(i=t.ownerDocument)&&i.defaultView||window).getSelection&&i.getSelection();if(n&&0!==n.rangeCount){i=n.anchorNode;var a=n.anchorOffset,r=n.focusNode;n=n.focusOffset;try{i.nodeType,r.nodeType}catch(M){i=null;break t}var o=0,l=-1,c=-1,u=0,h=0,d=t,p=null;e:for(;;){for(var g;d!==i||0!==a&&3!==d.nodeType||(l=o+a),d!==r||0!==n&&3!==d.nodeType||(c=o+n),3===d.nodeType&&(o+=d.nodeValue.length),null!==(g=d.firstChild);)p=d,d=g;for(;;){if(d===t)break e;if(p===i&&++u===a&&(l=o),p===r&&++h===n&&(c=o),null!==(g=d.nextSibling))break;p=(d=p).parentNode}d=g}i=-1===l||-1===c?null:{start:l,end:c}}else i=null}i=i||{start:0,end:0}}else i=null;for(ea={focusedElem:t,selectionRange:i},Ve=!1,Jo=e;null!==Jo;)if(t=(e=Jo).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,Jo=t;else for(;null!==Jo;){e=Jo;try{var f=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var y=f.memoizedProps,m=f.memoizedState,x=e.stateNode,b=x.getSnapshotBeforeUpdate(e.elementType===e.type?y:eo(e.type,y),m);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var v=e.stateNode.containerInfo;1===v.nodeType?v.textContent="":9===v.nodeType&&v.documentElement&&v.removeChild(v.documentElement);break;default:throw Error(s(163))}}catch(M){Dc(e,e.return,M)}if(null!==(t=e.sibling)){t.return=e.return,Jo=t;break}Jo=e.return}f=el,el=!1}(t,i),yl(i,t),gn(ea),Ve=!!ta,ea=ta=null,t.current=i,xl(i,t,a),Qt(),kl=l,be=o,Ll.transition=r}else t.current=i;if(Hl&&(Hl=!1,Kl=t,$l=a),r=t.pendingLanes,0===r&&(Zl=null),function(t){if(se&&"function"===typeof se.onCommitFiberRoot)try{se.onCommitFiberRoot(ae,t,void 0,128===(128&t.current.flags))}catch(e){}}(i.stateNode),nc(t,Xt()),null!==e)for(n=t.onRecoverableError,i=0;i<e.length;i++)a=e[i],n(a.value,{componentStack:a.stack,digest:a.digest});if(Vl)throw Vl=!1,t=Wl,Wl=null,t;0!==(1&$l)&&0!==t.tag&&Sc(),r=t.pendingLanes,0!==(1&r)?t===Xl?Ql++:(Ql=0,Xl=t):Ql=0,Ua()}(t,e,i,n)}finally{Ll.transition=a,be=n}return null}function Sc(){if(null!==Kl){var t=ve($l),e=Ll.transition,i=be;try{if(Ll.transition=null,be=16>t?16:t,null===Kl)var n=!1;else{if(t=Kl,Kl=null,$l=0,0!==(6&kl))throw Error(s(331));var a=kl;for(kl|=4,Jo=t.current;null!==Jo;){var r=Jo,o=r.child;if(0!==(16&Jo.flags)){var l=r.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Jo=u;null!==Jo;){var h=Jo;switch(h.tag){case 0:case 11:case 15:il(8,h,r)}var d=h.child;if(null!==d)d.return=h,Jo=d;else for(;null!==Jo;){var p=(h=Jo).sibling,g=h.return;if(sl(h),h===u){Jo=null;break}if(null!==p){p.return=g,Jo=p;break}Jo=g}}}var f=r.alternate;if(null!==f){var y=f.child;if(null!==y){f.child=null;do{var m=y.sibling;y.sibling=null,y=m}while(null!==y)}}Jo=r}}if(0!==(2064&r.subtreeFlags)&&null!==o)o.return=r,Jo=o;else t:for(;null!==Jo;){if(0!==(2048&(r=Jo).flags))switch(r.tag){case 0:case 11:case 15:il(9,r,r.return)}var x=r.sibling;if(null!==x){x.return=r.return,Jo=x;break t}Jo=r.return}}var b=t.current;for(Jo=b;null!==Jo;){var v=(o=Jo).child;if(0!==(2064&o.subtreeFlags)&&null!==v)v.return=o,Jo=v;else t:for(o=b;null!==Jo;){if(0!==(2048&(l=Jo).flags))try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(S){Dc(l,l.return,S)}if(l===o){Jo=null;break t}var M=l.sibling;if(null!==M){M.return=l.return,Jo=M;break t}Jo=l.return}}if(kl=a,Ua(),se&&"function"===typeof se.onPostCommitFiberRoot)try{se.onPostCommitFiberRoot(ae,t)}catch(S){}n=!0}return n}finally{be=i,Ll.transition=e}}return!1}function Ic(t,e,i){t=Fs(t,e=po(0,e=lo(i,e),1),1),e=tc(),null!==t&&(me(t,1,e),nc(t,e))}function Dc(t,e,i){if(3===t.tag)Ic(t,t,i);else for(;null!==e;){if(3===e.tag){Ic(e,t,i);break}if(1===e.tag){var n=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Zl||!Zl.has(n))){e=Fs(e,t=go(e,t=lo(i,t),1),1),t=tc(),null!==e&&(me(e,1,t),nc(e,t));break}}e=e.return}}function wc(t,e,i){var n=t.pingCache;null!==n&&n.delete(e),e=tc(),t.pingedLanes|=t.suspendedLanes&i,Al===t&&(Tl&i)===i&&(4===Ol||3===Ol&&(130023424&Tl)===Tl&&500>Xt()-_l?dc(t,0):Bl|=i),nc(t,e)}function Nc(t,e){0===e&&(0===(1&t.mode)?e=1:(e=ue,0===(130023424&(ue<<=1))&&(ue=4194304)));var i=tc();null!==(t=Os(t,e))&&(me(t,e,i),nc(t,i))}function Lc(t){var e=t.memoizedState,i=0;null!==e&&(i=e.retryLane),Nc(t,i)}function kc(t,e){var i=0;switch(t.tag){case 13:var n=t.stateNode,a=t.memoizedState;null!==a&&(i=a.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(s(314))}null!==n&&n.delete(e),Nc(t,i)}function Ac(t,e){return Ht(t,e)}function Cc(t,e,i,n){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tc(t,e,i,n){return new Cc(t,e,i,n)}function Ec(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Rc(t,e){var i=t.alternate;return null===i?((i=Tc(t.tag,e,t.key,t.mode)).elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=14680064&t.flags,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function Oc(t,e,i,n,a,r){var o=2;if(n=t,"function"===typeof t)Ec(t)&&(o=1);else if("string"===typeof t)o=5;else t:switch(t){case I:return zc(i.children,a,r,e);case D:o=8,a|=8;break;case w:return(t=Tc(12,i,e,2|a)).elementType=w,t.lanes=r,t;case A:return(t=Tc(13,i,e,a)).elementType=A,t.lanes=r,t;case C:return(t=Tc(19,i,e,a)).elementType=C,t.lanes=r,t;case R:return jc(i,a,r,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case N:o=10;break t;case L:o=9;break t;case k:o=11;break t;case T:o=14;break t;case E:o=16,n=null;break t}throw Error(s(130,null==t?t:typeof t,""))}return(e=Tc(o,i,e,a)).elementType=t,e.type=n,e.lanes=r,e}function zc(t,e,i,n){return(t=Tc(7,t,n,e)).lanes=i,t}function jc(t,e,i,n){return(t=Tc(22,t,n,e)).elementType=R,t.lanes=i,t.stateNode={isHidden:!1},t}function Pc(t,e,i){return(t=Tc(6,t,null,e)).lanes=i,t}function Bc(t,e,i){return(e=Tc(4,null!==t.children?t.children:[],t.key,e)).lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Fc(t,e,i,n,a){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ye(0),this.expirationTimes=ye(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ye(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Gc(t,e,i,n,a,s,r,o,l){return t=new Fc(t,e,i,o,l),1===e?(e=1,!0===s&&(e|=8)):e=0,s=Tc(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},js(s),t}function _c(t){if(!t)return La;t:{if(Ut(t=t._reactInternals)!==t||1!==t.tag)throw Error(s(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(Ea(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(s(171))}if(1===t.tag){var i=t.type;if(Ea(i))return za(t,i,e)}return e}function Uc(t,e,i,n,a,s,r,o,l){return(t=Gc(i,n,!0,t,0,s,0,o,l)).context=_c(null),i=t.current,(s=Bs(n=tc(),a=ec(i))).callback=void 0!==e&&null!==e?e:null,Fs(i,s,a),t.current.lanes=a,me(t,a,n),nc(t,n),t}function Yc(t,e,i,n){var a=e.current,s=tc(),r=ec(a);return i=_c(i),null===e.context?e.context=i:e.pendingContext=i,(e=Bs(s,r)).payload={element:t},null!==(n=void 0===n?null:n)&&(e.callback=n),null!==(t=Fs(a,e,r))&&(ic(t,a,r,s),Gs(t,a,r)),r}function Vc(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function Wc(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var i=t.retryLane;t.retryLane=0!==i&&i<e?i:e}}function Zc(t,e){Wc(t,e),(t=t.alternate)&&Wc(t,e)}Il=function(t,e,i){if(null!==t)if(t.memoizedProps!==e.pendingProps||Aa.current)bo=!0;else{if(0===(t.lanes&i)&&0===(128&e.flags))return bo=!1,function(t,e,i){switch(e.tag){case 3:Ao(e),ps();break;case 5:Xs(e);break;case 1:Ea(e.type)&&ja(e);break;case 4:$s(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,a=e.memoizedProps.value;Na(Ss,n._currentValue),n._currentValue=a;break;case 13:if(null!==(n=e.memoizedState))return null!==n.dehydrated?(Na(qs,1&qs.current),e.flags|=128,null):0!==(i&e.child.childLanes)?Po(t,e,i):(Na(qs,1&qs.current),null!==(t=Vo(t,e,i))?t.sibling:null);Na(qs,1&qs.current);break;case 19:if(n=0!==(i&e.childLanes),0!==(128&t.flags)){if(n)return Uo(t,e,i);e.flags|=128}if(null!==(a=e.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Na(qs,qs.current),n)break;return null;case 22:case 23:return e.lanes=0,Do(t,e,i)}return Vo(t,e,i)}(t,e,i);bo=0!==(131072&t.flags)}else bo=!1,as&&0!==(1048576&e.flags)&&qa(e,Za,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Yo(t,e),t=e.pendingProps;var a=Ta(e,ka.current);As(e,i),a=fr(null,e,n,t,a,i);var r=yr();return e.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ea(n)?(r=!0,ja(e)):r=!1,e.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,js(e),a.updater=no,e.stateNode=a,a._reactInternals=e,oo(e,n,t,i),e=ko(null,e,n,!0,r,i)):(e.tag=0,as&&r&&ts(e),vo(null,e,a,i),e=e.child),e;case 16:n=e.elementType;t:{switch(Yo(t,e),t=e.pendingProps,n=(a=n._init)(n._payload),e.type=n,a=e.tag=function(t){if("function"===typeof t)return Ec(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===k)return 11;if(t===T)return 14}return 2}(n),t=eo(n,t),a){case 0:e=No(null,e,n,t,i);break t;case 1:e=Lo(null,e,n,t,i);break t;case 11:e=Mo(null,e,n,t,i);break t;case 14:e=So(null,e,n,eo(n.type,t),i);break t}throw Error(s(306,n,""))}return e;case 0:return n=e.type,a=e.pendingProps,No(t,e,n,a=e.elementType===n?a:eo(n,a),i);case 1:return n=e.type,a=e.pendingProps,Lo(t,e,n,a=e.elementType===n?a:eo(n,a),i);case 3:t:{if(Ao(e),null===t)throw Error(s(387));n=e.pendingProps,a=(r=e.memoizedState).element,Ps(t,e),Us(e,n,null,i);var o=e.memoizedState;if(n=o.element,r.isDehydrated){if(r={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=r,e.memoizedState=r,256&e.flags){e=Co(t,e,n,i,a=lo(Error(s(423)),e));break t}if(n!==a){e=Co(t,e,n,i,a=lo(Error(s(424)),e));break t}for(ns=ca(e.stateNode.containerInfo.firstChild),is=e,as=!0,ss=null,i=Ms(e,null,n,i),e.child=i;i;)i.flags=-3&i.flags|4096,i=i.sibling}else{if(ps(),n===a){e=Vo(t,e,i);break t}vo(t,e,n,i)}e=e.child}return e;case 5:return Xs(e),null===t&&cs(e),n=e.type,a=e.pendingProps,r=null!==t?t.memoizedProps:null,o=a.children,ia(n,a)?o=null:null!==r&&ia(n,r)&&(e.flags|=32),wo(t,e),vo(t,e,o,i),e.child;case 6:return null===t&&cs(e),null;case 13:return Po(t,e,i);case 4:return $s(e,e.stateNode.containerInfo),n=e.pendingProps,null===t?e.child=vs(e,null,n,i):vo(t,e,n,i),e.child;case 11:return n=e.type,a=e.pendingProps,Mo(t,e,n,a=e.elementType===n?a:eo(n,a),i);case 7:return vo(t,e,e.pendingProps,i),e.child;case 8:case 12:return vo(t,e,e.pendingProps.children,i),e.child;case 10:t:{if(n=e.type._context,a=e.pendingProps,r=e.memoizedProps,o=a.value,Na(Ss,n._currentValue),n._currentValue=o,null!==r)if(on(r.value,o)){if(r.children===a.children&&!Aa.current){e=Vo(t,e,i);break t}}else for(null!==(r=e.child)&&(r.return=e);null!==r;){var l=r.dependencies;if(null!==l){o=r.child;for(var c=l.firstContext;null!==c;){if(c.context===n){if(1===r.tag){(c=Bs(-1,i&-i)).tag=2;var u=r.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}r.lanes|=i,null!==(c=r.alternate)&&(c.lanes|=i),ks(r.return,i,e),l.lanes|=i;break}c=c.next}}else if(10===r.tag)o=r.type===e.type?null:r.child;else if(18===r.tag){if(null===(o=r.return))throw Error(s(341));o.lanes|=i,null!==(l=o.alternate)&&(l.lanes|=i),ks(o,i,e),o=r.sibling}else o=r.child;if(null!==o)o.return=r;else for(o=r;null!==o;){if(o===e){o=null;break}if(null!==(r=o.sibling)){r.return=o.return,o=r;break}o=o.return}r=o}vo(t,e,a.children,i),e=e.child}return e;case 9:return a=e.type,n=e.pendingProps.children,As(e,i),n=n(a=Cs(a)),e.flags|=1,vo(t,e,n,i),e.child;case 14:return a=eo(n=e.type,e.pendingProps),So(t,e,n,a=eo(n.type,a),i);case 15:return Io(t,e,e.type,e.pendingProps,i);case 17:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:eo(n,a),Yo(t,e),e.tag=1,Ea(n)?(t=!0,ja(e)):t=!1,As(e,i),so(e,n,a),oo(e,n,a,i),ko(null,e,n,!0,t,i);case 19:return Uo(t,e,i);case 22:return Do(t,e,i)}throw Error(s(156,e.tag))};var Hc="function"===typeof reportError?reportError:function(t){console.error(t)};function Kc(t){this._internalRoot=t}function $c(t){this._internalRoot=t}function Qc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function Xc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Jc(){}function qc(t,e,i,n,a){var s=i._reactRootContainer;if(s){var r=s;if("function"===typeof a){var o=a;a=function(){var t=Vc(r);o.call(t)}}Yc(e,r,t,a)}else r=function(t,e,i,n,a){if(a){if("function"===typeof n){var s=n;n=function(){var t=Vc(r);s.call(t)}}var r=Uc(e,n,t,0,null,!1,0,"",Jc);return t._reactRootContainer=r,t[ga]=r.current,Un(8===t.nodeType?t.parentNode:t),uc(),r}for(;a=t.lastChild;)t.removeChild(a);if("function"===typeof n){var o=n;n=function(){var t=Vc(l);o.call(t)}}var l=Gc(t,0,!1,null,0,!1,0,"",Jc);return t._reactRootContainer=l,t[ga]=l.current,Un(8===t.nodeType?t.parentNode:t),uc((function(){Yc(e,l,i,n)})),l}(i,e,t,a,n);return Vc(r)}$c.prototype.render=Kc.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(s(409));Yc(t,e,null,null)},$c.prototype.unmount=Kc.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;uc((function(){Yc(null,t,null,null)})),e[ga]=null}},$c.prototype.unstable_scheduleHydration=function(t){if(t){var e=De();t={blockedOn:null,target:t,priority:e};for(var i=0;i<Re.length&&0!==e&&e<Re[i].priority;i++);Re.splice(i,0,t),0===i&&Pe(t)}},Me=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var i=he(e.pendingLanes);0!==i&&(xe(e,1|i),nc(e,Xt()),0===(6&kl)&&(Ul=Xt()+500,Ua()))}break;case 13:uc((function(){var e=Os(t,1);if(null!==e){var i=tc();ic(e,t,1,i)}})),Zc(t,1)}},Se=function(t){if(13===t.tag){var e=Os(t,134217728);if(null!==e)ic(e,t,134217728,tc());Zc(t,134217728)}},Ie=function(t){if(13===t.tag){var e=ec(t),i=Os(t,e);if(null!==i)ic(i,t,e,tc());Zc(t,e)}},De=function(){return be},we=function(t,e){var i=be;try{return be=t,e()}finally{be=i}},St=function(t,e,i){switch(e){case"input":if(J(t,i),e=i.name,"radio"===i.type&&null!=e){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<i.length;e++){var n=i[e];if(n!==t&&n.form===t.form){var a=Ma(n);if(!a)throw Error(s(90));H(n),J(n,a)}}}break;case"textarea":st(t,i);break;case"select":null!=(e=i.value)&&it(t,!!i.multiple,e,!1)}},kt=cc,At=uc;var tu={usingClientEntryPoint:!1,Events:[ba,va,Ma,Nt,Lt,cc]},eu={findFiberByHostInstance:xa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iu={bundleType:eu.bundleType,version:eu.version,rendererPackageName:eu.rendererPackageName,rendererConfig:eu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Wt(t))?null:t.stateNode},findFiberByHostInstance:eu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nu.isDisabled&&nu.supportsFiber)try{ae=nu.inject(iu),se=nu}catch(ut){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,e.createPortal=function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(e))throw Error(s(200));return function(t,e,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==n?null:""+n,children:t,containerInfo:e,implementation:i}}(t,e,null,i)},e.createRoot=function(t,e){if(!Qc(t))throw Error(s(299));var i=!1,n="",a=Hc;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(i=!0),void 0!==e.identifierPrefix&&(n=e.identifierPrefix),void 0!==e.onRecoverableError&&(a=e.onRecoverableError)),e=Gc(t,1,!1,null,0,i,0,n,a),t[ga]=e.current,Un(8===t.nodeType?t.parentNode:t),new Kc(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(s(188));throw t=Object.keys(t).join(","),Error(s(268,t))}return t=null===(t=Wt(e))?null:t.stateNode},e.flushSync=function(t){return uc(t)},e.hydrate=function(t,e,i){if(!Xc(e))throw Error(s(200));return qc(null,t,e,!0,i)},e.hydrateRoot=function(t,e,i){if(!Qc(t))throw Error(s(405));var n=null!=i&&i.hydratedSources||null,a=!1,r="",o=Hc;if(null!==i&&void 0!==i&&(!0===i.unstable_strictMode&&(a=!0),void 0!==i.identifierPrefix&&(r=i.identifierPrefix),void 0!==i.onRecoverableError&&(o=i.onRecoverableError)),e=Uc(e,null,t,1,null!=i?i:null,a,0,r,o),t[ga]=e.current,Un(t),n)for(t=0;t<n.length;t++)a=(a=(i=n[t])._getVersion)(i._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[i,a]:e.mutableSourceEagerHydrationData.push(i,a);return new $c(e)},e.render=function(t,e,i){if(!Xc(e))throw Error(s(200));return qc(null,t,e,!1,i)},e.unmountComponentAtNode=function(t){if(!Xc(t))throw Error(s(40));return!!t._reactRootContainer&&(uc((function(){qc(null,null,t,!1,(function(){t._reactRootContainer=null,t[ga]=null}))})),!0)},e.unstable_batchedUpdates=cc,e.unstable_renderSubtreeIntoContainer=function(t,e,i,n){if(!Xc(i))throw Error(s(200));if(null==t||void 0===t._reactInternals)throw Error(s(38));return qc(t,e,i,!1,n)},e.version="18.3.1-next-f1338f8080-20240426"},391:(t,e,i)=>{var n=i(950);e.H=n.createRoot,n.hydrateRoot},950:(t,e,i)=>{!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=i(730)},153:(t,e,i)=>{var n=i(43),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(t,e,i){var n,s={},c=null,u=null;for(n in void 0!==i&&(c=""+i),void 0!==e.key&&(c=""+e.key),void 0!==e.ref&&(u=e.ref),e)r.call(e,n)&&!l.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps)void 0===s[n]&&(s[n]=e[n]);return{$$typeof:a,type:t,key:c,ref:u,props:s,_owner:o.current}}e.jsx=c,e.jsxs=c},202:(t,e)=>{var i=Symbol.for("react.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,y={};function m(t,e,i){this.props=t,this.context=e,this.refs=y,this.updater=i||g}function x(){}function b(t,e,i){this.props=t,this.context=e,this.refs=y,this.updater=i||g}m.prototype.isReactComponent={},m.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},m.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},x.prototype=m.prototype;var v=b.prototype=new x;v.constructor=b,f(v,m.prototype),v.isPureReactComponent=!0;var M=Array.isArray,S=Object.prototype.hasOwnProperty,I={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function w(t,e,n){var a,s={},r=null,o=null;if(null!=e)for(a in void 0!==e.ref&&(o=e.ref),void 0!==e.key&&(r=""+e.key),e)S.call(e,a)&&!D.hasOwnProperty(a)&&(s[a]=e[a]);var l=arguments.length-2;if(1===l)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(a in l=t.defaultProps)void 0===s[a]&&(s[a]=l[a]);return{$$typeof:i,type:t,key:r,ref:o,props:s,_owner:I.current}}function N(t){return"object"===typeof t&&null!==t&&t.$$typeof===i}var L=/\/+/g;function k(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function A(t,e,a,s,r){var o=typeof t;"undefined"!==o&&"boolean"!==o||(t=null);var l=!1;if(null===t)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case i:case n:l=!0}}if(l)return r=r(l=t),t=""===s?"."+k(l,0):s,M(r)?(a="",null!=t&&(a=t.replace(L,"$&/")+"/"),A(r,e,a,"",(function(t){return t}))):null!=r&&(N(r)&&(r=function(t,e){return{$$typeof:i,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(r,a+(!r.key||l&&l.key===r.key?"":(""+r.key).replace(L,"$&/")+"/")+t)),e.push(r)),1;if(l=0,s=""===s?".":s+":",M(t))for(var c=0;c<t.length;c++){var u=s+k(o=t[c],c);l+=A(o,e,a,u,r)}else if(u=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=p&&t[p]||t["@@iterator"])?t:null}(t),"function"===typeof u)for(t=u.call(t),c=0;!(o=t.next()).done;)l+=A(o=o.value,e,a,u=s+k(o,c++),r);else if("object"===o)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function C(t,e,i){if(null==t)return t;var n=[],a=0;return A(t,n,"","",(function(t){return e.call(i,t,a++)})),n}function T(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var E={current:null},R={transition:null},O={ReactCurrentDispatcher:E,ReactCurrentBatchConfig:R,ReactCurrentOwner:I};function z(){throw Error("act(...) is not supported in production builds of React.")}e.Children={map:C,forEach:function(t,e,i){C(t,(function(){e.apply(this,arguments)}),i)},count:function(t){var e=0;return C(t,(function(){e++})),e},toArray:function(t){return C(t,(function(t){return t}))||[]},only:function(t){if(!N(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=m,e.Fragment=a,e.Profiler=r,e.PureComponent=b,e.StrictMode=s,e.Suspense=u,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,e.act=z,e.cloneElement=function(t,e,n){if(null===t||void 0===t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var a=f({},t.props),s=t.key,r=t.ref,o=t._owner;if(null!=e){if(void 0!==e.ref&&(r=e.ref,o=I.current),void 0!==e.key&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)S.call(e,c)&&!D.hasOwnProperty(c)&&(a[c]=void 0===e[c]&&void 0!==l?l[c]:e[c])}var c=arguments.length-2;if(1===c)a.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}return{$$typeof:i,type:t.type,key:s,ref:r,props:a,_owner:o}},e.createContext=function(t){return(t={$$typeof:l,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:t},t.Consumer=t},e.createElement=w,e.createFactory=function(t){var e=w.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:c,render:t}},e.isValidElement=N,e.lazy=function(t){return{$$typeof:d,_payload:{_status:-1,_result:t},_init:T}},e.memo=function(t,e){return{$$typeof:h,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=R.transition;R.transition={};try{t()}finally{R.transition=e}},e.unstable_act=z,e.useCallback=function(t,e){return E.current.useCallback(t,e)},e.useContext=function(t){return E.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return E.current.useDeferredValue(t)},e.useEffect=function(t,e){return E.current.useEffect(t,e)},e.useId=function(){return E.current.useId()},e.useImperativeHandle=function(t,e,i){return E.current.useImperativeHandle(t,e,i)},e.useInsertionEffect=function(t,e){return E.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return E.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return E.current.useMemo(t,e)},e.useReducer=function(t,e,i){return E.current.useReducer(t,e,i)},e.useRef=function(t){return E.current.useRef(t)},e.useState=function(t){return E.current.useState(t)},e.useSyncExternalStore=function(t,e,i){return E.current.useSyncExternalStore(t,e,i)},e.useTransition=function(){return E.current.useTransition()},e.version="18.3.1"},43:(t,e,i)=>{t.exports=i(202)},579:(t,e,i)=>{t.exports=i(153)},234:(t,e)=>{function i(t,e){var i=t.length;t.push(e);t:for(;0<i;){var n=i-1>>>1,a=t[n];if(!(0<s(a,e)))break t;t[n]=e,t[i]=a,i=n}}function n(t){return 0===t.length?null:t[0]}function a(t){if(0===t.length)return null;var e=t[0],i=t.pop();if(i!==e){t[0]=i;t:for(var n=0,a=t.length,r=a>>>1;n<r;){var o=2*(n+1)-1,l=t[o],c=o+1,u=t[c];if(0>s(l,i))c<a&&0>s(u,l)?(t[n]=u,t[c]=i,n=c):(t[n]=l,t[o]=i,n=o);else{if(!(c<a&&0>s(u,i)))break t;t[n]=u,t[c]=i,n=c}}}return e}function s(t,e){var i=t.sortIndex-e.sortIndex;return 0!==i?i:t.id-e.id}if("object"===typeof performance&&"function"===typeof performance.now){var r=performance;e.unstable_now=function(){return r.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,d=null,p=3,g=!1,f=!1,y=!1,m="function"===typeof setTimeout?setTimeout:null,x="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function v(t){for(var e=n(u);null!==e;){if(null===e.callback)a(u);else{if(!(e.startTime<=t))break;a(u),e.sortIndex=e.expirationTime,i(c,e)}e=n(u)}}function M(t){if(y=!1,v(t),!f)if(null!==n(c))f=!0,R(S);else{var e=n(u);null!==e&&O(M,e.startTime-t)}}function S(t,i){f=!1,y&&(y=!1,x(N),N=-1),g=!0;var s=p;try{for(v(i),d=n(c);null!==d&&(!(d.expirationTime>i)||t&&!A());){var r=d.callback;if("function"===typeof r){d.callback=null,p=d.priorityLevel;var o=r(d.expirationTime<=i);i=e.unstable_now(),"function"===typeof o?d.callback=o:d===n(c)&&a(c),v(i)}else a(c);d=n(c)}if(null!==d)var l=!0;else{var h=n(u);null!==h&&O(M,h.startTime-i),l=!1}return l}finally{d=null,p=s,g=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var I,D=!1,w=null,N=-1,L=5,k=-1;function A(){return!(e.unstable_now()-k<L)}function C(){if(null!==w){var t=e.unstable_now();k=t;var i=!0;try{i=w(!0,t)}finally{i?I():(D=!1,w=null)}}else D=!1}if("function"===typeof b)I=function(){b(C)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,E=T.port2;T.port1.onmessage=C,I=function(){E.postMessage(null)}}else I=function(){m(C,0)};function R(t){w=t,D||(D=!0,I())}function O(t,i){N=m((function(){t(e.unstable_now())}),i)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){f||g||(f=!0,R(S))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(t){switch(p){case 1:case 2:case 3:var e=3;break;default:e=p}var i=p;p=e;try{return t()}finally{p=i}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var i=p;p=t;try{return e()}finally{p=i}},e.unstable_scheduleCallback=function(t,a,s){var r=e.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?r+s:r:s=r,t){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return t={id:h++,callback:a,priorityLevel:t,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>r?(t.sortIndex=s,i(u,t),null===n(c)&&t===n(u)&&(y?(x(N),N=-1):y=!0,O(M,s-r))):(t.sortIndex=o,i(c,t),f||g||(f=!0,R(S))),t},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(t){var e=p;return function(){var i=p;p=e;try{return t.apply(this,arguments)}finally{p=i}}}},853:(t,e,i)=>{t.exports=i(234)}},e={};function i(n){var a=e[n];if(void 0!==a)return a.exports;var s=e[n]={exports:{}};return t[n](s,s.exports,i),s.exports}var n=i(43),a=i(391);function s(){}function r(t,e,i,n,a){for(var s,r=[];e;)r.push(e),s=e.previousComponent,delete e.previousComponent,e=s;r.reverse();for(var o=0,l=r.length,c=0,u=0;o<l;o++){var h=r[o];if(h.removed)h.value=t.join(n.slice(u,u+h.count)),u+=h.count;else{if(!h.added&&a){var d=i.slice(c,c+h.count);d=d.map((function(t,e){var i=n[u+e];return i.length>t.length?i:t})),h.value=t.join(d)}else h.value=t.join(i.slice(c,c+h.count));c+=h.count,h.added||(u+=h.count)}}return r}s.prototype={diff:function(t,e){var i,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.callback;"function"===typeof n&&(a=n,n={});var s=this;function o(t){return t=s.postProcess(t,n),a?(setTimeout((function(){a(t)}),0),!0):t}t=this.castInput(t,n),e=this.castInput(e,n),t=this.removeEmpty(this.tokenize(t,n));var l=(e=this.removeEmpty(this.tokenize(e,n))).length,c=t.length,u=1,h=l+c;null!=n.maxEditLength&&(h=Math.min(h,n.maxEditLength));var d=null!==(i=n.timeout)&&void 0!==i?i:1/0,p=Date.now()+d,g=[{oldPos:-1,lastComponent:void 0}],f=this.extractCommon(g[0],e,t,0,n);if(g[0].oldPos+1>=c&&f+1>=l)return o(r(s,g[0].lastComponent,e,t,s.useLongestToken));var y=-1/0,m=1/0;function x(){for(var i=Math.max(y,-u);i<=Math.min(m,u);i+=2){var a=void 0,h=g[i-1],d=g[i+1];h&&(g[i-1]=void 0);var p=!1;if(d){var x=d.oldPos-i;p=d&&0<=x&&x<l}var b=h&&h.oldPos+1<c;if(p||b){if(a=!b||p&&h.oldPos<d.oldPos?s.addToPath(d,!0,!1,0,n):s.addToPath(h,!1,!0,1,n),f=s.extractCommon(a,e,t,i,n),a.oldPos+1>=c&&f+1>=l)return o(r(s,a.lastComponent,e,t,s.useLongestToken));g[i]=a,a.oldPos+1>=c&&(m=Math.min(m,i-1)),f+1>=l&&(y=Math.max(y,i+1))}else g[i]=void 0}u++}if(a)!function t(){setTimeout((function(){if(u>h||Date.now()>p)return a();x()||t()}),0)}();else for(;u<=h&&Date.now()<=p;){var b=x();if(b)return b}},addToPath:function(t,e,i,n,a){var s=t.lastComponent;return s&&!a.oneChangePerToken&&s.added===e&&s.removed===i?{oldPos:t.oldPos+n,lastComponent:{count:s.count+1,added:e,removed:i,previousComponent:s.previousComponent}}:{oldPos:t.oldPos+n,lastComponent:{count:1,added:e,removed:i,previousComponent:s}}},extractCommon:function(t,e,i,n,a){for(var s=e.length,r=i.length,o=t.oldPos,l=o-n,c=0;l+1<s&&o+1<r&&this.equals(i[o+1],e[l+1],a);)l++,o++,c++,a.oneChangePerToken&&(t.lastComponent={count:1,previousComponent:t.lastComponent,added:!1,removed:!1});return c&&!a.oneChangePerToken&&(t.lastComponent={count:c,previousComponent:t.lastComponent,added:!1,removed:!1}),t.oldPos=o,l},equals:function(t,e,i){return i.comparator?i.comparator(t,e):t===e||i.ignoreCase&&t.toLowerCase()===e.toLowerCase()},removeEmpty:function(t){for(var e=[],i=0;i<t.length;i++)t[i]&&e.push(t[i]);return e},castInput:function(t){return t},tokenize:function(t){return Array.from(t)},join:function(t){return t.join("")},postProcess:function(t){return t}};var o=new s;function l(t,e){var i;for(i=0;i<t.length&&i<e.length;i++)if(t[i]!=e[i])return t.slice(0,i);return t.slice(0,i)}function c(t,e){var i;if(!t||!e||t[t.length-1]!=e[e.length-1])return"";for(i=0;i<t.length&&i<e.length;i++)if(t[t.length-(i+1)]!=e[e.length-(i+1)])return t.slice(-i);return t.slice(-i)}function u(t,e,i){if(t.slice(0,e.length)!=e)throw Error("string ".concat(JSON.stringify(t)," doesn't start with prefix ").concat(JSON.stringify(e),"; this is a bug"));return i+t.slice(e.length)}function h(t,e,i){if(!e)return t+i;if(t.slice(-e.length)!=e)throw Error("string ".concat(JSON.stringify(t)," doesn't end with suffix ").concat(JSON.stringify(e),"; this is a bug"));return t.slice(0,-e.length)+i}function d(t,e){return u(t,e,"")}function p(t,e){return h(t,e,"")}function g(t,e){return e.slice(0,function(t,e){var i=0;t.length>e.length&&(i=t.length-e.length);var n=e.length;t.length<e.length&&(n=t.length);var a=Array(n),s=0;a[0]=0;for(var r=1;r<n;r++){for(e[r]==e[s]?a[r]=a[s]:a[r]=s;s>0&&e[r]!=e[s];)s=a[s];e[r]==e[s]&&s++}s=0;for(var o=i;o<t.length;o++){for(;s>0&&t[o]!=e[s];)s=a[s];t[o]==e[s]&&s++}return s}(t,e))}var f="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",y=new RegExp("[".concat(f,"]+|\\s+|[^").concat(f,"]"),"ug"),m=new s;function x(t,e,i,n){if(e&&i){var a=e.value.match(/^\s*/)[0],s=e.value.match(/\s*$/)[0],r=i.value.match(/^\s*/)[0],o=i.value.match(/\s*$/)[0];if(t){var f=l(a,r);t.value=h(t.value,r,f),e.value=d(e.value,f),i.value=d(i.value,f)}if(n){var y=c(s,o);n.value=u(n.value,o,y),e.value=p(e.value,y),i.value=p(i.value,y)}}else if(i)t&&(i.value=i.value.replace(/^\s*/,"")),n&&(n.value=n.value.replace(/^\s*/,""));else if(t&&n){var m=n.value.match(/^\s*/)[0],x=e.value.match(/^\s*/)[0],b=e.value.match(/\s*$/)[0],v=l(m,x);e.value=d(e.value,v);var M=c(d(m,v),b);e.value=p(e.value,M),n.value=u(n.value,m,M),t.value=h(t.value,m,m.slice(0,m.length-M.length))}else if(n){var S=n.value.match(/^\s*/)[0],I=g(e.value.match(/\s*$/)[0],S);e.value=p(e.value,I)}else if(t){var D=g(t.value.match(/\s*$/)[0],e.value.match(/^\s*/)[0]);e.value=d(e.value,D)}}m.equals=function(t,e,i){return i.ignoreCase&&(t=t.toLowerCase(),e=e.toLowerCase()),t.trim()===e.trim()},m.tokenize=function(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(i.intlSegmenter){if("word"!=i.intlSegmenter.resolvedOptions().granularity)throw new Error('The segmenter passed must have a granularity of "word"');e=Array.from(i.intlSegmenter.segment(t),(function(t){return t.segment}))}else e=t.match(y)||[];var n=[],a=null;return e.forEach((function(t){/\s/.test(t)?null==a?n.push(t):n.push(n.pop()+t):/\s/.test(a)?n[n.length-1]==a?n.push(n.pop()+t):n.push(a+t):n.push(t),a=t})),n},m.join=function(t){return t.map((function(t,e){return 0==e?t:t.replace(/^\s+/,"")})).join("")},m.postProcess=function(t,e){if(!t||e.oneChangePerToken)return t;var i=null,n=null,a=null;return t.forEach((function(t){t.added?n=t:t.removed?a=t:((n||a)&&x(i,a,n,t),i=t,n=null,a=null)})),(n||a)&&x(i,a,n,null),t};var b=new s;b.tokenize=function(t){var e=new RegExp("(\\r?\\n)|[".concat(f,"]+|[^\\S\\n\\r]+|[^").concat(f,"]"),"ug");return t.match(e)||[]};var v=new s;function M(t,e,i){return v.diff(t,e,i)}v.tokenize=function(t,e){e.stripTrailingCr&&(t=t.replace(/\r\n/g,"\n"));var i=[],n=t.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var a=0;a<n.length;a++){var s=n[a];a%2&&!e.newlineIsToken?i[i.length-1]+=s:i.push(s)}return i},v.equals=function(t,e,i){return i.ignoreWhitespace?(i.newlineIsToken&&t.includes("\n")||(t=t.trim()),i.newlineIsToken&&e.includes("\n")||(e=e.trim())):i.ignoreNewlineAtEof&&!i.newlineIsToken&&(t.endsWith("\n")&&(t=t.slice(0,-1)),e.endsWith("\n")&&(e=e.slice(0,-1))),s.prototype.equals.call(this,t,e,i)};var S=new s;S.tokenize=function(t){return t.split(/(\S.+?[.!?])(?=\s+|$)/)};var I=new s;function D(t){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D(t)}I.tokenize=function(t){return t.split(/([{}:;,]|\s+)/)};var w=new s;function N(t,e,i,n,a){var s,r;for(e=e||[],i=i||[],n&&(t=n(a,t)),s=0;s<e.length;s+=1)if(e[s]===t)return i[s];if("[object Array]"===Object.prototype.toString.call(t)){for(e.push(t),r=new Array(t.length),i.push(r),s=0;s<t.length;s+=1)r[s]=N(t[s],e,i,n,a);return e.pop(),i.pop(),r}if(t&&t.toJSON&&(t=t.toJSON()),"object"===D(t)&&null!==t){e.push(t),r={},i.push(r);var o,l=[];for(o in t)Object.prototype.hasOwnProperty.call(t,o)&&l.push(o);for(l.sort(),s=0;s<l.length;s+=1)r[o=l[s]]=N(t[o],e,i,n,o);e.pop(),i.pop()}else r=t;return r}w.useLongestToken=!0,w.tokenize=v.tokenize,w.castInput=function(t,e){var i=e.undefinedReplacement,n=e.stringifyReplacer,a=void 0===n?function(t,e){return"undefined"===typeof e?i:e}:n;return"string"===typeof t?t:JSON.stringify(N(t,null,null,a),a,"  ")},w.equals=function(t,e,i){return s.prototype.equals.call(w,t.replace(/,([\r\n])/g,"$1"),e.replace(/,([\r\n])/g,"$1"),i)};var L=new s;L.tokenize=function(t){return t.slice()},L.join=L.removeEmpty=function(t){return t};var k=i(579);const A=t=>{let{buttonText:e,buttonOnClick:i,viewerText:n,viewerOnScroll:a}=t;return(0,k.jsxs)("div",{children:[(0,k.jsx)("button",{onClick:i,children:e}),(0,k.jsx)("div",{className:"text-viewer",onScroll:a,children:n})]})};var C=Object.defineProperty,T=Object.getOwnPropertyDescriptor,E=(t,e)=>{for(var i in e)C(t,i,{get:e[i],enumerable:!0})},R=(t,e,i,n)=>{for(var a,s=n>1?void 0:n?T(e,i):e,r=t.length-1;r>=0;r--)(a=t[r])&&(s=(n?a(e,i,s):a(s))||s);return n&&s&&C(e,i,s),s},O={ariaAnnounceHoverDatum:"${datum}",ariaAnnounceChart:"chart, ${seriesCount}[number] series",ariaAnnounceHierarchyChart:"hierarchy chart, ${caption}",ariaAnnounceGaugeChart:"gauge chart, ${caption}",ariaAnnounceHierarchyDatum:"level ${level}[number], ${count}[number] children, ${description}",ariaAnnounceFlowProportionLink:"link ${index} of ${count}, from ${from} to ${to}, ${sizeName} ${size}",ariaAnnounceFlowProportionNode:"node ${index} of ${count}, ${description}",ariaDescriptionLegendItem:"Press Space or Enter to toggle visibility",ariaLabelAnnotationOptionsToolbar:"Annotation Options",ariaLabelAnnotationSettingsDialog:"Annotation Settings",ariaLabelColorPicker:"Color picker",ariaLabelFinancialCharts:"Financial Charts",ariaLabelLegend:"Legend",ariaLabelLegendPagination:"Legend Pagination",ariaLabelLegendPagePrevious:"Previous Legend Page",ariaLabelLegendPageNext:"Next Legend Page",ariaLabelLegendItem:"${label}, Legend item ${index}[number] of ${count}[number]",ariaLabelLegendItemUnknown:"Unknown legend item",ariaLabelNavigator:"Navigator",ariaLabelNavigatorRange:"Range",ariaLabelNavigatorMinimum:"Minimum",ariaLabelNavigatorMaximum:"Maximum",ariaLabelRangesToolbar:"Ranges",ariaLabelSettingsTabBar:"Settings",ariaLabelZoomToolbar:"Zoom",ariaValuePanRange:"${min}[percent] to ${max}[percent]",iconAltTextLineStyleSolid:"Solid",iconAltTextLineStyleDashed:"Long-dashed",iconAltTextLineStyleDotted:"Short-dashed",iconAltTextPositionTop:"Top",iconAltTextPositionCenter:"Center",iconAltTextPositionBottom:"Bottom",iconAltTextAlignLeft:"Left",iconAltTextAlignCenter:"Center",iconAltTextAlignRight:"Right",iconAltTextClose:"Close",overlayLoadingData:"Loading data...",overlayNoData:"No data to display",overlayNoVisibleSeries:"No visible series",toolbarSeriesTypeDropdown:"Chart Type",toolbarSeriesTypeOHLC:"OHLC",toolbarSeriesTypeHLC:"HLC",toolbarSeriesTypeHighLow:"High Low",toolbarSeriesTypeCandles:"Candles",toolbarSeriesTypeHollowCandles:"Hollow Candles",toolbarSeriesTypeLine:"Line",toolbarSeriesTypeLineWithMarkers:"Line with Markers",toolbarSeriesTypeStepLine:"Step Line",toolbarAnnotationsTrendLine:"Trend Line",toolbarAnnotationsHorizontalLine:"Horizontal Line",toolbarAnnotationsVerticalLine:"Vertical Line",toolbarAnnotationsParallelChannel:"Parallel Channel",toolbarAnnotationsDisjointChannel:"Disjoint Channel",toolbarAnnotationsClearAll:"Clear All",toolbarAnnotationsColor:"Color",toolbarAnnotationsFillColor:"Fill Color",toolbarAnnotationsLineColor:"Line Color",toolbarAnnotationsLineStyle:"Line Style",toolbarAnnotationsLineStrokeWidth:"Line Stroke Width",toolbarAnnotationsSettings:"Settings",toolbarAnnotationsTextColor:"Text Color",toolbarAnnotationsTextSize:"Text Size",toolbarAnnotationsLock:"Lock",toolbarAnnotationsUnlock:"Unlock",toolbarAnnotationsDelete:"Delete",toolbarAnnotationsDragHandle:"Drag Toolbar",toolbarAnnotationsLineAnnotations:"Trend Lines",toolbarAnnotationsTextAnnotations:"Text Annotations",toolbarAnnotationsShapeAnnotations:"Arrows",toolbarAnnotationsMeasurerAnnotations:"Measurers",toolbarAnnotationsCallout:"Callout",toolbarAnnotationsComment:"Comment",toolbarAnnotationsNote:"Note",toolbarAnnotationsText:"Text",toolbarAnnotationsArrow:"Arrow",toolbarAnnotationsArrowUp:"Arrow Up",toolbarAnnotationsArrowDown:"Arrow Down",toolbarAnnotationsDateRange:"Date Range",toolbarAnnotationsPriceRange:"Price Range",toolbarAnnotationsDatePriceRange:"Date and Price",toolbarAnnotationsQuickDatePriceRange:"Measure",toolbarRange1Month:"1M",toolbarRange1MonthAria:"1 month",toolbarRange3Months:"3M",toolbarRange3MonthsAria:"3 months",toolbarRange6Months:"6M",toolbarRange6MonthsAria:"6 months",toolbarRangeYearToDate:"YTD",toolbarRangeYearToDateAria:"Year to date",toolbarRange1Year:"1Y",toolbarRange1YearAria:"1 year",toolbarRangeAll:"All",toolbarRangeAllAria:"All",toolbarZoomZoomOut:"Zoom out",toolbarZoomZoomIn:"Zoom in",toolbarZoomPanLeft:"Pan left",toolbarZoomPanRight:"Pan right",toolbarZoomPanStart:"Pan to the start",toolbarZoomPanEnd:"Pan to the end",toolbarZoomReset:"Reset the zoom",contextMenuDownload:"Download",contextMenuToggleSeriesVisibility:"Toggle Visibility",contextMenuToggleOtherSeries:"Toggle Other Series",contextMenuZoomToCursor:"Zoom to here",contextMenuPanToCursor:"Pan to here",dialogHeaderChannel:"Channel",dialogHeaderLine:"Line",dialogHeaderDateRange:"Date Range",dialogHeaderPriceRange:"Price Range",dialogHeaderDatePriceRange:"Date and Price",dialogHeaderText:"Text",dialogInputAlign:"Align",dialogInputColorPicker:"Color",dialogInputColorPickerAltText:"Text Color",dialogInputFillColorPicker:"Fill",dialogInputFillColorPickerAltText:"Fill Color",dialogInputExtendChannelStart:"Extend channel start",dialogInputExtendChannelEnd:"Extend channel end",dialogInputExtendLineStart:"Extend line start",dialogInputExtendLineEnd:"Extend line end",dialogInputExtendAbove:"Extend above",dialogInputExtendBelow:"Extend below",dialogInputExtendLeft:"Extend left",dialogInputExtendRight:"Extend right",dialogInputFontSize:"Size",dialogInputFontSizeAltText:"Font Size",dialogInputLineStyle:"Dash",dialogInputPosition:"Position",dialogInputStrokeWidth:"Weight",dialogInputStrokeWidthAltText:"Line Weight",inputTextareaPlaceholder:"Add Text",measurerDateRangeBars:"${value}[number] bars",measurerPriceRangeValue:"${value}[number]",measurerPriceRangePercent:"${value}[percent]",measurerVolume:"Vol ${value}"},z=["delete-legacy","disjoint-channel","disjoint-channel-legacy","horizontal-line-legacy","line-color-legacy","lock","lock-legacy","pan-end-legacy","pan-left-legacy","pan-right-legacy","pan-start-legacy","parallel-channel","parallel-channel-legacy","reset-legacy","trend-line","trend-line-legacy","unlock","unlock-legacy","vertical-line","vertical-line-legacy","zoom-in-legacy","zoom-in-alt","zoom-in-alt-legacy","zoom-out-legacy","zoom-out-alt","zoom-out-alt-legacy"];var j=(t=>(t.POINTER="pointer",t.NODE="node",t.TOP="top",t.RIGHT="right",t.BOTTOM="bottom",t.LEFT="left",t.TOP_LEFT="top-left",t.TOP_RIGHT="top-right",t.BOTTOM_RIGHT="bottom-right",t.BOTTOM_LEFT="bottom-left",t))(j||{});E({},{TimeInterval:()=>U,day:()=>lt,friday:()=>yt,hour:()=>rt,millisecond:()=>V,minute:()=>nt,monday:()=>dt,month:()=>bt,saturday:()=>mt,second:()=>tt,sunday:()=>ht,thursday:()=>ft,tuesday:()=>pt,utcDay:()=>wt,utcHour:()=>Dt,utcMinute:()=>It,utcMonth:()=>Nt,utcYear:()=>Lt,wednesday:()=>gt,year:()=>Mt});var P=new Map;function B(t,e){P.has(e)||(P.set(e,!0),t())}function F(t){return t}function G(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;const{leading:n=!0,trailing:a=!0}=i??{};let s,r,o=!1;function l(){a&&r?(s=setTimeout(l,e),t(...r)):o=!1,r=null}return Object.assign((function(){for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];o?r=a:(o=!0,s=setTimeout(l,e),n?t(...a):r=a)}),{cancel(){clearTimeout(s),o=!1,r=null}})}B.clear=()=>P.clear();var _={log(){console.log(...arguments)},warn(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];console.warn(`AG Charts - ${t}`,...i)},error(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];"object"===typeof t?console.error("AG Charts error",t,...i):console.error(`AG Charts - ${t}`,...i)},table(){console.table(...arguments)},warnOnce(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];B((()=>_.warn(t,...i)),`Logger.warn: ${t}`)},errorOnce(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];B((()=>_.error(t,...i)),`Logger.error: ${t}`)}},U=class{constructor(t,e,i){this._encode=t,this._decode=e,this._rangeCallback=i}floor(t){const e=new Date(t),i=this._encode(e);return this._decode(i)}ceil(t){const e=new Date(Number(t)-1),i=this._encode(e);return this._decode(i+1)}range(t,e,i){const n=this._rangeCallback?.(t,e),a=this._encode(i?this.floor(t):this.ceil(t)),s=this._encode(i?this.ceil(e):this.floor(e));if(s<a)return[];const r=[];for(let o=a;o<=s;o++){const t=this._decode(o);r.push(t)}return n?.(),r}},Y=class extends U{getOffset(t,e){const i="number"===typeof t||t instanceof Date?this._encode(new Date(t)):0;return Math.floor(i)%e}every(t,e){let i,n=0;const a=t;a!==(t=Math.max(1,Math.round(t)))&&_.warnOnce(`interval step of [${a}] rounded to [${t}].`);const{snapTo:s="start"}=e??{};if("string"===typeof s){const e=n;i=(i,a)=>{const r="start"===s?i:a;return n=this.getOffset(r,t),()=>n=e}}else"number"===typeof s?n=this.getOffset(new Date(s),t):s instanceof Date&&(n=this.getOffset(s,t));return new U((e=>{const i=this._encode(e);return Math.floor((i-n)/t)}),(e=>this._decode(e*t+n)),i)}};var V=new Y((function(t){return t.getTime()}),(function(t){return new Date(t)})),W=V,Z=(new Date(0).getFullYear(),1e3),H=6e4,K=36e5,$=864e5,Q=6048e5,X=2592e6,J=31536e6,q=(new Date).getTimezoneOffset()*H;var tt=new Y((function(t){return Math.floor((t.getTime()-q)/Z)}),(function(t){return new Date(q+t*Z)})),et=tt,it=(new Date).getTimezoneOffset()*H;var nt=new Y((function(t){return Math.floor((t.getTime()-it)/H)}),(function(t){return new Date(it+t*H)})),at=nt,st=(new Date).getTimezoneOffset()*H;var rt=new Y((function(t){return Math.floor((t.getTime()-st)/K)}),(function(t){return new Date(st+t*K)})),ot=rt;var lt=new Y((function(t){const e=t.getTimezoneOffset()*H;return Math.floor((t.getTime()-e)/$)}),(function(t){const e=new Date(1970,0,1);return e.setDate(e.getDate()+t),e})),ct=lt;function ut(t){const e=(7+t-4)%7;return new Y((function(t){const i=t.getTimezoneOffset()*H;return Math.floor((t.getTime()-i)/Q-e/7)}),(function(t){const i=new Date(1970,0,1);return i.setDate(i.getDate()+7*t+e),i}))}var ht=ut(0),dt=ut(1),pt=ut(2),gt=ut(3),ft=ut(4),yt=ut(5),mt=ut(6),xt=ht;var bt=new Y((function(t){return 12*t.getFullYear()+t.getMonth()}),(function(t){const e=Math.floor(t/12);return new Date(e,t-12*e,1)})),vt=bt;var Mt=new Y((function(t){return t.getFullYear()}),(function(t){const e=new Date;return e.setFullYear(t),e.setMonth(0,1),e.setHours(0,0,0,0),e})),St=Mt;var It=new Y((function(t){return Math.floor(t.getTime()/H)}),(function(t){return new Date(t*H)}));var Dt=new Y((function(t){return Math.floor(t.getTime()/K)}),(function(t){return new Date(t*K)}));var wt=new Y((function(t){return Math.floor(t.getTime()/$)}),(function(t){const e=new Date(0);return e.setUTCDate(e.getUTCDate()+t),e.setUTCHours(0,0,0,0),e}));var Nt=new Y((function(t){return 12*t.getUTCFullYear()+t.getUTCMonth()}),(function(t){const e=Math.floor(t/12),i=t-12*e;return new Date(Date.UTC(e,i,1))}));var Lt=new Y((function(t){return t.getUTCFullYear()}),(function(t){const e=new Date;return e.setUTCFullYear(t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0),e})),kt={};E(kt,{NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>Mi,fromToMotion:()=>Si,staticFromToMotion:()=>Ii});var At=new Map;function Ct(){At.clear()}function Tt(t){const e=t.constructor,i=Object.hasOwn(e,"className")?e.className:e.name;if(!i)throw new Error(`The ${e} is missing the 'className' property.`);const n=(At.get(i)??0)+1;return At.set(i,n),`${i}-${n}`}function Et(){return crypto.randomUUID?.()??function(){const t=new Uint8Array(16);crypto.getRandomValues(t),t[6]=15&t[6]|64,t[8]=63&t[8]|128;let e="";for(let i=0;i<t.length;i++)4!==i&&6!==i&&8!==i&&10!==i||(e+="-"),e+=t[i].toString(16).padStart(2,"0");return e}()}function*Rt(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];for(const n of e)yield*n}function Ot(t){return null!=t&&"object"===typeof t&&Symbol.iterator in t?t:[t]}var zt=Symbol("interpolate"),jt=t=>null!=t[zt];function Pt(t,e,i){const n={nearest:void 0,distanceSquared:arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0};for(const a of i){const i=a.distanceSquared(t,e);if(0===i)return{nearest:a,distanceSquared:0};i<n.distanceSquared&&(n.nearest=a,n.distanceSquared=i)}return n}function Bt(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;const{x:a=t,y:s=e}=i.transformPoint?.(t,e)??{},r={nearest:void 0,distanceSquared:n};for(const o of i.children){const{nearest:t,distanceSquared:e}=o.nearestSquared(a,s,r.distanceSquared);if(0===e)return{nearest:t,distanceSquared:e};e<r.distanceSquared&&(r.nearest=t,r.distanceSquared=e)}return r}var Ft={};function Gt(t){return t?Ft.document?.[t]:Ft.document}function _t(t){return t?Ft.window?.[t]:Ft.window}function Ut(t,e,i){const n=Gt().createElement(t);if("object"===typeof e&&(i=e,e=void 0),e)for(const a of e.split(" "))n.classList.add(a);return i&&Object.assign(n.style,i),n}function Yt(t,e){return Gt().createElementNS(t,e)}function Vt(t,e){const{body:i}=Gt(),n=Ut("a",{display:"none"});n.href=t,n.download=e,i.appendChild(n),n.click(),setTimeout((()=>i.removeChild(n)))}function Wt(t){Ft.document=t}function Zt(t){Ft.window=t}function Ht(t,e){t&&(t.style.width=`${e.width}px`,t.style.height=`${e.height}px`,t.style.left=`${e.x}px`,t.style.top=`${e.y}px`)}function Kt(t){if(t.focus({preventScroll:!0}),null==t.lastChild?.textContent)return;const e=Gt().createRange();e.setStart(t.lastChild,t.lastChild.textContent.length),e.setEnd(t.lastChild,t.lastChild.textContent.length);const i=_t().getSelection();i?.removeAllRanges(),i?.addRange(e)}"undefined"!==typeof window?Ft.window=window:"undefined"!==typeof global&&(Ft.window=global.window),"undefined"!==typeof document?Ft.document=document:"undefined"!==typeof global&&(Ft.document=global.document);var $t=0;function Qt(t){return`${t??"ag-charts-element"}-${$t++}`}function Xt(t,e,i){return Math.min(i,Math.max(t,e))}function Jt(t,e){const[i,n]=qt(e);return Xt(i,t,n)}function qt(t){if(0===t.length)return[];const e=[1/0,-1/0];for(const i of t)i<e[0]&&(e[0]=i),i>e[1]&&(e[1]=i);return e}function te(t){const[e,i]=qt(t);return i-e}function ee(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-10;return Math.abs(t-e)<i}function ie(t){return-1===Math.sign(t)||Object.is(t,-0)}function ne(t){const e=10**(arguments.length>1&&void 0!==arguments[1]?arguments[1]:2);return Math.round(t*e)/e}function ae(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;const i=Math.floor(Math.log(Math.abs(t))/Math.LN10);return i>=0||!isFinite(i)?t.toFixed(e):t.toFixed(Math.abs(i)-1+e)}function se(t,e){return Math.floor(t%e+(t<0?e:0))}function re(t){if(Math.floor(t)===t)return 0;let e=String(t),i=0;if(t<1e-6||t>=1e21){let t;[e,t]=e.split("e"),null!=t&&(i=Number(t))}const n=e.split(".")[1]?.length??0;return Math.max(n-i,0)}function oe(t,e){return e=e??_t("navigator").language,new Intl.NumberFormat(e,{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2}).format(t)}function le(t,e){return oe(t/100,e)}var ce=class t{constructor(t,e,i,n){this.x=t,this.y=e,this.width=i,this.height=n}static fromDOMRect(e){let{x:i,y:n,width:a,height:s}=e;return new t(i,n,a,s)}toDOMRect(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.y,left:this.x,right:this.x+this.width,bottom:this.y+this.height,toJSON:()=>({})}}clone(){const{x:e,y:i,width:n,height:a}=this;return new t(e,i,n,a)}equals(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height}containsPoint(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height}intersection(e){if(!this.collidesBBox(e))return;const i=Xt(e.x,this.x,e.x+e.width),n=Xt(e.y,this.y,e.y+e.height),a=Xt(e.x,this.x+this.width,e.x+e.width),s=Xt(e.y,this.y+this.height,e.y+e.height);return new t(i,n,a-i,s-n)}collidesBBox(t){return this.x<t.x+t.width&&this.x+this.width>t.x&&this.y<t.y+t.height&&this.y+this.height>t.y}computeCenter(){return{x:this.x+this.width/2,y:this.y+this.height/2}}isFinite(){return Number.isFinite(this.x)&&Number.isFinite(this.y)&&Number.isFinite(this.width)&&Number.isFinite(this.height)}distanceSquared(t,e){if(this.containsPoint(t,e))return 0;const i=t-Xt(this.x,t,this.x+this.width),n=e-Xt(this.y,e,this.y+this.height);return i*i+n*n}static nearestBox(t,e,i){return Pt(t,e,i)}clip(t){if(void 0===t)return this;const e=Math.max(this.x,t.x),i=Math.max(this.y,t.y),n=Math.min(this.x+this.width,t.x+t.width),a=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.y=i,this.width=Math.max(0,n-e),this.height=Math.max(0,a-i),this}shrink(t,e){const i=(t,e)=>{switch(t){case"top":this.y+=e;case"bottom":this.height-=e;break;case"left":this.x+=e;case"right":this.width-=e;break;case"vertical":this.y+=e,this.height-=2*e;break;case"horizontal":this.x+=e,this.width-=2*e;break;case void 0:this.x+=e,this.width-=2*e,this.y+=e,this.height-=2*e}};return"number"===typeof t?i(e,t):"object"===typeof t&&Object.entries(t).forEach((t=>{let[e,n]=t;return i(e,n)})),this}grow(t,e){if("number"===typeof t)this.shrink(-t,e);else{const e={...t};for(const t in e)e[t]*=-1;this.shrink(e)}return this}translate(t,e){return this.x+=t,this.y+=e,this}combine(t){const{x:e,y:i,width:n,height:a}=this;this.x=Math.min(e,t.x),this.y=Math.min(i,t.y),this.width=Math.max(e+n,t.x+t.width)-this.x,this.height=Math.max(i+a,t.y+t.height)-this.y}static merge(e){let i=1/0,n=1/0,a=-1/0,s=-1/0;for(const t of e)t.x<i&&(i=t.x),t.y<n&&(n=t.y),t.x+t.width>a&&(a=t.x+t.width),t.y+t.height>s&&(s=t.y+t.height);return new t(i,n,a-i,s-n)}[zt](e,i){return new t(this.x*(1-i)+e.x*i,this.y*(1-i)+e.y*i,this.width*(1-i)+e.width*i,this.height*(1-i)+e.height*i)}};ce.zero=Object.freeze(new ce(0,0,0,0)),ce.NaN=Object.freeze(new ce(NaN,NaN,NaN,NaN));var ue=ce,he=(t=>(t[t.NONE=0]="NONE",t[t.TRIVIAL=1]="TRIVIAL",t[t.MINOR=2]="MINOR",t[t.MAJOR=3]="MAJOR",t))(he||{});function de(t){return function(e,i){const n=`__${i}`;e[i]||function(t,e,i,n){const{redraw:a=1,type:s="normal",changeCb:r,convertor:o,checkDirtyOnAssignment:l=!1}=n??{},c={redraw:a,type:s,changeCb:r,checkDirtyOnAssignment:l,convertor:o};let u;switch(s){case"normal":u=function(t,e){const{redraw:i=1,changeCb:n}=e;return function(e){return e!==this[t]?(this[t]=e,this.markDirty(i),n?.(this),e):pe}}(i,c);break;case"transform":u=function(t,e){const{redraw:i=1}=e;return function(e){return e!==this[t]?(this[t]=e,this.markDirtyTransform(i),e):pe}}(i,c);break;case"path":u=function(t,e){const{redraw:i=1}=e;return function(e){return e!==this[t]?(this[t]=e,this._dirtyPath||(this._dirtyPath=!0,this.markDirty(i)),e):pe}}(i,c)}u=function(t,e){const{checkDirtyOnAssignment:i}=e;if(i)return function(e){const i=t.call(this,e);return i!==pe&&null!=e&&e._dirty>0&&this.markDirty(e._dirty),i};return t}(function(t,e){const{changeCb:i}=e;if(i)return function(e){const n=t.call(this,e);return n!==pe&&i.call(this,this),n};return t}(function(t,e){const{convertor:i}=e;if(i)return function(e){t.call(this,i(e))};return t}(u,c),c),c);const h=function(){return this[i]};Object.defineProperty(t,e,{set:u,get:h,enumerable:!0,configurable:!0})}(e,i,n,t)}}var pe=Symbol("no-change");var ge=(t=>(t[t.All=0]="All",t[t.None=1]="None",t))(ge||{}),fe=class t{constructor(e){this.serialNumber=t._nextSerialNumber++,this.childNodeCounts={groups:0,nonGroups:0},this.id=Tt(this),this.pointerEvents=0,this._dirty=3,this.dirtyZIndex=!1,this.virtualChildrenCount=0,this.isContainerNode=!1,this.visible=!0,this.zIndex=0,this.zIndexSubOrder=void 0,this.name=e?.name,this.isVirtual=e?.isVirtual??!1,this.tag=e?.tag??NaN,this.zIndex=e?.zIndex??0}static*extractBBoxes(t,e){for(const i of t)if(!e||i.visible&&!i.transitionOut){const t=i.getBBox();t&&(yield t)}}get datum(){return this._datum??this.parentNode?.datum}set datum(t){this._datum!==t&&(this._previousDatum=this._datum,this._datum=t)}get previousDatum(){return this._previousDatum}get layerManager(){return this._layerManager}get dirty(){return this._dirty}preRender(){this.childNodeCounts.groups=0,this.childNodeCounts.nonGroups=1;for(const t of this.children()){const e=t.preRender();this.childNodeCounts.groups+=e.groups,this.childNodeCounts.nonGroups+=e.nonGroups}return this.childNodeCounts}render(t){const{stats:e}=t;if(this._dirty=0,t.debugNodeSearch){const e=this.name??this.id;t.debugNodeSearch.some((t=>"string"===typeof t?t===e:t.test(e)))&&(t.debugNodes[this.name??this.id]=this)}e&&e.nodesRendered++}_setLayerManager(t){this._layerManager=t,this._debug=t?.debug;for(const e of this.children(!1))e._setLayerManager(t)}sortChildren(t){if(this.dirtyZIndex=!1,!this.childNodes)return;if(this.hasVirtualChildren())return;const e=[...this.childNodes].sort(t);this.childNodes.clear();for(const i of e)this.childNodes.add(i)}*traverseUp(t){let e=this;for(t&&(yield e);e=e.parentNode;)yield e}children(){var t=this;let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function*(){if(!t.childNodes)return;const i=[];for(const n of t.childNodes)e&&n.isVirtual?i.push(n.children()):yield n;for(const t of i)yield*t}()}*virtualChildren(){if(this.childNodes&&this.virtualChildrenCount)for(const t of this.childNodes)t.isVirtual&&(yield t)}hasVirtualChildren(){return this.virtualChildrenCount>0}isLeaf(){return!this.childNodes?.size}isRoot(){return!this.parentNode}append(t){this.childNodes??(this.childNodes=new Set);for(const e of Ot(t))e.parentNode?.removeChild(e),this.childNodes.add(e),e.parentNode=this,e._setLayerManager(this.layerManager),e.isVirtual&&this.virtualChildrenCount++;this.invalidateCachedBBox(),this.dirtyZIndex=!0,this.markDirty(3)}appendChild(t){return this.append(t),t}removeChild(t){return!!this.childNodes?.delete(t)&&(delete t.parentNode,t._setLayerManager(),t.isVirtual&&this.virtualChildrenCount--,this.invalidateCachedBBox(),this.dirtyZIndex=!0,this.markDirty(3),!0)}remove(){return this.parentNode?.removeChild(this)??!1}clear(){for(const t of this.children(!1))delete t.parentNode,t._setLayerManager();this.childNodes?.clear(),this.invalidateCachedBBox(),this.virtualChildrenCount=0}destroy(){this.parentNode?.removeChild(this)}setProperties(t,e){if(e)for(const i of e)this[i]=t[i];else Object.assign(this,t);return this}containsPoint(t,e){return!1}pickNode(t,e){if(!this.visible||1===this.pointerEvents||!this.containsPoint(t,e))return;const i=[...this.children()];if(i.length>1e3)for(let n=i.length-1;n>=0;n--){const a=i[n],s=a.containsPoint(t,e)?a.pickNode(t,e):void 0;if(s)return s}else if(i.length)for(let n=i.length-1;n>=0;n--){const a=i[n].pickNode(t,e);if(a)return a}else if(!this.isContainerNode)return this}invalidateCachedBBox(){this.cachedBBox=void 0,this.parentNode?.invalidateCachedBBox()}getBBox(){return null==this.cachedBBox&&(this.cachedBBox=Object.freeze(this.computeBBox())),this.cachedBBox}computeBBox(){}markDirty(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;const{_dirty:i}=this,n=i>t||i===t&&t===e;null==this.cachedBBox&&n||(this.invalidateCachedBBox(),this._dirty=Math.max(i,t),this.parentNode?this.parentNode.markDirty(e):this.layerManager&&this.layerManager.markDirty())}markClean(t){const{force:e=!1,recursive:i=!0}=t??{};if(0!==this._dirty||e){this._dirty=0;for(const t of this.children(!1))(t.isVirtual?!1!==i:!0===i)&&t.markClean({force:e})}}onVisibleChange(){}onZIndexChange(){this.parentNode&&(this.parentNode.dirtyZIndex=!0)}toSVG(){}};fe._nextSerialNumber=0,R([de({redraw:3,changeCb:t=>t.onVisibleChange()})],fe.prototype,"visible",2),R([de({redraw:1,changeCb:t=>t.onZIndexChange()})],fe.prototype,"zIndex",2),R([de({redraw:1,changeCb:t=>t.onZIndexChange()})],fe.prototype,"zIndexSubOrder",2);var ye=fe,me=(t,e,i)=>t*(1-i)+e*i,xe=t=>{const e=t<0?-1:1,i=Math.abs(t);return i<=.04045?t/12.92:e*((i+.055)/1.055)**2.4},be=t=>{const e=t<0?-1:1,i=Math.abs(t);return i>.0031308?e*(1.055*i**(1/2.4)-.055):12.92*t},ve=class t{constructor(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.r=Xt(0,t||0,1),this.g=Xt(0,e||0,1),this.b=Xt(0,i||0,1),this.a=Xt(0,n||0,1)}static validColorString(e){return e.indexOf("#")>=0?!!t.parseHex(e):e.indexOf("rgb")>=0?!!t.stringToRgba(e):!!t.nameToHex[e.toLowerCase()]}static fromString(e){if(e.indexOf("#")>=0)return t.fromHexString(e);const i=t.nameToHex[e.toLowerCase()];if(i)return t.fromHexString(i);if(e.indexOf("rgb")>=0)return t.fromRgbaString(e);throw new Error(`Invalid color string: '${e}'`)}static parseHex(t){let e;switch((t=t.replace(/ /g,"").slice(1)).length){case 6:case 8:e=[];for(let i=0;i<t.length;i+=2)e.push(parseInt(`${t[i]}${t[i+1]}`,16));break;case 3:case 4:e=t.split("").map((t=>parseInt(t,16))).map((t=>t+16*t))}if(e?.length>=3&&e.every((t=>t>=0)))return 3===e.length&&e.push(255),e}static fromHexString(e){const i=t.parseHex(e);if(i){const[e,n,a,s]=i;return new t(e/255,n/255,a/255,s/255)}throw new Error(`Malformed hexadecimal color string: '${e}'`)}static stringToRgba(t){let e=-1,i=-1;for(let s=0;s<t.length;s++){const n=t[s];if(-1===e&&"("===n)e=s;else if(")"===n){i=s;break}}if(-1===e||-1===i)return;const n=t.substring(e+1,i).split(","),a=[];for(let s=0;s<n.length;s++){const t=n[s];let e=parseFloat(t);if(!Number.isFinite(e))return;t.indexOf("%")>=0?(e=Xt(0,e,100),e/=100):3===s?e=Xt(0,e,1):(e=Xt(0,e,255),e/=255),a.push(e)}return a}static fromRgbaString(e){const i=t.stringToRgba(e);if(i){if(3===i.length)return new t(i[0],i[1],i[2]);if(4===i.length)return new t(i[0],i[1],i[2],i[3])}throw new Error(`Malformed rgb/rgba color string: '${e}'`)}static fromArray(e){if(4===e.length)return new t(e[0],e[1],e[2],e[3]);if(3===e.length)return new t(e[0],e[1],e[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")}static fromHSB(e,i,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const s=t.HSBtoRGB(e,i,n);return new t(s[0],s[1],s[2],a)}static fromHSL(e,i,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const s=t.HSLtoRGB(e,i,n);return new t(s[0],s[1],s[2],a)}static fromOKLCH(e,i,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const s=t.OKLCHtoRGB(e,i,n);return new t(s[0],s[1],s[2],a)}static padHex(t){return 1===t.length?"0"+t:t}toHexString(){let e="#"+t.padHex(Math.round(255*this.r).toString(16))+t.padHex(Math.round(255*this.g).toString(16))+t.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(e+=t.padHex(Math.round(255*this.a).toString(16))),e}toRgbaString(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;const e=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],i=Math.pow(10,t);return 1!==this.a?(e.push(Math.round(this.a*i)/i),`rgba(${e.join(", ")})`):`rgb(${e.join(", ")})`}toString(){return 1===this.a?this.toHexString():this.toRgbaString()}toHSB(){return t.RGBtoHSB(this.r,this.g,this.b)}static RGBtoOKLCH(t,e,i){const n=xe(t),a=xe(e),s=xe(i),r=Math.cbrt(.4122214708*n+.5363325363*a+.0514459929*s),o=Math.cbrt(.2119034982*n+.6806995451*a+.1073969566*s),l=Math.cbrt(.0883024619*n+.2817188376*a+.6299787005*s),c=.2104542553*r+.793617785*o-.0040720468*l,u=1.9779984951*r-2.428592205*o+.4505937099*l,h=.0259040371*r+.7827717662*o-.808675766*l,d=180*Math.atan2(h,u)/Math.PI;return[c,Math.hypot(u,h),d>=0?d:d+360]}static OKLCHtoRGB(t,e,i){const n=t,a=e*Math.cos(i*Math.PI/180),s=e*Math.sin(i*Math.PI/180),r=(n+.3963377774*a+.2158037573*s)**3,o=(n-.1055613458*a-.0638541728*s)**3,l=(n-.0894841775*a-1.291485548*s)**3,c=-1.2684380046*r+2.6097574011*o-.3413193965*l,u=-.0041960863*r-.7034186147*o+1.707614701*l;return[be(4.0767416621*r-3.3077115913*o+.2309699292*l),be(c),be(u)]}static RGBtoHSL(t,e,i){const n=Math.min(t,e,i),a=Math.max(t,e,i),s=(a+n)/2;let r,o;if(a===n)r=0,o=0;else{const l=a-n;o=s>.5?l/(2-a-n):l/(a+n),r=a===t?(e-i)/l+(e<i?6:0):a===e?(i-t)/l+2:(t-e)/l+4,r*=60}return[r,o,s]}static HSLtoRGB(t,e,i){if(0===e)return[i,i,i];const n=i<.5?i*(1+e):i+e-i*e,a=2*i-n;function s(t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?a+6*(n-a)*t:t<.5?n:t<2/3?a+(n-a)*(2/3-t)*6:a}return[s((t=(t%360+360)%360)/360+1/3),s(t/360),s(t/360-1/3)]}static RGBtoHSB(t,e,i){const n=Math.min(t,e,i),a=Math.max(t,e,i);let s=0;if(n!==a){const r=a-n,o=(a-t)/r,l=(a-e)/r,c=(a-i)/r;s=t===a?c-l:e===a?2+o-c:4+l-o,s/=6,s<0&&(s+=1)}return[360*s,0===a?0:(a-n)/a,a]}static HSBtoRGB(t,e,i){t=(t%360+360)%360/360;let n=0,a=0,s=0;if(0===e)n=a=s=i;else{const r=6*(t-Math.floor(t)),o=r-Math.floor(r),l=i*(1-e),c=i*(1-e*o),u=i*(1-e*(1-o));switch(r|0){case 0:n=i,a=u,s=l;break;case 1:n=c,a=i,s=l;break;case 2:n=l,a=i,s=u;break;case 3:n=l,a=c,s=i;break;case 4:n=u,a=l,s=i;break;case 5:n=i,a=l,s=c}}return[n,a,s]}static mix(e,i,n){return new t(me(e.r,i.r,n),me(e.g,i.g,n),me(e.b,i.b,n),me(e.a,i.a,n))}};ve.nameToHex={__proto__:null,aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",transparent:"#00000000",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};var Me=ve;function Se(t,e){return i=>Number(t)*(1-i)+Number(e)*i}function Ie(t,e){if("string"===typeof t)try{t=Me.fromString(t)}catch(i){t=Me.fromArray([0,0,0])}if("string"===typeof e)try{e=Me.fromString(e)}catch(i){e=Me.fromArray([0,0,0])}return i=>Me.mix(t,e,i).toRgbaString()}var De=Symbol("BREAK"),we="__decorator_config";function Ne(t,e){null==Object.getOwnPropertyDescriptor(t,we)&&Object.defineProperty(t,we,{value:{}});const i=t[we],n=e.toString();if("undefined"!==typeof i[n])return i[n];const a=new WeakMap;i[n]={setters:[],getters:[],observers:[],valuesMap:a};const s=Object.getOwnPropertyDescriptor(t,e),r=s?.set,o=s?.get;return Object.defineProperty(t,e,{set:function(t){const{setters:s,observers:l}=i[n];let c;s.some((t=>t.length>2))&&(c=o?o.call(this):a.get(this));for(const i of s)if((t=i(this,e,t,c))===De)return;r?r.call(this,t):a.set(this,t);for(const e of l)e(this,t,c)},get:function(){let t=o?o.call(this):a.get(this);for(const a of i[n].getters)if(t=a(this,e,t),t===De)return;return t},enumerable:!0,configurable:!1}),i[n]}function Le(t,e,i){return(n,a)=>{const s=Ne(n,a);s.setters.push(t),e&&s.getters.unshift(e),i&&Object.assign(s,i)}}function ke(t){return"undefined"!==typeof t&&we in t}function Ae(t){const e=new Set;for(;ke(t);)e.add(t?.[we]),t=Object.getPrototypeOf(t);return Array.from(e).flatMap((t=>Object.keys(t)))}function Ce(t){return Ae(t).reduce(((e,i)=>(e[i]=t[i]??null,e)),{})}function Te(t){return null!=t}function Ee(t){return Array.isArray(t)}function Re(t){return"boolean"===typeof t}function Oe(t){return t instanceof Date}function ze(t){return Oe(t)&&!isNaN(Number(t))}function je(t){return t instanceof RegExp}function Pe(t){return"function"===typeof t}function Be(t){return"object"===typeof t&&null!==t&&!Ee(t)}function Fe(t){return Ee(t)||Ge(t)}function Ge(t){return"object"===typeof t&&null!==t&&Object.getPrototypeOf(t)===Object.prototype}function _e(t){return"string"===typeof t}function Ue(t){return"number"===typeof t}function Ye(t){return Number.isFinite(t)}function Ve(t){return"undefined"!==typeof window&&t instanceof HTMLElement}function We(t,e){return _e(e)&&Object.keys(t).includes(e)}function Ze(t,e){return Object.values(t).includes(e)}function He(t){return"symbol"===typeof t}function Ke(t,e){return t.type!==e}function $e(t,e,i){for(const n in e)if(!(n in t))return!1;for(const n in t){if(!(n in e))return!1;if(!i(t[n],e[n]))return!1}return!0}function Qe(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return Xe(...e.reverse())}function Xe(){const t={};for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];for(const a of i){if(!Be(a))continue;const e=ke(a)?Ae(a):Object.keys(a);for(const i of e)Ge(t[i])&&Ge(a[i])?t[i]=Xe(t[i],a[i]):t[i]??(t[i]=a[i])}return t}function Je(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return i&&Ee(t)?t.map((t=>Xe(t,...i))):t}function qe(t,e){return Object.entries(t).reduce(((i,n)=>{let[a,s]=n;return i[a]=e(s,a,t),i}),{})}function ti(t,e){const i={...t};for(const n of e)delete i[n];return i}function ei(t,e){return(Ee(e)?e:e.split(".")).reduce(((t,e)=>t[e]),t)}var ii=new Set(["__proto__","constructor","prototype"]);function ni(t,e,i){const n=Ee(e)?e.slice():e.split("."),a=n.pop();if(n.some((t=>ii.has(t))))return;const s=n.reduce(((t,e)=>t[e]),t);return s[a]=i,s[a]}function ai(t,e,i){if(void 0===i)return e;for(const n of t){const t=i[n];void 0!==t&&(e[n]=t)}return e}var si={};E(si,{easeIn:()=>oi,easeInOut:()=>ci,easeInOutQuad:()=>di,easeInQuad:()=>ui,easeOut:()=>li,easeOutQuad:()=>hi,inverseEaseOut:()=>pi,linear:()=>ri});var ri=t=>t,oi=t=>1-Math.cos(t*Math.PI/2),li=t=>Math.sin(t*Math.PI/2),ci=t=>-(Math.cos(t*Math.PI)-1)/2,ui=t=>t*t,hi=t=>1-(1-t)**2,di=t=>t<.5?2*t*t:1-(-2*t+2)**2/2,pi=t=>2*Math.asin(t)/Math.PI,gi=.2,fi=["initial","remove","update","add","trailing","end","none"],yi={initial:{animationDuration:1,animationDelay:0},add:{animationDuration:.25,animationDelay:.75},remove:{animationDuration:.25,animationDelay:0},update:{animationDuration:.5,animationDelay:.25},trailing:{animationDuration:gi,animationDelay:1,skipIfNoEarlierAnimations:!0},end:{animationDelay:1.2,animationDuration:0,skipIfNoEarlierAnimations:!0},none:{animationDuration:0,animationDelay:0}},mi=(t=>(t.Loop="loop",t.Reverse="reverse",t))(mi||{});function xi(t){return t.every((t=>t instanceof ye))?{nodes:t,selections:[]}:{nodes:[],selections:t}}function bi(t,e){return t===e||(Array.isArray(t)&&Array.isArray(e)?t.length===e.length&&t.every(((t,i)=>bi(t,e[i]))):jt(t)&&jt(e)?t.equals(e):!(!Ge(t)||!Ge(e))&&$e(t,e,bi))}var vi=class{constructor(t){this.isComplete=!1,this.elapsed=0,this.iteration=0,this.isPlaying=!1,this.isReverse=!1,this.id=t.id,this.groupId=t.groupId,this.autoplay=t.autoplay??!0,this.ease=t.ease??ri,this.phase=t.phase;const e=t.duration??yi[this.phase].animationDuration;this.duration=e*t.defaultDuration,this.delay=(t.delay??0)*t.defaultDuration,this.onComplete=t.onComplete,this.onPlay=t.onPlay,this.onStop=t.onStop,this.onUpdate=t.onUpdate,this.interpolate=this.createInterpolator(t.from,t.to),this.from=t.from,!0===t.skip&&(this.onUpdate?.(t.to,!1,this),this.onStop?.(this),this.onComplete?.(this),this.isComplete=!0),!1!==t.collapsable&&(this.duration=this.checkCollapse(t,this.duration))}checkCollapse(t,e){return bi(t.from,t.to)?0:e}play(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isPlaying||this.isComplete||(this.isPlaying=!0,this.onPlay?.(this),this.autoplay&&(this.autoplay=!1,t&&this.onUpdate?.(this.from,!0,this)))}pause(){this.isPlaying=!1}stop(){this.isPlaying=!1,this.isComplete||(this.isComplete=!0,this.onStop?.(this))}update(t){if(this.isComplete)return t;!this.isPlaying&&this.autoplay&&this.play(!0);const e=this.elapsed;if(this.elapsed+=t,this.delay>this.elapsed)return 0;const i=this.interpolate(this.isReverse?1-this.delta:this.delta);this.onUpdate?.(i,!1,this);const n=this.delay+this.duration;return this.elapsed>=n?(this.stop(),this.isComplete=!0,this.onComplete?.(this),t-(n-e)):0}get delta(){return this.ease(Xt(0,(this.elapsed-this.delay)/this.duration,1))}createInterpolator(t,e){if("object"!==typeof e||jt(e))return this.interpolateValue(t,e);const i=[];for(const n in e){const a=this.interpolateValue(t[n],e[n]);null!=a&&i.push([n,a])}return t=>{const e={};for(const[n,a]of i)e[n]=a(t);return e}}interpolateValue(t,e){if(null!=t&&null!=e){if(jt(t))return i=>t[zt](e,i);try{switch(typeof t){case"number":return Se(t,e);case"string":return Ie(t,e);case"boolean":if(t===e)return()=>t}}catch(i){}throw new Error(`Unable to interpolate values: ${t}, ${e}`)}}},Mi={added:"add",updated:"update",removed:"remove",unknown:"initial","no-op":"none"};function Si(t,e,i,n,a,s,r){const{fromFn:o,toFn:l,applyFn:c=(t,e)=>t.setProperties(e)}=a,{nodes:u,selections:h}=xi(n),d=(n,a)=>{let u,h=0,d=0;for(const p of a){const g=n[h]===p,f={last:d>=a.length-1,lastLive:h>=n.length-1,prev:a[d-1],prevFromProps:u,prevLive:n[h-1],next:a[d+1],nextLive:n[h+(g?1:0)]},y=`${t}_${e}_${p.id}`;i.stopByAnimationId(y);let m="unknown";g?s&&r&&(m=Di(p,p.datum,s,r)):m="removed",p.transitionOut="removed"===m;const{phase:x,start:b,finish:v,delay:M,duration:S,...I}=o(p,p.datum,m,f),{phase:D,start:w,finish:N,delay:L,duration:k,...A}=l(p,p.datum,m,f),C=null==v;i.animate({id:y,groupId:t,phase:x??D??"update",duration:S??k,delay:M??L,from:I,to:A,ease:li,collapsable:C,onPlay:()=>{c(p,{...b,...w,...I})},onUpdate(t){c(p,t)},onStop:()=>{c(p,{...b,...w,...I,...A,...v,...N})}}),g&&h++,d++,u=I}};let p=0;for(const g of h){const n=g.nodes();d(n.filter((t=>!g.isGarbage(t))),n),i.animate({id:`${t}_${e}_selection_${p}`,groupId:t,phase:"end",from:0,to:1,ease:li,onStop(){g.cleanup()}}),p++}d(u,u)}function Ii(t,e,i,n,a,s,r){const{nodes:o,selections:l}=xi(n),{start:c,finish:u,phase:h}=r;i.animate({id:`${t}_${e}`,groupId:t,phase:h??"update",from:a,to:s,ease:li,onPlay:()=>{if(c){for(const t of o)t.setProperties(c);for(const t of l)for(const e of t.nodes())e.setProperties(c)}},onUpdate(t){for(const e of o)e.setProperties(t);for(const e of l)for(const i of e.nodes())i.setProperties(t)},onStop:()=>{for(const t of o)t.setProperties({...s,...u});for(const t of l){for(const e of t.nodes())e.setProperties({...s,...u});t.cleanup()}}})}function Di(t,e,i,n){const a=i(t,e);return n.added.has(a)?"added":n.removed.has(a)?"removed":"updated"}var wi=(t,e)=>{const i=Symbol(String(e));t[i]=void 0,Object.defineProperty(t,e,{get(){return this[i]},set(t){this[i]!==t&&(this[i]=t,this.invalid=!0)},enumerable:!0,configurable:!1})},Ni=class t{constructor(e,i){this.invalid=!0,this.nice=!1,this.interval=void 0,this.tickCount=t.defaultTickCount,this.minTickCount=0,this.maxTickCount=1/0,this.niceDomain=[],this.defaultClampMode="raw",this.domain=e,this.range=i}static is(e){return e instanceof t}transform(t){return t}transformInvert(t){return t}calcBandwidth(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const e=this.getDomain(),i=this.getPixelRange(),n=Math.abs(e[1]-e[0])/t+1,a=Math.floor(i),s=Math.min(n,a);return i/Math.max(1,s)}getDomain(){return this.nice&&(this.refresh(),this.niceDomain.length)?this.niceDomain:this.domain}convert(t,e){const i=e?.clampMode??this.defaultClampMode;if(!this.domain||this.domain.length<2)return NaN;this.refresh();const n=this.getDomain().map((t=>this.transform(t))),[a,s]=n,{range:r}=this,[o,l]=r;if(t=this.transform(t),"clamped"===i){const[e,i]=qt(n.map(Number));if(Number(t)<e)return o;if(Number(t)>i)return l}return a===s?(o+l)/2:t===a?o:t===s?l:o+(Number(t)-Number(a))/(Number(s)-Number(a))*(l-o)}invert(t){this.refresh();const e=this.getDomain().map((t=>this.transform(t))),[i,n]=e,{range:a}=this,[s,r]=a,o=s>r;let l;return t<(o?r:s)?o?n:i:t>(o?s:r)?o?i:n:(l=s===r?this.toDomain((Number(i)+Number(n))/2):this.toDomain(Number(i)+(t-s)/(r-s)*(Number(n)-Number(i))),this.transformInvert(l))}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&_.warnOnce("Expected update to not invalidate scale"))}getPixelRange(){const[t,e]=this.range;return Math.abs(e-t)}};Ni.defaultTickCount=5,Ni.defaultMaxTickCount=6,R([wi],Ni.prototype,"domain",2),R([wi],Ni.prototype,"range",2),R([wi],Ni.prototype,"nice",2),R([wi],Ni.prototype,"interval",2),R([wi],Ni.prototype,"tickCount",2),R([wi],Ni.prototype,"minTickCount",2),R([wi],Ni.prototype,"maxTickCount",2);var Li=Ni;function ki(t){if(0===t.length)return null;let e=1/0,i=-1/0;for(let a of t)a instanceof Date&&(a=a.getTime()),"number"===typeof a&&(a<e&&(e=a),a>i&&(i=a));const n=[e,i];return n.every(isFinite)?n:null}function Ai(t,e,i){let n=!1;return t.length>2&&(t=ki(t)??[NaN,NaN]),isNaN(e)||(n||(n=e>t[0]),t=[e,t[1]]),isNaN(i)||(n||(n=i<t[1]),t=[t[0],i]),t[0]>t[1]&&(t=[]),{extent:t,clipped:n}}function Ci(t,e){if(null==t||null==e||t.length!==e.length)return!1;for(let i=0;i<t.length;i++)if(Array.isArray(t[i])&&Array.isArray(e[i])){if(!Ci(t[i],e[i]))return!1}else if(t[i]!==e[i])return!1;return!0}function Ti(t){return"undefined"===typeof t?[]:Array.isArray(t)?t:[t]}function Ei(t){return Array.from(new Set(t))}function Ri(t,e){return t.reduce(((t,i)=>{const n=e(i);return t[n]??(t[n]=[]),t[n].push(i),t}),{})}function Oi(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(0===t.length)return[];const n=[];for(let a=0;a<e;a++)n.push(t.at((a+i)%t.length));return n}function zi(t,e){const i=new Map;return e.forEach(((t,e)=>{i.set(t,e)})),t.sort(((t,e)=>(i.get(t)??1/0)-(i.get(e)??1/0)))}var ji={periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};function Pi(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date(t.getFullYear(),0,1);const i=t.getTimezoneOffset()-e.getTimezoneOffset(),n=t.getTime()-e.getTime()+6e4*i;return Math.floor(n/864e5)}function Bi(t,e){const i=(e-new Date(t.getFullYear(),0,1).getDay()+7)%7,n=new Date(t.getFullYear(),0,i+1);return n<=t?Math.floor(Pi(t,n)/7)+1:0}function Fi(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.getFullYear();const i=new Date(e,0,1).getDay(),n=new Date(e,0,(4-i+7)%7-3+1);return n<=t?Math.floor(Pi(t,n)/7)+1:Fi(t,e-1)}var Gi={a:t=>ji.shortDays[t.getDay()],A:t=>ji.days[t.getDay()],b:t=>ji.shortMonths[t.getMonth()],B:t=>ji.months[t.getMonth()],c:"%x, %X",d:(t,e)=>Ui(t.getDate(),2,e??"0"),e:"%_d",f:(t,e)=>Ui(1e3*t.getMilliseconds(),6,e??"0"),H:(t,e)=>Ui(t.getHours(),2,e??"0"),I:(t,e)=>{const i=t.getHours()%12;return 0===i?"12":Ui(i,2,e??"0")},j:(t,e)=>Ui(Pi(t)+1,3,e??"0"),m:(t,e)=>Ui(t.getMonth()+1,2,e??"0"),M:(t,e)=>Ui(t.getMinutes(),2,e??"0"),L:(t,e)=>Ui(t.getMilliseconds(),3,e??"0"),p:t=>t.getHours()<12?"AM":"PM",Q:t=>String(t.getTime()),s:t=>String(Math.floor(t.getTime()/1e3)),S:(t,e)=>Ui(t.getSeconds(),2,e??"0"),u:t=>{let e=t.getDay();return e<1&&(e+=7),String(e%7)},U:(t,e)=>Ui(Bi(t,0),2,e??"0"),V:(t,e)=>Ui(Fi(t),2,e??"0"),w:(t,e)=>Ui(t.getDay(),2,e??"0"),W:(t,e)=>Ui(Bi(t,1),2,e??"0"),x:"%-m/%-d/%Y",X:"%-I:%M:%S %p",y:(t,e)=>Ui(t.getFullYear()%100,2,e??"0"),Y:(t,e)=>Ui(t.getFullYear(),4,e??"0"),Z:t=>function(t){const e=t.getTimezoneOffset(),i=Math.abs(e);return`${e>0?"-":"+"}${Ui(Math.floor(i/60),2,"0")}${Ui(Math.floor(i%60),2,"0")}`}(t),"%":()=>"%"},_i={_:" ",0:"0","-":""};function Ui(t,e,i){const n=String(Math.floor(t));return n.length>=e?n:`${i.repeat(e-n.length)}${n}`}function Yi(t){const e=[];for(;t.length>0;){let i=t.indexOf("%");if(0!==i){const n=i>0?t.substring(0,i):t;e.push(n)}if(i<0)break;const n=t[i+1],a=_i[n];null!=a&&i++;const s=t[i+1],r=Gi[s];if("function"===typeof r)e.push([r,a]);else if("string"===typeof r){const t=Yi(r);e.push([t,a])}else e.push(`${a??""}${s}`);t=t.substring(i+2)}return t=>{const i="number"===typeof t?new Date(t):t;return e.map((t=>"string"===typeof t?t:t[0](i,t[1]))).join("")}}function Vi(t){return t instanceof Date?t.getTime():t}function Wi(t,e,i){const n=Yi(Zi(t,e,i));return t=>n(t)}function Zi(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=1/0;for(let o=1;o<t.length;o++)n=Math.min(n,Math.abs(t[o]-t[o-1]));const a=new Date(e[0]).getFullYear(),s=new Date(e.at(-1)).getFullYear()-a>0,r=isFinite(n)?function(t,e){if(t<Z)return 0;if(t<H)return 1;if(t<K)return 2;if(t<$)return 3;if(t<Q)return 4;if(t<24192e5||t<26784e5&&function(t){let e=new Date(t[0]).getMonth();for(let i=1;i<t.length;i++){const n=new Date(t[i]).getMonth();if(e===n)return!0;e=n}return!1}(e))return 5;if(t<J)return 6;return 7}(n,t):function(t){if(et.floor(t)<t)return 0;if(at.floor(t)<t)return 1;if(ot.floor(t)<t)return 2;if(ct.floor(t)<t)return 3;if(vt.floor(t)<t)return xt.floor(t)<t?4:5;if(St.floor(t)<t)return 6;return 7}(t[0]);return function(t,e,i){const n=Vi(i[0]),a=Vi(i.at(-1)),s=Math.abs(a-n),r=e||7===t,o=[["hour",216e5,12096e5,3,"%I %p"],["hour",H,216e5,3,"%I:%M"],["second",1e3,216e5,1,":%S"],["ms",0,216e5,0,".%L"],["am/pm",H,216e5,3,"%p"]," ",["day",$,Q,4,"%a"],["month",0===s?0:Q,314496e5,5,"%b %d"],["month",3024e6,31536e7,6,"%B"]," ",["year",r?0:J,1/0,7,"%Y"]].filter((e=>{if("string"===typeof e)return!0;const[i,n,a,r]=e;return r>=t&&n<=s&&s<a})).reduce(((t,e)=>("string"===typeof e?t.result.push(e):t.used.has(e[0])||(t.result.push(e),t.used.add(e[0])),t)),{result:[],used:new Set}).result,l=o.findIndex((t=>"string"!==typeof t)),c=o.findLastIndex((t=>"string"!==typeof t));return o.slice(l,c+1).map((t=>"string"===typeof t?t:t[4])).join("").replaceAll(/\s+/g," ").trim()}(Math.max(r-i,0),s,t)}var Hi=class t{constructor(){this.type="band",this.invalid=!0,this.range=[0,1],this.round=!1,this.interval=void 0,this.index=new Map,this.ordinalRange=[],this._domain=[],this._bandwidth=1,this._step=1,this._inset=1,this._rawBandwidth=1,this._paddingInner=0,this._paddingOuter=0}static is(e){return e instanceof t}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&_.warnOnce("Expected update to not invalidate scale"))}set domain(t){this.index=new Map,this.invalid=!0,this._domain=[];for(const e of t){const t=Vi(e);void 0===this.getIndex(t)&&this.index.set(t,this._domain.push(e)-1)}}get domain(){return this._domain}getDomain(){return this._domain}ticks(){return this.refresh(),this._domain}convert(t){this.refresh();const e=this.getIndex(t);return null==e?NaN:this.ordinalRange[e]??NaN}invert(t){this.refresh();const e=this.ordinalRange.findIndex((e=>e===t));return this.domain[e]}invertNearest(t){this.refresh();let e=-1,i=1/0;const n=this.ordinalRange.findIndex(((n,a)=>{if(n===t)return!0;const s=Math.abs(t-n);return s<i&&(i=s,e=a),!1}));return this.domain[n]??this.domain[e]}get bandwidth(){return this.refresh(),this._bandwidth}get step(){return this.refresh(),this._step}get inset(){return this.refresh(),this._inset}get rawBandwidth(){return this.refresh(),this._rawBandwidth}set padding(t){t=Xt(0,t,1),this._paddingInner=t,this._paddingOuter=t}get padding(){return this._paddingInner}set paddingInner(t){this._paddingInner=Xt(0,t,1)}get paddingInner(){return this._paddingInner}set paddingOuter(t){this._paddingOuter=Xt(0,t,1)}get paddingOuter(){return this._paddingOuter}update(){const t=this._domain.length;if(0===t)return;const[e,i]=this.range;let{_paddingInner:n}=this;const{_paddingOuter:a,round:s}=this,r=i-e;let o;1===t?(n=0,o=r*(1-2*a)):o=r/Math.max(1,t-n+2*a);const l=s?Math.floor(o):o;let c=e+(r-l*(t-n))/2,u=l*(1-n);s&&(c=Math.round(c),u=Math.round(u)),this._step=l,this._inset=c,this._bandwidth=u,this._rawBandwidth=o*(1-n),this.ordinalRange=this._domain.map(((t,e)=>c+l*e))}getIndex(t){return this.index.get(t instanceof Date?t.getTime():t)}};R([wi],Hi.prototype,"range",2),R([wi],Hi.prototype,"round",2),R([wi],Hi.prototype,"interval",2);var Ki=Hi,$i=class{set(t){const{className:e=this.constructor.name}=this.constructor;if("object"!==typeof t)return _.warn(`unable to set ${e} - expecting a properties object`),this;const i=new Set(Object.keys(t));for(const n of Ae(this))if(i.has(n)){const e=t[n],a=this;if(Xi(a[n]))if(a[n]instanceof Qi){const t=a[n].reset(e);null!=t?a[n]=t:_.warn(`unable to set [${n}] - expecting a properties array`)}else a[n].set(e);else a[n]=e;i.delete(n)}for(const n of i)_.warn(`unable to set [${n}] in ${e} - property is unknown`);return this}isValid(t){return Ae(this).every((e=>{const{optional:i}=function(t,e){const i=e.toString();for(;ke(t);){const e=t[we];if(Object.hasOwn(e,i))return e[i];t=Object.getPrototypeOf(t)}}(this,e),n=!0===i||"undefined"!==typeof this[e];return n||_.warnOnce(`${t??""}[${e}] is required.`),n}))}toJson(){return Ae(this).reduce(((t,e)=>{const i=this[e];return t[e]=Xi(i)?i.toJson():i,t}),{})}},Qi=class t extends Array{constructor(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];super(i.length);const a=(s=t,Boolean(s?.prototype?.constructor?.name)?e=>(new t).set(e):t);var s;Object.defineProperty(this,"itemFactory",{value:a,enumerable:!1,configurable:!1}),this.set(i)}set(t){if(Ee(t)){this.length=t.length;for(let e=0;e<t.length;e++)this[e]=this.itemFactory(t[e])}return this}reset(e){if(Array.isArray(e))return new t(this.itemFactory,...e)}toJson(){return this.map((t=>t?.toJson?.()??t))}};function Xi(t){return t instanceof $i||t instanceof Qi}function Ji(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{optional:i=!1,property:n}=e;return Le(((a,s,r)=>{const o={...e,target:a,property:s};if(i&&"undefined"===typeof r||t(r,o))return Xi(a[s])&&!Xi(r)?(a[s].set(r),a[s]):r;const l=n??String(s).replace(/^_*/,""),c=a.constructor.className??a.constructor.name.replace(/Properties$/,"");let u=Xn(r);if(null!=u&&u.length>50){const t=u.length-50;u=u.slice(0,50)+`... (+${t} characters)`}return _.warn(`Property [${l}] of [${c}] cannot be set to [${u}]${t.message?`; expecting ${$n(t,o)}`:""}, ignoring.`),De}),void 0,{optional:i})}var qi,tn=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];const n=[];return Kn(((t,i)=>(n.length=0,e.every((e=>{const a=e(t,i);return a||n.push($n(e,i)),a})))),(()=>n.filter(Boolean).join(" AND ")))},en=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return Kn(((t,i)=>e.some((e=>e(t,i)))),(t=>e.map(function(t){return e=>$n(e,t)}(t)).filter(Boolean).join(" OR ")))},nn=Qn(Kn(((t,e)=>Xi(t)||Be(t)&&Xi(e.target[e.property])),"a properties object")),an=Qn(Kn((t=>Be(t)),"an object")),sn=Kn(Re,"a boolean"),rn=Kn(Pe,"a function"),on=Kn(_e,"a string"),ln=(qi=Kn(Ye,"a number"),Object.assign(qi,{restrict(){let{min:t,max:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=["a number"],n=Ue(t),a=Ue(e);return n&&a?i.push(`between ${t} and ${e} inclusive`):n?i.push(`greater than or equal to ${t}`):a&&i.push(`less than or equal to ${e}`),Kn((i=>Ye(i)&&(!n||i>=t)&&(!a||i<=e)),i.join(" "))}})),cn=Kn((t=>Ue(t)&&!isNaN(t)),"a real number"),un=Kn((t=>Ue(t)&&isNaN(t)),"NaN"),hn=ln.restrict({min:0}),dn=ln.restrict({min:0,max:1}),pn=ln.restrict({min:-360,max:360}),gn=en(ln,un),fn=function(t){return Object.assign(t,{restrict(){let{length:t,minLength:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i="an array";return Ue(e)&&e>0?i="a non-empty array":Ue(t)&&(i=`an array of length ${t}`),Kn((i=>Ee(i)&&(!Ue(t)||i.length===t)&&(!Ue(e)||i.length>=e)),i)}})}(Kn(Ee,"an array")),yn=(t,e)=>Kn(((e,i)=>Ee(e)&&e.every((e=>t(e,i)))),(t=>{const i=$n(fn,t)??"";return e?`${i} of ${e}`:i})),mn=t=>Ye(t)||ze(t),xn=t=>Kn(((e,i)=>!mn(e)||!mn(i.target[t])||e<i.target[t]),`to be less than ${t}`),bn=t=>Kn(((e,i)=>!mn(e)||!mn(i.target[t])||e>i.target[t]),`to be greater than ${t}`),vn=Kn(ze,"Date object"),Mn=en(vn,hn),Sn="A color string can be in one of the following formats to be valid: #rgb, #rrggbb, rgb(r, g, b), rgba(r, g, b, a) or a CSS color name such as 'white', 'orange', 'cyan', etc",In=Kn((t=>_e(t)&&Me.validColorString(t)),`color String. ${Sn}`),Dn=Kn(yn(In),`color strings. ${Sn}`),wn=yn(sn,"boolean values"),Nn=yn(ln,"numbers"),Ln=yn(on,"strings"),kn=Kn(yn(vn),"Date objects"),An=Kn(yn(nn),"objects"),Cn=Wn(["butt","round","square"],"a line cap"),Tn=Wn(["round","bevel","miter"],"a line join"),En=Wn(["solid","dashed","dotted"],"a line style"),Rn=Kn(yn(hn),"numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels."),On=Wn(["top","right","bottom","left"],"a position"),zn=Wn(["normal","italic","oblique"],"a font style"),jn=en(Wn(["normal","bold","bolder","lighter"],"a font weight"),ln.restrict({min:1,max:1e3})),Pn=Wn(["never","always","hyphenate","on-space"],"a text wrap strategy"),Bn=Wn(["left","center","right"],"a text align"),Fn=Wn(["top","middle","bottom"],"a vertical align"),Gn=Wn(["ellipsis","hide"],"an overflow strategy"),_n=Wn(["horizontal","vertical"],"a direction"),Un=Wn(["inside","outside"],"a placement"),Yn=en(Wn(["exact","nearest"],"interaction range"),ln),Vn=Wn(["top","bottom","left","right"]);function Wn(t){return Kn(((e,i)=>{const n=t.find((t=>{const i="string"===typeof t?t:t.value;return e===i}));if(null==n)return!1;if("string"!==typeof n&&(!0===n.deprecated||null!=n.deprecatedTo)){const t=[`Property [%s] with value '${n.value}' is deprecated.`];n.deprecatedTo&&t.push(`Use ${n.deprecatedTo} instead.`),_.warnOnce(t.join(" "),i.property)}return!0}),`${arguments.length>1&&void 0!==arguments[1]?arguments[1]:"a"} keyword such as ${function(t){const e=t.filter((t=>"string"===typeof t||!0!==t.undocumented)).map((t=>`'${"string"===typeof t?t:t.value}'`));if(1===e.length)return e[0];const i=e.pop();return`${e.join(", ")} or ${i}`}(t)}`)}var Zn=en(tn(ln.restrict({min:1}),xn("maxSpacing")),un),Hn=en(tn(ln.restrict({min:1}),bn("minSpacing")),un);function Kn(t,e){return t.message=e,t}function $n(t,e){return Pe(t.message)?t.message(e):t.message}function Qn(t){return Object.assign(t,{restrict:e=>Kn((t=>t instanceof e),(i=>$n(t,i)??`an instance of ${e.name}`))})}function Xn(t){if("number"===typeof t){if(isNaN(t))return"NaN";if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity"}return JSON.stringify(t)}var Jn=(t=>(t.X="x",t.Y="y",t))(Jn||{}),qn=class{constructor(){this.moduleMap=new Map}*modules(){for(const t of this.moduleMap.values())yield t.moduleInstance}addModule(t,e){if(this.moduleMap.has(t.optionsKey))throw new Error(`AG Charts - module already initialised: ${t.optionsKey}`);this.moduleMap.set(t.optionsKey,{module:t,moduleInstance:e(t)})}removeModule(t){const e=_e(t)?t:t.optionsKey;this.moduleMap.get(e)?.moduleInstance.destroy(),this.moduleMap.delete(e)}getModule(t){return this.moduleMap.get(_e(t)?t:t.optionsKey)?.moduleInstance}isEnabled(t){return this.moduleMap.has(_e(t)?t:t.optionsKey)}mapModules(t){return Array.from(this.moduleMap.values(),((e,i)=>t(e.moduleInstance,i)))}destroy(){for(const t of this.moduleMap.keys())this.moduleMap.get(t)?.moduleInstance.destroy();this.moduleMap.clear()}},ta={};function ea(t,e){const{nodes:i,selections:n}=xi(t);for(const a of n){for(const t of a.nodes()){const i=e(t,t.datum);t.setProperties(i)}a.cleanup()}for(const a of i){const t=e(a,a.datum);a.setProperties(t)}}function ia(t){let e,i;const n=sa.exec(t);n&&([,e,t,i]=n);const a=aa.exec(t);if(!a)throw new Error(`The number formatter is invalid: ${t}`);const[,s,r,o,l,c,u,h,d,p,g]=a;return{fill:s,align:r,sign:o,symbol:l,zero:c,width:parseInt(u),comma:h,precision:parseInt(d),trim:Boolean(p),type:g,prefix:e,suffix:i}}function na(t){const e="string"===typeof t?ia(t):t,{fill:i,align:n,sign:a="-",symbol:s,zero:r,width:o,comma:l,type:c,prefix:u="",suffix:h="",precision:d}=e;let{trim:p}=e;const g=null==d||isNaN(d);let f,y;if(c)if(c in oa&&c in ra)f=g?ra[c]:oa[c];else if(c in oa)f=oa[c];else{if(!(c in ra))throw new Error(`The number formatter type is invalid: ${c}`);f=ra[c]}else f=oa.g,p=!0;return y=null==d||g?c?6:12:d,t=>{let e=f(t,y);return p&&(e=e.replace(/\.0+$/,"").replace(/(\.[1-9])0+$/,"$1")),l&&(e=function(t,e){let i=t.indexOf(".");i<0&&(i=t.length);const n=t.substring(0,i).split(""),a=t.substring(i);for(let s=n.length-3;s>0;s-=3)n.splice(s,0,e);return`${n.join("")}${a}`}(e,l)),e=function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if("("===i)return t>=0?e:`(${e})`;const n="+"===i?"+":"";return`${t>=0?n:ha}${e}`}(t,e,a),s&&"#"!==s&&(e=`${s}${e}`),"#"===s&&"x"===c&&(e=`0x${e}`),"s"===c&&(e=`${e}${function(t){return ua[pa(t)]}(t)}`),"%"!==c&&"p"!==c||(e=`${e}%`),null==o||isNaN(o)||(e=function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:">",a=t;if(">"!==n&&n){if("<"===n)a=a.padEnd(e,i);else if("^"===n){const t=Math.max(0,e-a.length),n=Math.ceil(t/2),s=Math.floor(t/2);a=a.padStart(n+a.length,i),a=a.padEnd(s+a.length,i)}}else a=a.padStart(e,i);return a}(e,o,i??r,n)),e=`${u}${e}${h}`,e}}E(ta,{resetMotion:()=>ea});var aa=/^(?:(.)?([<>=^]))?([+\-( ])?([$\u20ac\xa3\xa5\u20a3\u20b9#])?(0)?(\d+)?(,)?(?:\.(\d+))?(~)?([%a-z])?$/i,sa=/^((?:[^#]|#[^{])*)#{([^}]+)}(.*)$/,ra={b:t=>da(t).toString(2),c:t=>String.fromCharCode(t),d:t=>Math.round(Math.abs(t)).toFixed(0),o:t=>da(t).toString(8),x:t=>da(t).toString(16),X:t=>ra.x(t).toUpperCase(),n:t=>ra.d(t),"%":t=>`${da(100*t).toFixed(0)}`},oa={e:(t,e)=>Math.abs(t).toExponential(e),E:(t,e)=>oa.e(t,e).toUpperCase(),f:(t,e)=>Math.abs(t).toFixed(e),F:(t,e)=>oa.f(t,e).toUpperCase(),g:(t,e)=>{if(0===t)return"0";const i=Math.abs(t),n=Math.floor(Math.log10(i));return n>=-4&&n<e?i.toFixed(e-1-n):i.toExponential(e-1)},G:(t,e)=>oa.g(t,e).toUpperCase(),n:(t,e)=>oa.g(t,e),p:(t,e)=>oa.r(100*t,e),r:(t,e)=>{if(0===t)return"0";const i=Math.abs(t),n=Math.floor(Math.log10(i))-(e-1);if(n<=0)return i.toFixed(-n);const a=10**n;return(Math.round(i/a)*a).toFixed()},s:(t,e)=>{const i=pa(t);return oa.r(t/10**i,e)},"%":(t,e)=>oa.f(100*t,e)},la=-24,ca=24,ua={[la]:"y",[-21]:"z",[-18]:"a",[-15]:"f",[-12]:"p",[-9]:"n",[-6]:"\xb5",[-3]:"m",0:"",3:"k",6:"M",9:"G",12:"T",15:"P",18:"E",21:"Z",[ca]:"Y"},ha="\u2212";function da(t){return Math.floor(Math.abs(t))}function pa(t){return Xt(la,t?3*Math.floor(Math.log10(Math.abs(t))/3):0,ca)}var ga=(t,e,i)=>({duration:e*i,timeInterval:t,step:i}),fa=[ga(et,Z,1),ga(et,Z,5),ga(et,Z,15),ga(et,Z,30),ga(at,H,1),ga(at,H,5),ga(at,H,15),ga(at,H,30),ga(ot,K,1),ga(ot,K,3),ga(ot,K,6),ga(ot,K,12),ga(ct,$,1),ga(ct,$,2),ga(xt,Q,1),ga(xt,Q,2),ga(xt,Q,3),ga(vt,X,1),ga(vt,X,2),ga(vt,X,3),ga(vt,X,4),ga(vt,X,6),ga(St,J,1)],ya=[1,2,5,10];function ma(t,e){return Math.abs(Math.round(t)-t)<e}function xa(t,e,i,n,a){if(i<2)return[t,e];const s=va(t,e,i,n,a);return Number.isFinite(s)?(ma(t/s,1e-12)||(t=Math.ceil(t/s)*s),ma(e/s,1e-12)||(e=Math.floor(e/s)*s),Ia(t,e,s)):[]}function ba(t,e,i,n,a,s){const r=s??Math.abs(e-t)/Math.max(i,1);let o=0;for(const d of fa){if(r<=d.duration)break;o++}if(0===o){const s=Math.max(va(t,e,i,n,a),1);return W.every(s)}if(o===fa.length){const r=null==s?va(t/J,e/J,i,n,a):1;return St.every(r)}const l=fa[o-1],c=fa[o],{timeInterval:u,step:h}=r-l.duration<c.duration-r?l:c;return u.every(h)}function va(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1/0;if(t===e)return Xt(1,n,a);if(i<1)return NaN;const s=Math.abs(e-t),r=10**Math.floor(Math.log10(s/i));let o=NaN,l=1/0,c=!1;for(const u of ya){const t=Math.ceil(s/(u*r)),e=t>=n&&t<=a;if(c&&!e)continue;const h=Math.abs(t-i);(l>h||c!==e)&&(c||(c=e),l=h,o=u)}return o*r}function Ma(t){for(let e=t.length-1;e>=0;e-=1)if("0"!==t[e])return e+1;return 0}function Sa(t,e){const i=ia(e??",f");(null==i.precision||isNaN(i.precision))&&(!i.type||"eEFgGnprs".includes(i.type)?i.precision=Math.max(...t.map((t=>{if(!Number.isFinite(t))return 0;const[e,n]=t.toExponential((i.type?6:12)-1).split(/\.|e/g);return("1"!==e&&"-1"!==e?1:0)+Ma(n)+1}))):"f%".includes(i.type)&&(i.precision=Math.max(...t.map((t=>{if(!Number.isFinite(t)||0===t)return 0;const e=Math.floor(Math.log10(Math.abs(t))),n=i.type?6:12,a=Ma(t.toExponential(n-1).split(/\.|e/g)[1]);return Math.max(0,a-e)})))));const n=na(i);return t=>n(Number(t))}function Ia(t,e,i){if(!Number.isFinite(i)||i<=0)return[];const n=10**re(i),a=Math.min(t,e),s=Math.max(t,e),r=[];for(let o=0;;o+=1){const t=Math.round((a+i*o)*n)/n;if(!(t<=s))break;r.push(t)}return r}function Da(t,e){return t>=e&&(_.warnOnce("the configured interval results in more than 1 item per pixel, ignoring. Supply a larger interval or omit this configuration"),!0)}var wa=class t extends Li{constructor(){super([1,10],[0,1]),this.type="log",this.base=10,this.baseLog=F,this.basePow=F,this.log=t=>Math.min(...this.domain)>=0?this.baseLog(t):-this.baseLog(-t),this.pow=t=>Math.min(...this.domain)>=0?this.basePow(t):-this.basePow(-t),this.defaultClampMode="clamped"}toDomain(t){return t}transform(t){return Math.min(...this.domain)>=0?Math.log(t):-Math.log(-t)}transformInvert(t){return Math.min(...this.domain)>=0?Math.exp(t):-Math.exp(-t)}refresh(){this.base<=0&&(this.base=0,_.warnOnce("expecting a finite Number greater than to 0")),super.refresh()}update(){!this.domain||this.domain.length<2||(this.baseLog=t.getBaseLogMethod(this.base),this.basePow=t.getBasePowerMethod(this.base),this.nice&&this.updateNiceDomain())}updateNiceDomain(){const[t,e]=this.domain,i=t>e?Math.ceil:Math.floor,n=t>e?Math.floor:Math.ceil,a=this.pow(i(this.log(t))),s=this.pow(n(this.log(e)));this.niceDomain=[a,s]}ticks(){const t=this.tickCount??10;if(!this.domain||this.domain.length<2||t<1)return[];this.refresh();const e=this.base,[i,n]=this.getDomain(),a=Math.min(i,n),s=Math.max(i,n);let r=this.log(a),o=this.log(s);if(this.interval){const t=t=>t>=a&&t<=s,e=Ia(r,o,Math.min(Math.abs(this.interval),Math.abs(o-r))).map(this.pow).filter(t);if(!Da(e.length,this.getPixelRange()))return e}if(!(e%1===0)||o-r>=t)return xa(r,o,Math.min(o-r,t)).map(this.pow);const l=[],c=a>0;r=Math.floor(r)-1,o=Math.round(o)+1;const u=te(this.range)/t;let h=1/0;for(let d=r;d<=o;d++){const t=this.convert(this.pow(d+1));for(let i=1;i<e;i++){const n=c?i:e-i+1,r=this.pow(d)*n,o=this.convert(r),p=Math.abs(h-o),g=Math.abs(o-t);r>=a&&r<=s&&(1===i||p>=u&&g>=u||0===l.length)&&(l.push(r),h=o)}}return l}tickFormat(t){let{count:e,ticks:i,specifier:n}=t;return e!==1/0&&null==i&&this.ticks(),n??(n=10===this.base?".0e":","),_e(n)?na(n):n}static getBaseLogMethod(t){switch(t){case 10:return Math.log10;case Math.E:return Math.log;case 2:return Math.log2;default:return e=>Math.log(e)/Math.log(t)}}static getBasePowerMethod(t){switch(t){case 10:return t=>t>=0?10**t:1/10**-t;case Math.E:return Math.exp;default:return e=>t**e}}};R([wi],wa.prototype,"base",2);var Na=wa,La=class t extends Li{constructor(){super([],[0,1]),this.type="time"}toDomain(t){return new Date(t)}convert(t,e){return super.convert(new Date(t),e)}invert(t){return new Date(super.invert(t))}ticks(){if(!this.domain||this.domain.length<2)return[];this.refresh();const{interval:e,nice:i,tickCount:n,minTickCount:a,maxTickCount:s}=this,[r,o]=qt(this.getDomain().map(Vi));return null!=e?t.getTicksForInterval({start:r,stop:o,interval:e,availableRange:this.getPixelRange()})??t.getDefaultTicks({start:r,stop:o,tickCount:n,minTickCount:a,maxTickCount:s}):i&&2===n?this.niceDomain:i&&1===n?this.niceDomain.slice(0,1):t.getDefaultTicks({start:r,stop:o,tickCount:n,minTickCount:a,maxTickCount:s})}static getDefaultTicks(t){let{start:e,stop:i,tickCount:n,minTickCount:a,maxTickCount:s}=t;const r=ba(e,i,n,a,s);return r?r.range(new Date(e),new Date(i)):[]}static getTicksForInterval(t){let{start:e,stop:i,interval:n,availableRange:a}=t;if(!n)return[];if(n instanceof U){const t=n.range(new Date(e),new Date(i));if(Da(t.length,a))return;return t}const s=Math.abs(n);if(Da((i-e)/s,a))return;const r=fa.findLast((t=>s%t.duration===0));if(r){return r.timeInterval.every(s/(r.duration/r.step)).range(new Date(e),new Date(i))}let o=new Date(e);const l=new Date(i),c=[];for(;o<=l;)c.push(o),o=new Date(o),o.setMilliseconds(o.getMilliseconds()+s);return c}tickFormat(t){let{ticks:e,domain:i,specifier:n,formatOffset:a}=t;return null==n?Wi(e,i,a):Yi(n)}update(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()}updateNiceDomain(){let[t,e]=this.domain;for(let i=0;i<4;i++){this.updateNiceDomainIteration(t,e);const[i,n]=this.niceDomain;if(Vi(t)===Vi(i)&&Vi(e)===Vi(n))break;t=i,e=n}}updateNiceDomainIteration(t,e){const i=Math.min(Vi(t),Vi(e)),n=Math.max(Vi(t),Vi(e)),a=t>e,{interval:s}=this;let r;if(s instanceof U)r=s;else{r=ba(i,n,"number"===typeof s?(n-i)/Math.max(s,1):this.tickCount,this.minTickCount,this.maxTickCount)}if(r){const t=r.range(new Date(i),new Date(n),!0),e=a?[...t].reverse():t,s=e[0],o=e.at(-1);this.niceDomain=[s,o]}}};function ka(t,e){return t-e}var Aa=class t extends Ki{constructor(){super(...arguments),this.type="ordinal-time",this.tickCount=Li.defaultTickCount,this.minTickCount=0,this.maxTickCount=1/0,this.interval=void 0,this._domain=[],this.timestamps=[],this.sortedTimestamps=[],this.visibleRange=[0,1]}static is(e){return e instanceof t}setVisibleRange(t){this.visibleRange=t}set domain(t){this.invalid=!0,0!==t.length?(this._domain=t,this.timestamps=Ei(t.map(Vi)),this.sortedTimestamps=this.timestamps.slice().sort(ka)):this._domain=[]}get domain(){return this._domain}ticks(){this.refresh();const[t,e]=[this.timestamps[0],this.timestamps.at(-1)],i=Math.min(t,e),n=Math.max(t,e),a=t>e;let s;if(null==this.interval)s=this.getDefaultTicks(this.maxTickCount,a);else{const[t,e]=this.range,a=Math.abs(e-t);s=La.getTicksForInterval({start:i,stop:n,interval:this.interval,availableRange:a})??[]}const r=new Set;return s.filter((t=>{const e=this.convert(t);return!isNaN(e)&&!r.has(e)&&(r.add(e),!0)}))}getDefaultTicks(t,e){const i=[],n=this.timestamps.length,a=Math.ceil(n*(this.visibleRange[1]-this.visibleRange[0])/t),s=Math.floor(a/2);for(const[r,o]of this.timestamps.entries())a>0&&(r+s)%a||(e?i.push(new Date(this.timestamps[n-r-1])):i.push(new Date(o)));return i}convert(t){this.refresh();const e=Number(t);if(e<this.sortedTimestamps[0])return NaN;let i=this.findInterval(e);return this.timestamps[0]!==this.sortedTimestamps[0]&&(i=this.timestamps.length-i-1),this.ordinalRange[i]??NaN}findInterval(t){const{sortedTimestamps:e}=this;let i=0,n=e.length-1;for(;i<=n;){const a=Math.floor((i+n)/2);if(e[a]===t)return a;e[a]<t?i=a+1:n=a-1}return i}tickFormat(t){let{ticks:e,domain:i,specifier:n}=t;return null==n?Wi(e,i):Yi(n)}invert(t){this.refresh();const e=this.ordinalRange.findIndex((e=>t<=e));return this.domain[e]}invertNearest(t){return new Date(super.invertNearest(t))}};R([wi],Aa.prototype,"tickCount",2),R([wi],Aa.prototype,"minTickCount",2),R([wi],Aa.prototype,"maxTickCount",2),R([wi],Aa.prototype,"interval",2);var Ca=Aa;function Ta(t,e){return"number"===typeof t&&"number"===typeof e?t-e:"string"===typeof t&&"string"===typeof e?t.localeCompare(e):null==t&&null==e?0:null==t?-1:null==e?1:String(t).localeCompare(String(e))}function Ea(t){return"function"===typeof t?t():t}function Ra(t,e,i){for(const n in t){const a=i(Ea(t[n]),Ea(e[n]));if(0!==a)return a}return 0}function Oa(t){let e=1,i=t.visible?1:0,n=t.dirty>0?1:0;for(const a of t.children(!1)){const t=Oa(a);e+=t.count,n+=t.dirtyCount,i+=t.visibleCount}return{count:e,visibleCount:i,dirtyCount:n}}var za=Object.freeze([1,0,0,1,0,0]);function ja(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-8;return t===e||Math.abs(e-t)<i}var Pa=class t{get e(){return[...this.elements]}constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[...za];this.elements=t}setElements(t){const e=this.elements;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],this}get identity(){const t=this.elements;return ja(t[0],1)&&ja(t[1],0)&&ja(t[2],0)&&ja(t[3],1)&&ja(t[4],0)&&ja(t[5],0)}AxB(t,e,i){const n=t[0]*e[0]+t[2]*e[1],a=t[1]*e[0]+t[3]*e[1],s=t[0]*e[2]+t[2]*e[3],r=t[1]*e[2]+t[3]*e[3],o=t[0]*e[4]+t[2]*e[5]+t[4],l=t[1]*e[4]+t[3]*e[5]+t[5];(i=i??t)[0]=n,i[1]=a,i[2]=s,i[3]=r,i[4]=o,i[5]=l}multiplySelf(t){return this.AxB(this.elements,t.elements),this}multiply(e){const i=new Array(6);return e instanceof t?this.AxB(this.elements,e.elements,i):this.AxB(this.elements,[e.a,e.b,e.c,e.d,e.e,e.f],i),new t(i)}preMultiplySelf(t){return this.AxB(t.elements,this.elements,this.elements),this}inverse(){const e=this.elements;let i=e[0],n=e[1],a=e[2],s=e[3];const r=e[4],o=e[5],l=1/(i*s-n*a);return i*=l,n*=l,a*=l,s*=l,new t([s,-n,-a,i,a*o-s*r,n*r-i*o])}inverseTo(t){const e=this.elements;let i=e[0],n=e[1],a=e[2],s=e[3];const r=e[4],o=e[5],l=1/(i*s-n*a);return i*=l,n*=l,a*=l,s*=l,t.setElements([s,-n,-a,i,a*o-s*r,n*r-i*o]),this}invertSelf(){const t=this.elements;let e=t[0],i=t[1],n=t[2],a=t[3];const s=t[4],r=t[5],o=1/(e*a-i*n);return e*=o,i*=o,n*=o,a*=o,t[0]=a,t[1]=-i,t[2]=-n,t[3]=e,t[4]=n*r-a*s,t[5]=i*s-e*r,this}transformPoint(t,e){const i=this.elements;return{x:t*i[0]+e*i[2]+i[4],y:t*i[1]+e*i[3]+i[5]}}transformBBox(t,e){const i=this.elements,n=i[0],a=i[1],s=i[2],r=i[3],o=.5*t.width,l=.5*t.height,c=t.x+o,u=t.y+l,h=Math.abs(o*n)+Math.abs(l*s),d=Math.abs(o*a)+Math.abs(l*r);return e??(e=new ue(0,0,0,0)),e.x=c*n+u*s+i[4]-h,e.y=c*a+u*r+i[5]-d,e.width=h+h,e.height=d+d,e}toContext(t){if(this.identity)return;const e=this.elements;t.transform(e[0],e[1],e[2],e[3],e[4],e[5])}static flyweight(e){return t.instance.setElements(e.elements)}static updateTransformMatrix(t,e,i,n,a,s,r){const o=e,l=i;let c,u;1===o&&1===l?(c=0,u=0):(c=r?.scalingCenterX??0,u=r?.scalingCenterY??0);const h=n,d=Math.cos(h),p=Math.sin(h);let g,f;0===h?(g=0,f=0):(g=r?.rotationCenterX??0,f=r?.rotationCenterY??0);const y=a,m=s,x=c*(1-o)-g,b=u*(1-l)-f;return t.setElements([d*o,p*o,-p*l,d*l,d*x-p*b+g+y,p*x+d*b+f+m]),t}static fromContext(e){const i=e.getTransform();return new t([i.a,i.b,i.c,i.d,i.e,i.f])}};Pa.instance=new Pa;var Ba=Pa;function Fa(t){return _a(t.constructor)}var Ga=Symbol("isMatrixTransform");function _a(t){return!0===t[Ga]}function Ua(t){var e;const i=t;if(_a(t))return t;const n=Symbol("matrix_combined_transform");class a extends i{constructor(){super(...arguments),this[e]=new Ba,this._dirtyTransform=!0}markDirtyTransform(){this._dirtyTransform=!0,super.markDirty(3)}updateMatrix(t){}computeTransformMatrix(){this._dirtyTransform&&(this[n].setElements(za),this.updateMatrix(this[n]),this._dirtyTransform=!1)}toParent(t){return this.computeTransformMatrix(),this[n].identity?t.clone():this[n].transformBBox(t)}toParentPoint(t,e){return this.computeTransformMatrix(),this[n].identity?{x:t,y:e}:this[n].transformPoint(t,e)}fromParent(t){return this.computeTransformMatrix(),this[n].identity?t.clone():this[n].inverse().transformBBox(t)}fromParentPoint(t,e){return this.computeTransformMatrix(),this[n].identity?{x:t,y:e}:this[n].inverse().transformPoint(t,e)}computeBBox(){const t=super.computeBBox();return t?this.toParent(t):t}computeBBoxWithoutTransforms(){return super.computeBBox()}pickNode(t,e){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]||({x:t,y:e}=this.fromParentPoint(t,e)),super.pickNode(t,e)}render(t){this._dirtyTransform&&(this.computeTransformMatrix(),t.forceRender||(t={...t,forceRender:"dirtyTransform"}));const e=this[n];let i=!1;e.identity||(t.ctx.save(),i=!0,e.toContext(t.ctx)),super.render(t),i&&t.ctx.restore()}toSVG(){const t=super.toSVG(),e=this[n];if(e.identity||null==t)return t;const i=document.createElementNS("http://www.w3.org/2000/svg","g");i.append(...t.elements);const[a,s,r,o,l,c]=e.e;return i.setAttribute("transform",`matrix(${a} ${s} ${r} ${o} ${l} ${c})`),{elements:[i],defs:t.defs}}}return e=n,a[Ga]=!0,a}function Ya(t){var e;const i=t,n=Symbol("matrix_rotation");class a extends(Ua(i)){constructor(){super(...arguments),this[e]=new Ba,this.rotationCenterX=null,this.rotationCenterY=null,this.rotation=0}updateMatrix(t){super.updateMatrix(t);const{rotation:e,rotationCenterX:i,rotationCenterY:a}=this;0!==e&&(Ba.updateTransformMatrix(this[n],1,1,e,0,0,{rotationCenterX:i,rotationCenterY:a}),t.multiplySelf(this[n]))}}return e=n,R([de({type:"transform"})],a.prototype,"rotationCenterX",2),R([de({type:"transform"})],a.prototype,"rotationCenterY",2),R([de({type:"transform"})],a.prototype,"rotation",2),a}function Va(t){var e;const i=t,n=Symbol("matrix_scale");class a extends(Ua(i)){constructor(){super(...arguments),this[e]=new Ba,this.scalingX=1,this.scalingY=1,this.scalingCenterX=null,this.scalingCenterY=null}updateMatrix(t){super.updateMatrix(t);const{scalingX:e,scalingY:i,scalingCenterX:a,scalingCenterY:s}=this;1===e&&1===i||(Ba.updateTransformMatrix(this[n],e,i,0,0,0,{scalingCenterX:a,scalingCenterY:s}),t.multiplySelf(this[n]))}}return e=n,R([de({type:"transform"})],a.prototype,"scalingX",2),R([de({type:"transform"})],a.prototype,"scalingY",2),R([de({type:"transform"})],a.prototype,"scalingCenterX",2),R([de({type:"transform"})],a.prototype,"scalingCenterY",2),a}function Wa(t){var e;const i=t,n=Symbol("matrix_translation");class a extends(Ua(i)){constructor(){super(...arguments),this[e]=new Ba,this.translationX=0,this.translationY=0}updateMatrix(t){super.updateMatrix(t);const{translationX:e,translationY:i}=this;0===e&&0===i||(Ba.updateTransformMatrix(this[n],1,1,0,e,i),t.multiplySelf(this[n]))}}return e=n,R([de({type:"transform"})],a.prototype,"translationX",2),R([de({type:"transform"})],a.prototype,"translationY",2),a}var Za=class{static fromCanvas(t,e){const i=[];for(const n of t.traverseUp())Fa(n)&&i.unshift(n);for(const n of i)e=n.fromParent(e);return Fa(t)&&(e=t.fromParent(e)),e}static toCanvas(t,e){null==e?e=t.getBBox():Fa(t)&&(e=t.toParent(e));for(const i of t.traverseUp())Fa(i)&&(e=i.toParent(e));return e}static fromCanvasPoint(t,e,i){const n=[];for(const a of t.traverseUp())Fa(a)&&n.unshift(a);for(const a of n)({x:e,y:i}=a.fromParentPoint(e,i));return Fa(t)&&({x:e,y:i}=t.fromParentPoint(e,i)),{x:e,y:i}}static toCanvasPoint(t,e,i){Fa(t)&&({x:e,y:i}=t.toParentPoint(e,i));for(const n of t.traverseUp())Fa(n)&&({x:e,y:i}=n.toParentPoint(e,i));return{x:e,y:i}}},Ha=class t extends ye{constructor(t){super(t),this.opts=t,this.opacity=1,this.isContainerNode=!0,this.zIndexSubOrder=t?.zIndexSubOrder}static is(e){return e instanceof t}static computeChildrenBBox(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return ue.merge(ye.extractBBoxes(t,e))}static compareChildren(t,e){return Ra([t.zIndex,...t.zIndexSubOrder??[void 0,void 0],t.serialNumber],[e.zIndex,...e.zIndexSubOrder??[void 0,void 0],e.serialNumber],Ta)}containsPoint(t,e){return!0}computeBBox(){return t.computeChildrenBBox(this.children())}preRender(){const t=super.preRender();return t.groups+=1,t.nonGroups-=1,t}isDirty(t){const{resized:e}=t,{dirty:i,dirtyZIndex:n}=this,a=i>=2||n||e;let s=a,r=!1;for(const o of this.children())if(s||(s=null==o.layerManager&&o.dirty>=1),r||(r=null!=o.layerManager&&o.dirty>=1),s)break;return this.opts?.name&&this._debug?.({name:this.opts.name,group:this,isDirty:a,isChildDirty:s,renderCtx:t}),{isDirty:a,isChildDirty:s,isChildLayerDirty:r}}debugSkip(t){t.stats&&this.opts?.name&&this._debug?.({name:this.opts.name,group:this,result:"skipping",counts:Oa(this),renderCtx:t})}render(e,i){if(i)return super.render(e);const{opts:{name:n}={},_debug:a}=this,{isDirty:s,isChildDirty:r,isChildLayerDirty:o}=this.isDirty(e),{ctx:l,stats:c}=e;let{forceRender:u}=e;if(!s&&!r&&!o&&!u)return this.debugSkip(e),void this.markClean({recursive:!1});"dirtyTransform"!==u&&(u||(u=this.dirtyZIndex)),l.globalAlpha*=this.opacity,this.dirtyZIndex&&this.sortChildren(t.compareChildren);const h=this.sortedChildren(),d=this.renderClip(e)??e.clipBBox,p=u!==e.forceRender||d!==e.clipBBox;this.renderChildren(h,p?{...e,forceRender:u,clipBBox:d}:e),super.render(e),this.clipRect&&l.restore();for(const t of this.virtualChildren())t.markClean({recursive:"virtual"});n&&c&&a?.({name:n,renderCtx:e,result:"rendered",skipped:c.nodesSkipped,counts:Oa(this),group:this})}sortedChildren(){let e=this.children();return this.hasVirtualChildren()&&(e=[...e].sort(t.compareChildren)),e}renderClip(t){if(!this.clipRect)return;const{x:e,y:i,width:n,height:a}=this.clipRect,{ctx:s}=t;return s.save(),s.beginPath(),s.rect(e,i,n,a),s.clip(),this._debug?.((()=>({name:this.opts?.name,clipRect:this.clipRect,ctxTransform:s.getTransform(),renderCtx:t,group:this}))),Za.toCanvas(this,this.clipRect)}renderChildren(t,e){const{ctx:i,forceRender:n,stats:a}=e;for(const s of t)s.visible&&this.visible?n||0!==s.dirty?(i.save(),s.render(e),i.restore()):a&&(a.nodesSkipped+=Oa(s).count):(s.markClean(),a&&(a.nodesSkipped+=Oa(s).count))}setClipRect(t){this.clipRect=t?Za.fromCanvas(this,t):void 0}setClipRectCanvasSpace(t){this.clipRect=t}toSVG(){if(!this.visible)return;const t=[],e=[];for(const i of this.sortedChildren()){const n=i.toSVG();null!=n&&(e.push(...n.elements),null!=n.defs&&t.push(...n.defs))}return{elements:e,defs:t}}};Ha.className="Group",R([de({redraw:3,convertor:t=>Xt(0,t,1)})],Ha.prototype,"opacity",2);var Ka=Ha,$a=class extends(Va(Ka)){},Qa=class extends(Ya(Ka)){},Xa=class extends(Wa(Ka)){},Ja=class extends(Ya(Wa(Ka))){},qa=Date.now(),ts={create(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return Object.assign((function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];ts.check(...e)&&("function"===typeof i[0]&&(i=Ti(i[0]())),(()=>{const t=Date.now()-qa;if(t>2e3){const e=(Math.floor(t/100)/10).toFixed(1);_.log(`**** ${e}s since last log message ****`)}qa=Date.now()})(),_.log(...i))}),{check:()=>ts.check(...e)})},check(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];0===e.length&&e.push(!0);return Ti(_t("agChartsDebug")).some((t=>e.includes(t)))}},es=class t{constructor(t,e){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.parentNode=t,this.autoCleanup=i,this.garbageBin=new Set,this._nodesMap=new Map,this._nodes=[],this.data=[],this.debug=ts.create(!0,"scene","scene:selections"),this.nodeFactory=Object.prototype.isPrototypeOf.call(ye,e)?()=>new e:e}static select(e,i){return new t(e,i,!(arguments.length>2&&void 0!==arguments[2])||arguments[2])}static selectAll(t,e){const i=[],n=t=>{e(t)&&i.push(t);for(const e of t.children())n(e)};return n(t),i}static selectByClass(e){for(var i=arguments.length,n=new Array(i>1?i-1:0),a=1;a<i;a++)n[a-1]=arguments[a];return t.selectAll(e,(t=>n.some((e=>t instanceof e))))}static selectByTag(e,i){return t.selectAll(e,(t=>t.tag===i))}createNode(t,e,i){const n=this.nodeFactory(t);return n.datum=t,e?.(n),null==i?this._nodes.push(n):this._nodes.splice(i,0,n),this.parentNode.appendChild(n),n}update(t,e,i){if(this.garbageBin.size>0&&this.debug(`Selection - update() called with pending garbage: ${t}`),i){const n=new Map(t.map(((t,e)=>[i(t),[t,e]])));for(const[t,e]of this._nodesMap.entries())if(n.has(e)){const[i]=n.get(e);t.datum=i,this.garbageBin.delete(t),n.delete(e)}else this.garbageBin.add(t);for(const[t,[i,a]]of n.entries())this._nodesMap.set(this.createNode(i,e,a),t)}else{const i=Math.max(t.length,this.data.length);for(let n=0;n<i;n++)n>=t.length?this.garbageBin.add(this._nodes[n]):n>=this._nodes.length?this.createNode(t[n],e):(this._nodes[n].datum=t[n],this.garbageBin.delete(this._nodes[n]))}return this.data=t.slice(),this.autoCleanup&&this.cleanup(),this}cleanup(){return 0===this.garbageBin.size||(this._nodes=this._nodes.filter((t=>!this.garbageBin.has(t)||(this._nodesMap.delete(t),this.garbageBin.delete(t),t.destroy(),!1)))),this}clear(){return this.update([]),this}isGarbage(t){return this.garbageBin.has(t)}hasGarbage(){return this.garbageBin.size>0}each(t){for(const e of this._nodes.entries())t(e[1],e[1].datum,e[0]);return this}*[Symbol.iterator](){for(let t=0;t<this._nodes.length;t++){const e=this._nodes[t];yield{node:e,datum:e.datum,index:t}}}select(e){return t.selectAll(this.parentNode,e)}selectByClass(e){return t.selectByClass(this.parentNode,e)}selectByTag(e){return t.selectByTag(this.parentNode,e)}nodes(){return this._nodes}at(t){return this._nodes.at(t)}},is=2*Math.PI;function ns(t){return t%=is,t+=is,t%=is}function as(t){return t%=is,(t+=is)!==is&&(t%=is),t}function ss(t){return(t%=is)<-Math.PI?t+=is:t>=Math.PI&&(t-=is),t}function rs(t,e,i){const n=ns(t),a=ns(e),s=ns(i);return a<s?a<=n&&n<=s:!(a>s)||(a<=n||n<=s)}function os(t){return t/180*Math.PI}function ls(t){return t/Math.PI*180}function cs(t,e,i){i&&([t,e]=[e,t]);const n=ns(t);return(ns(e)+is-n)%is}function us(t,e){return t=ns(t),(e=ns(e))-t+(t>e?2*Math.PI:0)}function hs(t,e,i,n){return{x:t+i*Math.cos(n),y:e+i*Math.sin(n)}}function ds(t,e){return us(t,e)<1e-6?e:ns(t-e)+e}function ps(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=Math.abs(e-t)>=2*Math.PI?2*Math.PI:ns(e-t);return{startAngle:t=ds(t,i),endAngle:e=t+n}}function gs(t,e,i,n){const a=t-i,s=e-n;return a*a+s*s}function fs(t,e,i,n,a,s,r){if(i===a&&n===s)return Math.min(r,gs(t,e,i,n));const o=a-i,l=s-n,c=Math.max(0,Math.min(1,((t-i)*o+(e-n)*l)/(o*o+l*l))),u=i+c*o,h=n+c*l;return Math.min(r,gs(t,e,u,h))}function ys(t,e,i,n,a,s,r,o,l){o&&([r,s]=[s,r]);if(!rs(Math.atan2(e-n,t-i),s,r)){const r=i+Math.cos(s)*a,o=n+Math.sin(s)*a,c=i+Math.cos(s)*a,u=n+Math.sin(s)*a;return Math.min(l,gs(t,e,r,o),gs(t,e,c,u))}const c=a-Math.sqrt(gs(t,e,i,n));return Math.min(l,c*c)}var ms=t=>{const e=Me.fromString(t),[i,n,a]=Me.RGBtoOKLCH(e.r,e.g,e.b);return{l:i,c:n,h:a,a:e.a}},xs=1e-6,bs=t=>t.c<xs||t.l<xs||t.l>.999999,vs=class{constructor(){this.type="color",this.invalid=!0,this.domain=[0,1],this.range=["red","blue"],this.parsedRange=this.range.map(ms)}update(){const{domain:t,range:e}=this;t.length<2&&(_.warnOnce("`colorDomain` should have at least 2 values."),0===t.length?t.push(0,1):1===t.length&&t.push(t[0]+1));for(let i=1;i<t.length;i++){if(t[i-1]>=t[i]){_.warnOnce("`colorDomain` values should be supplied in ascending order."),t.sort(((t,e)=>t-e));break}}if(e.length<t.length)for(let i=e.length;i<t.length;i++)e.push(e.length>0?e[0]:"black");this.parsedRange=this.range.map(ms)}convert(t){this.refresh();const{domain:e,range:i,parsedRange:n}=this,a=e[0],s=e.at(-1),r=i[0],o=i[i.length-1];if(t<=a)return r;if(t>=s)return o;let l,c;if(2===e.length){const e=(t-a)/(s-a),n=1/(i.length-1);l=i.length<=2?0:Math.min(Math.floor(e*(i.length-1)),i.length-2),c=(e-l*n)/n}else{for(l=0;l<e.length-2&&!(t<e[l+1]);l++);const i=e[l];c=(t-i)/(e[l+1]-i)}return((t,e,i)=>{let n;if(i=Xt(0,i,1),bs(t))n=e.h;else if(bs(e))n=t.h;else{const a=t.h;let s=e.h;const r=e.h-t.h;r>180?s-=360:r<-180&&(s+=360),n=a*(1-i)+s*i}const a=t.c*(1-i)+e.c*i,s=t.l*(1-i)+e.l*i,r=t.a*(1-i)+e.a*i;return Me.fromOKLCH(s,a,n,r)})(n[l],n[l+1],c).toRgbaString()}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&_.warnOnce("Expected update to not invalidate scale"))}};R([wi],vs.prototype,"domain",2),R([wi],vs.prototype,"range",2);var Ms=class{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0;this.colorSpace=t,this.stops=e,this.bbox=i,this._cache=void 0}createGradient(t,e){const i=this.bbox??e;if(null!=this._cache&&this._cache.ctx===t&&this._cache.bbox.equals(i))return this._cache.gradient;const{stops:n,colorSpace:a}=this;if(0===n.length)return;if(1===n.length)return n[0].color;let s=this.createCanvasGradient(t,i);if(null==s)return;const r="oklch"===a;let o=n[0];s.addColorStop(o.offset,o.color);for(let l=1;l<n.length;l+=1){const t=n[l];if(r){const e=new vs;e.domain=[o.offset,t.offset],e.range=[o.color,t.color];for(let i=o.offset+.05;i<t.offset;i+=.05)s.addColorStop(i,e.convert(i))}s.addColorStop(t.offset,t.color),o=t}return"createPattern"in s&&(s=s.createPattern()),this._cache={ctx:t,bbox:i,gradient:s},s}},Ss=class extends Ms{constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(t,e,arguments.length>3?arguments[3]:void 0),this.angle=i}createCanvasGradient(t,e){const{angle:i}=this,n=ns(os(i+90)),a=Math.cos(n),s=Math.sin(n),r=e.width,o=e.height,l=e.x+.5*r,c=e.y+.5*o,u=Math.sqrt(o*o+r*r)/2,h=Math.atan2(o,r);let d;d=n<Math.PI/2?n:n<Math.PI?Math.PI-n:n<1.5*Math.PI?n-Math.PI:2*Math.PI-n;const p=u*Math.abs(Math.cos(d-h));return t.createLinearGradient(l+a*p,c+s*p,l-a*p,c-s*p)}},Is=/^linear-gradient\((-?[\d.]+)deg,(.*?)\)$/i,Ds=class t extends ye{constructor(){super(...arguments),this.fillOpacity=1,this.strokeOpacity=1,this.fill=t.defaultStyles.fill,this.stroke=t.defaultStyles.stroke,this.strokeWidth=t.defaultStyles.strokeWidth,this.lineDash=t.defaultStyles.lineDash,this.lineDashOffset=t.defaultStyles.lineDashOffset,this.lineCap=t.defaultStyles.lineCap,this.lineJoin=t.defaultStyles.lineJoin,this.miterLimit=void 0,this.opacity=t.defaultStyles.opacity,this.fillShadow=t.defaultStyles.fillShadow}restoreOwnStyles(){const{defaultStyles:t}=this.constructor;Object.assign(this,t)}onFillChange(){const{fill:t}=this;let e;if(t instanceof Ms)this.gradient=t;else if(t?.startsWith("linear-gradient")&&(e=Is.exec(t))){const t=parseFloat(e[1]),i=[],n=e[2],a=/(#[0-9a-f]+)|(rgba?\(.+?\))|([a-z]+)/gi;let s;for(;s=a.exec(n);)i.push(s[0]);this.gradient=new Ss("rgb",i.map(((t,e)=>({color:t,offset:e/(i.length-1)}))),t)}else this.gradient=void 0}align(t,e){const i=this.layerManager?.canvas?.pixelRatio??1,n=Math.round(t*i)/i;return null==e?n:0===e?0:e<1?Math.ceil(e*i)/i:Math.round((e+t)*i)/i-n}fillStroke(t,e){this.renderFill(t,e),this.renderStroke(t,e)}renderFill(t,e){if(this.fill){const{globalAlpha:i}=t;this.applyFill(t),this.applyFillAlpha(t),this.applyShadow(t),this.executeFill(t,e),t.globalAlpha=i}t.shadowColor="rgba(0, 0, 0, 0)"}executeFill(t,e){e?t.fill(e):t.fill()}applyFill(t){t.fillStyle=this.gradient?.createGradient(t,this.getBBox())??("string"===typeof this.fill?this.fill:void 0)??"black"}applyFillAlpha(t){t.globalAlpha*=this.opacity*this.fillOpacity}applyShadow(t){const e=this.layerManager?.canvas.pixelRatio??1,i=this.fillShadow;i?.enabled&&(t.shadowColor=i.color,t.shadowOffsetX=i.xOffset*e,t.shadowOffsetY=i.yOffset*e,t.shadowBlur=i.blur*e)}renderStroke(t,e){if(this.stroke&&this.strokeWidth){const{globalAlpha:i}=t;t.strokeStyle=this.stroke,t.globalAlpha*=this.opacity*this.strokeOpacity,t.lineWidth=this.strokeWidth,this.lineDash&&t.setLineDash(this.lineDash),this.lineDashOffset&&(t.lineDashOffset=this.lineDashOffset),this.lineCap&&(t.lineCap=this.lineCap),this.lineJoin&&(t.lineJoin=this.lineJoin),null!=this.miterLimit&&(t.miterLimit=this.miterLimit),this.executeStroke(t,e),t.globalAlpha=i}}executeStroke(t,e){e?t.stroke(e):t.stroke()}containsPoint(t,e){return this.isPointInPath(t,e)}};Ds.defaultStyles={fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0},R([de({redraw:2})],Ds.prototype,"fillOpacity",2),R([de({redraw:2})],Ds.prototype,"strokeOpacity",2),R([de({redraw:2,changeCb:t=>t.onFillChange()})],Ds.prototype,"fill",2),R([de({redraw:2})],Ds.prototype,"stroke",2),R([de({redraw:2})],Ds.prototype,"strokeWidth",2),R([de({redraw:2})],Ds.prototype,"lineDash",2),R([de({redraw:2})],Ds.prototype,"lineDashOffset",2),R([de({redraw:2})],Ds.prototype,"lineCap",2),R([de({redraw:2})],Ds.prototype,"lineJoin",2),R([de({redraw:2})],Ds.prototype,"miterLimit",2),R([de({redraw:2,convertor:t=>Xt(0,t,1)})],Ds.prototype,"opacity",2),R([de({redraw:2,checkDirtyOnAssignment:!0})],Ds.prototype,"fillShadow",2);var ws=Ds,Ns=class extends ws{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.restoreOwnStyles()}set x(t){this.x1=t,this.x2=t}set y(t){this.y1=t,this.y2=t}get midPoint(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}}computeBBox(){return new ue(Math.min(this.x1,this.x2),Math.min(this.y1,this.y2),Math.abs(this.x2-this.x1),Math.abs(this.y2-this.y1))}isPointInPath(t,e){return(this.x1===this.x2||this.y1===this.y2)&&this.getBBox().clone().grow(this.strokeWidth/2).containsPoint(t,e)}distanceSquared(t,e){const{x1:i,y1:n,x2:a,y2:s}=this;return fs(t,e,i,n,a,s,1/0)}render(t){const{ctx:e,forceRender:i,stats:n,devicePixelRatio:a}=t;if(0===this.dirty&&!i)return void(n&&(n.nodesSkipped+=Oa(this).count));let{x1:s,y1:r,x2:o,y2:l}=this;if(s===o){const{strokeWidth:t}=this,e=Math.round(s*a)/a+Math.trunc(t*a)%2/(2*a);s=e,o=e}else if(r===l){const{strokeWidth:t}=this,e=Math.round(r*a)/a+Math.trunc(t*a)%2/(2*a);r=e,l=e}e.beginPath(),e.moveTo(s,r),e.lineTo(o,l),this.fillStroke(e),this.fillShadow?.markClean(),super.render(t)}toSVG(){if(!this.visible)return;const t=document.createElementNS("http://www.w3.org/2000/svg","line");return t.setAttribute("x1",String(this.x1)),t.setAttribute("y1",String(this.y1)),t.setAttribute("x2",String(this.x2)),t.setAttribute("y2",String(this.y2)),t.setAttribute("stroke",this.stroke??"none"),t.setAttribute("stroke-opacity",String(this.strokeOpacity)),t.setAttribute("stroke-width",String(this.strokeWidth)),{elements:[t]}}};Ns.className="Line",Ns.defaultStyles={...ws.defaultStyles,fill:void 0,strokeWidth:1},R([de({redraw:3})],Ns.prototype,"x1",2),R([de({redraw:3})],Ns.prototype,"y1",2),R([de({redraw:3})],Ns.prototype,"x2",2),R([de({redraw:3})],Ns.prototype,"y2",2);var Ls=class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;this.maxCacheSize=t,this.store=new Map}get(t){if(!this.store.has(t))return;const e=this.store.get(t);return this.store.delete(t),this.store.set(t,e),e}has(t){return this.store.has(t)}set(t,e){if(this.store.set(t,e),this.store.size>this.maxCacheSize){const t=this.store.keys();let e=this.store.size-this.maxCacheSize;for(;e>0;){const i=t.next();i.done||this.store.delete(i.value),e--}}return e}clear(){this.store.clear()}},ks=class{static measureText(t,e){return this.getMeasurer(e).measureText(t)}static measureLines(t,e){return this.getMeasurer(e).measureLines(t)}static getMeasurer(t){const e="string"===typeof t.font?t.font:Cs.toFontString(t.font),i=`${e}-${t.textAlign??"start"}-${t.textBaseline??"alphabetic"}`;return this.instanceMap.get(i)??this.createFontMeasurer(e,t,i)}static createFontMeasurer(t,e,i){const n=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const i=Ut("canvas");return i.style.display="block",i.style.width=t+"px",i.style.height=e+"px",i.getContext("2d")}();n.font=t,n.textAlign=e.textAlign??"start",n.textBaseline=e.textBaseline??"alphabetic";const a=new As(n,e);return this.instanceMap.set(i,a),a}};ks.instanceMap=new Ls(10);var As=class{constructor(t,e){this.ctx=t,this.measureMap=new Ls(100),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline),t.font="string"===typeof e.font?e.font:Cs.toFontString(e.font),this.textMeasurer=new Ts((t=>this.cachedCtxMeasureText(t)),e.textBaseline??"alphabetic")}textWidth(t,e){return this.textMeasurer.textWidth(t,e)}measureText(t){return this.textMeasurer.measureText(t)}measureLines(t){return this.textMeasurer.measureLines(t)}cachedCtxMeasureText(t){if(!this.measureMap.has(t)){const e=this.ctx.measureText(t);this.measureMap.set(t,{actualBoundingBoxAscent:e.actualBoundingBoxAscent,emHeightAscent:e.emHeightAscent,emHeightDescent:e.emHeightDescent,actualBoundingBoxDescent:e.actualBoundingBoxDescent,actualBoundingBoxLeft:e.actualBoundingBoxLeft,actualBoundingBoxRight:e.actualBoundingBoxRight,alphabeticBaseline:e.alphabeticBaseline,fontBoundingBoxAscent:e.fontBoundingBoxAscent,fontBoundingBoxDescent:e.fontBoundingBoxDescent,hangingBaseline:e.hangingBaseline,ideographicBaseline:e.ideographicBaseline,width:e.width})}return this.measureMap.get(t)}},Cs=class{static toFontString(t){let{fontSize:e=10,fontStyle:i,fontWeight:n,fontFamily:a,lineHeight:s}=t,r="";return i&&(r+=`${i} `),n&&(r+=`${n} `),r+=`${e}px`,s&&(r+=`/${s}px`),r+=` ${a}`,r.trim()}static getLineHeight(t){return Math.ceil(t*this.defaultLineHeight)}static getVerticalModifier(t){switch(t){case"hanging":case"top":return 0;case"middle":return.5;default:return 1}}};Cs.EllipsisChar="\u2026",Cs.defaultLineHeight=1.15,Cs.lineSplitter=/\r?\n/g;var Ts=class{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"alphabetic";this.measureTextFn=t,this.textBaseline=e,this.charMap=new Map}getMetrics(t){const e=this.measureTextFn(t);return e.fontBoundingBoxAscent??(e.fontBoundingBoxAscent=e.emHeightAscent),e.fontBoundingBoxDescent??(e.fontBoundingBoxDescent=e.emHeightDescent),{width:e.width,height:e.actualBoundingBoxAscent+e.actualBoundingBoxDescent,lineHeight:e.fontBoundingBoxAscent+e.fontBoundingBoxDescent,offsetTop:e.actualBoundingBoxAscent,offsetLeft:e.actualBoundingBoxLeft}}getMultilineMetrics(t){let e=0,i=0,n=0,a=0,s=0;const r=Cs.getVerticalModifier(this.textBaseline),o=[];let l=0;const c=t.length;for(const u of t){const t=this.measureTextFn(u);t.fontBoundingBoxAscent??(t.fontBoundingBoxAscent=t.emHeightAscent),t.fontBoundingBoxDescent??(t.fontBoundingBoxDescent=t.emHeightDescent),e<t.width&&(e=t.width),a<t.actualBoundingBoxLeft&&(a=t.actualBoundingBoxLeft),0===l?(i+=t.actualBoundingBoxAscent,n+=t.actualBoundingBoxAscent):s+=t.fontBoundingBoxAscent,l===c-1?i+=t.actualBoundingBoxDescent:s+=t.fontBoundingBoxDescent,o.push({text:u,width:t.width,height:t.actualBoundingBoxAscent+t.actualBoundingBoxDescent,lineHeight:t.fontBoundingBoxAscent+t.fontBoundingBoxDescent,offsetTop:t.actualBoundingBoxAscent,offsetLeft:t.actualBoundingBoxLeft}),l++}return i+=s,n+=s*r,{width:e,height:i,offsetTop:n,offsetLeft:a,lineMetrics:o}}textWidth(t,e){if(e){let e=0;for(let i=0;i<t.length;i++)e+=this.textWidth(t.charAt(i));return e}return t.length>1?this.measureTextFn(t).width:this.charMap.get(t)??this.charWidth(t)}measureText(t){return this.getMetrics(t)}measureLines(t){const e="string"===typeof t?t.split(Cs.lineSplitter):t;return this.getMultilineMetrics(e)}charWidth(t){const{width:e}=this.measureTextFn(t);return this.charMap.set(t,e),e}},Es=class t extends ws{constructor(){super(...arguments),this.x=0,this.y=0,this.lines=[],this.text=void 0,this.fontSize=10,this.fontFamily="sans-serif",this.textAlign=t.defaultStyles.textAlign,this.textBaseline=t.defaultStyles.textBaseline}onTextChange(){this.lines=this.text?.split("\n").map((t=>t.trim()))??[]}static computeBBox(t,e,i,n){const{offsetTop:a,offsetLeft:s,width:r,height:o}=ks.measureLines(t,n);return new ue(e-s,i-a,r,o)}computeBBox(){const{x:e,y:i,lines:n,textBaseline:a,textAlign:s}=this;return t.computeBBox(n,e,i,{font:this,textBaseline:a,textAlign:s})}isPointInPath(t,e){const i=this.getBBox();return!!i&&i.containsPoint(t,e)}render(t){const{ctx:e,forceRender:i,stats:n}=t;if(0===this.dirty&&!i)return void(n&&(n.nodesSkipped+=Oa(this).count));if(!this.lines.length||!this.layerManager)return void(n&&(n.nodesSkipped+=Oa(this).count));const{fill:a,stroke:s,strokeWidth:r}=this,{pixelRatio:o}=this.layerManager.canvas;if(e.font=Cs.toFontString(this),e.textAlign=this.textAlign,e.textBaseline=this.textBaseline,a){this.applyFill(e),e.globalAlpha*=this.opacity*this.fillOpacity;const{fillShadow:t}=this;t?.enabled&&(e.shadowColor=t.color,e.shadowOffsetX=t.xOffset*o,e.shadowOffsetY=t.yOffset*o,e.shadowBlur=t.blur*o),this.renderLines(((t,i,n)=>e.fillText(t,i,n)))}if(s&&r){e.strokeStyle=s,e.lineWidth=r,e.globalAlpha*=this.opacity*this.strokeOpacity;const{lineDash:t,lineDashOffset:i,lineCap:n,lineJoin:a}=this;t&&e.setLineDash(t),i&&(e.lineDashOffset=i),n&&(e.lineCap=n),a&&(e.lineJoin=a),this.renderLines(((t,i,n)=>e.strokeText(t,i,n)))}super.render(t)}renderLines(t){const{lines:e,x:i,y:n}=this,a=this.lineHeight??Cs.getLineHeight(this.fontSize);let s=(a-a*e.length)*Cs.getVerticalModifier(this.textBaseline);for(const r of e)t(r,i,n+s),s+=a}setFont(t){this.fontFamily=t.fontFamily,this.fontSize=t.fontSize,this.fontStyle=t.fontStyle,this.fontWeight=t.fontWeight}setAlign(t){this.textAlign=t.textAlign,this.textBaseline=t.textBaseline}toSVG(){if(!this.visible||!this.text)return;const t=document.createElementNS("http://www.w3.org/2000/svg","text");return t.setAttribute("font-family",this.fontFamily?.split(",")[0]??""),t.setAttribute("font-size",String(this.fontSize)),t.setAttribute("font-style",this.fontStyle??""),t.setAttribute("font-weight",String(this.fontWeight??"")),t.setAttribute("text-anchor",{center:"middle",left:"start",right:"end",start:"start",end:"end"}[this.textAlign??"start"]),t.setAttribute("alignment-baseline",{alphabetic:"alphabetic",top:"top",bottom:"bottom",hanging:"hanging",middle:"middle",ideographic:"ideographic"}[this.textBaseline??"alphabetic"]),t.setAttribute("x",String(this.x)),t.setAttribute("y",String(this.y)),t.textContent=this.text??"",{elements:[t]}}};Es.className="Text",Es.defaultStyles={...ws.defaultStyles,textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"},R([de({redraw:3})],Es.prototype,"x",2),R([de({redraw:3})],Es.prototype,"y",2),R([de({redraw:3,changeCb:t=>t.onTextChange()})],Es.prototype,"text",2),R([de()],Es.prototype,"fontStyle",2),R([de()],Es.prototype,"fontWeight",2),R([de()],Es.prototype,"fontSize",2),R([de()],Es.prototype,"fontFamily",2),R([de({redraw:3})],Es.prototype,"textAlign",2),R([de({redraw:3})],Es.prototype,"textBaseline",2),R([de({redraw:3})],Es.prototype,"lineHeight",2);var Rs=Es,Os=class extends(Ya(Rs)){},zs=class extends(Ya(Wa(Rs))){};function js(t,e,i,n,a,s){if(0===t.size)return!1;let r=t.x,o=t.y;null!=e&&(r-=(e.x-.5)*t.size,o-=(e.y-.5)*t.size);let l=r;r<i?l=i:r>i+a&&(l=i+a);let c=o;o<n?c=n:o>n+s&&(c=n+s);const u=r-l,h=o-c;return Math.sqrt(u*u+h*h)<=.5*t.size}function Ps(t,e,i,n,a){const s=t.x+t.width>e&&t.x<e+n,r=t.y+t.height>i&&t.y<i+a;return s&&r}var Bs={top:{x:0,y:-1},bottom:{x:0,y:1},left:{x:-1,y:0},right:{x:1,y:0},"top-left":{x:-1,y:-1},"top-right":{x:1,y:-1},"bottom-left":{x:-1,y:1},"bottom-right":{x:1,y:1}};function Fs(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const i=[];for(let n=0;n<t.length;n++){const a=t[n],{point:{x:s,y:r},label:{text:o}}=a;let{width:l,height:c}=a.label;if(l+=e,c+=e,i.some((t=>Ps(t,s,r,l,c))))return!0;i.push({index:n,text:o,x:s,y:r,width:l,height:c,datum:a})}return!1}function Gs(t,e){return t.length===e.length&&t.every(((t,i)=>Number(t)===Number(e[i])))}var _s="class-instance";function Us(t,e,i){if(Ee(e)){if(!Ee(t)||t.length!==e.length||e.some(((e,i)=>null!=Us(t[i],e))))return e}else{if(Ge(e)){if(!Ge(t))return e;const n={},a=new Set([...Object.keys(t),...Object.keys(e)]);for(const s of a)if(t[s]!==e[s]&&!i?.includes(s))if(typeof t[s]===typeof e[s]){const i=Us(t[s],e[s]);null!==i&&(n[s]=i)}else n[s]=e[s];return Object.keys(n).length?n:null}if(t!==e)return e}return null}function Ys(t,e){return Ee(t)?t.map((t=>Ys(t,e))):Ge(t)?qe(t,((t,i)=>e?.shallow?.includes(i)?Vs(t):Ys(t,e))):t instanceof Map?new Map(Ys(Array.from(t))):Vs(t)}function Vs(t){return Ee(t)?[...t]:Ge(t)?{...t}:Oe(t)?new Date(t):je(t)?new RegExp(t.source,t.flags):t}function Ws(t,e,i){for(var n=arguments.length,a=new Array(n>3?n-3:0),s=3;s<n;s++)a[s-3]=arguments[s];if(Ee(t))e(t,...a),t.forEach(((t,n)=>{Ws(t,e,i,...Hs(a,n))}));else if(Ge(t)){e(t,...a);for(const n of Object.keys(t)){if(i?.skip?.includes(n))continue;const s=t[n];(Ee(s)||Ge(s))&&Ws(s,e,i,...Hs(a,n))}}}function Zs(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{path:n,matcherPath:a=n?.replace(/(\[[0-9+]+])/i,"[]"),skip:s=[]}=i;if(null==t)throw new Error(`AG Charts - target is uninitialised: ${n??"<root>"}`);if(null==e)return t;if(Xi(t))return t.set(e);const r=t,o=Ks(t);for(const c in e){if(ii.has(c))continue;const u=`${a?a+".":""}${c}`;if(s.includes(u))continue;const h=e[c],d=`${n?n+".":""}${c}`,p=r.constructor,g=r[c];try{const e=Ks(g),n=Ks(h);if(o===_s&&!(c in t)){_.warn(`unable to set [${d}] in ${p?.name} - property is unknown`);continue}if(null!=e&&null!=n&&n!==e&&(e!==_s||"object"!==n)){_.warn(`unable to set [${d}] in ${p?.name} - can't apply type of [${n}], allowed types are: [${e}]`);continue}Xi(g)?r[c].set(h):"object"===n?(null==g&&(r[c]={}),Zs(g??r[c],h,{...i,path:d,matcherPath:u})):r[c]=h}catch(l){_.warn(`unable to set [${d}] in [${p?.name}]; nested error is: ${l.message}`)}}return t}function Hs(t,e){return t.map((t=>t?.[e]))}function Ks(t){return null==t?null:Ve(t)||Oe(t)?"primitive":Ee(t)?"array":Be(t)?Ge(t)?"object":_s:Pe(t)?"function":"primitive"}function $s(t,e){const i=Ee(t)?t:t.split(".");if(1===i.length){const[t]=i;return Le(((e,i,n)=>e[t]=n),(e=>e[t]),e)}return Le(((t,e,n)=>ni(t,i,n)),(t=>ei(t,i)),e)}function Qs(t){return Le(((e,i,n)=>e[t]=n))}function Xs(t,e){return Le(((i,n,a)=>i[t][e??n]=a))}function Js(t){const{newValue:e,oldValue:i,changeValue:n}=t;return Le(((t,a,s,r)=>(s!==r&&(void 0!==r&&i?.call(t,r),void 0!==s&&e?.call(t,s),n?.call(t,s,r)),s)))}function qs(t){return e=t,(t,i)=>{Ne(t,i).observers.push(e)};var e}var tr="color: green",er="color: grey",ir=class t{constructor(t,e,i){this.defaultState=t,this.states=e,this.enterEach=i,this.debug=ts.create(!0,"animation"),this.state=t,this.debug(`%c${this.constructor.name} | init -> ${t}`,tr)}transition(e,i){if(!this.transitionChild(e,i)||this.state===t.child||this.state===t.parent)return;const n=this.state,a=this.states[this.state];let s=a[e];const r=`%c${this.constructor.name} | ${this.state} -> ${e} ->`;if(Array.isArray(s))s=s.find((t=>{if(!t.guard)return!0;const e=t.guard(i);return e||this.debug(`${r} ${t.target} (guarded)`,er),e}));else if("object"===typeof s&&!(s instanceof t)&&s.guard&&!s.guard(i))return void this.debug(`${r} ${s.target} (guarded)`,er);if(!s)return void this.debug(`${r} ${this.state}`,er);const o=this.getDestinationState(s),l=o===this.state?void 0:a.onExit;this.debug(`${r} ${o}`,tr),this.state=o,"function"===typeof s?s(i):"object"!==typeof s||s instanceof t||s.action?.(i),l?.(),this.enterEach?.(n,o),o!==n&&o!==t.child&&o!==t.parent&&this.states[o].onEnter?.(n,i)}transitionAsync(t,e){setTimeout((()=>{this.transition(t,e)}),0)}is(e){return this.state===t.child&&this.childState?this.childState.is(e):this.state===e}resetHierarchy(){this.debug(`%c${this.constructor.name} | ${this.state} -> [resetHierarchy] -> ${this.defaultState}`,"color: green"),this.state=this.defaultState}transitionChild(e,i){return this.state!==t.child||!this.childState||(this.childState.transition(e,i),!this.childState.is(t.parent)||(this.debug(`%c${this.constructor.name} | ${this.state} -> ${e} -> ${this.defaultState}`,tr),this.state=this.defaultState,this.states[this.state].onEnter?.(),this.childState.resetHierarchy(),!1))}getDestinationState(e){let i=this.state;return"string"===typeof e?i=e:e instanceof t?(this.childState=e,i=t.child):"object"===typeof e&&(e.target instanceof t?(this.childState=e.target,i=t.child):null!=e.target&&(i=e.target)),i}};ir.child="__child",ir.parent="__parent";var nr=ir,ar=class{static wrapText(t,e){return this.wrapLines(t,e).join("\n")}static wrapLines(t,e){const i=this.textWrap(t,e);return"hide"===e.overflow&&i.some((t=>t.endsWith(Cs.EllipsisChar)))?[]:i}static appendEllipsis(t){return t.replace(/[.,]{1,5}$/,"")+Cs.EllipsisChar}static truncateLine(t,e,i,n){const a=e.textWidth(Cs.EllipsisChar);let s=0,r=0;for(;r<t.length;r++){const n=e.textWidth(t.charAt(r));if(s+n>i)break;s+=n}if(t.length===r&&(!n||s+a<=i))return n?t+Cs.EllipsisChar:t;for(t=t.slice(0,r).trimEnd();t.length&&e.textWidth(t)+a>i;)t=t.slice(0,-1).trimEnd();return t+Cs.EllipsisChar}static textWrap(t,e){const i=t.split(Cs.lineSplitter),n=ks.getMeasurer(e);if("never"===e.textWrap)return i.map((t=>this.truncateLine(t.trimEnd(),n,e.maxWidth)));const a=[],s="hyphenate"===e.textWrap,r=null==e.textWrap||"on-space"===e.textWrap;for(let o of i)if(o=o.trimEnd(),""!==o){for(let t=0,i=0,l=0;t<o.length;t++){const c=o.charAt(t);if(i+=n.textWidth(c)," "===c&&(l=t),i>e.maxWidth){if(0===t)break;const c=n.textWidth(o.slice(0,t+1));if(c<=e.maxWidth){i=c;continue}if(l){const s=this.getWordAt(o,l+1),c=n.textWidth(s);if(c<=e.maxWidth){a.push(o.slice(0,l).trimEnd()),o=o.slice(l).trimStart(),t=-1,i=0,l=0;continue}r&&c>e.maxWidth&&a.push(o.slice(0,l).trimEnd(),this.truncateLine(o.slice(l).trimStart(),n,e.maxWidth,!0))}else r&&a.push(this.truncateLine(o,n,e.maxWidth,!0));if(r){o="";break}const u=s?"-":"";let h=o.slice(0,t).trim();for(;h.length&&n.textWidth(h+u)>e.maxWidth;)h=h.slice(0,-1).trimEnd();if(a.push(h+u),!h.length){o="";break}o=o.slice(h.length).trimStart(),t=-1,i=0,l=0}}o&&a.push(o)}else a.push(o);return this.avoidOrphans(a,n,e),this.clipLines(a,n,e)}static getWordAt(t,e){const i=t.indexOf(" ",e);return-1===i?t.slice(e):t.slice(e,i)}static clipLines(t,e,i){if(!i.maxHeight)return t;const{height:n,lineMetrics:a}=e.measureLines(t);if(n<=i.maxHeight)return t;for(let s=0,r=0;s<a.length;s++){const{lineHeight:n}=a[s];if(r+=n,r>i.maxHeight){if("hide"===i.overflow)return[];const n=t.slice(0,s||1),a=n.pop();return n.concat(this.truncateLine(a,e,i.maxWidth,!0))}}return t}static avoidOrphans(t,e,i){if(!1===i.avoidOrphans||t.length<2)return;const{length:n}=t,a=t[n-1],s=t[n-2];if(s.length<a.length)return;const r=s.lastIndexOf(" ");if(-1===r||r===s.indexOf(" ")||a.includes(" "))return;const o=s.slice(r+1);e.textWidth(a+o)<=i.maxWidth&&(t[n-2]=s.slice(0,r),t[n-1]=o+" "+a)}},sr={isEnterprise:!1};function rr(t,e,i){void 0===i||""===i?t?.removeAttribute(e):t?.setAttribute(e,i.toString())}function or(t,e){if(null==e)return;let i;for(i in e)"class"!==i&&rr(t,i,e[i])}function lr(t,e,i){if(!(t instanceof HTMLElement))return;const n=t.getAttribute(e);if(null===n)return i;const a=typeof{}[e];return"boolean"===a?"true"===n:"number"===a?Number(n):"string"===a?n:void 0}function cr(t,e,i){null!=t&&(null==i?t.style.removeProperty(e):t.style.setProperty(e,i))}function ur(t,e,i,n){let{top:a,right:s,bottom:r,left:o,width:l,height:c}=n;return null!=o?null!=l?s=i.width-o+l:null!=s&&(l=i.width-o-s):null!=s&&null!=l&&(o=i.width-s-l),null!=a?null!=c?r=i.height-a-c:null!=r&&(c=i.height-r-a):null!=r&&null!=c&&(a=i.height-r-c),null==l?null==c?(l=t,c=e):l=Math.ceil(t*c/e):null==c&&(c=Math.ceil(e*l/t)),null==o&&(o=null==s?Math.floor((i.width-l)/2):i.width-s-l),null==a&&(a=null==r?Math.floor((i.height-c)/2):i.height-c-r),{x:o,y:a,width:l,height:c}}var hr="ag-chart-tooltip",dr="ag-chart-dark-tooltip",pr={html:"",ariaLabel:""};function gr(t){const e=(t,e,i)=>0===e||"."!==i[e-1]?". ":" ";return t.replace(/<br\s*\/?>/g,e).replace(/<\/p\s+>/g,e).replace(/<\/li\s*>/g,e).replace(/<[^<>]+>/g,"").replace(/\n+/g," ").replace(/\s+/g," ")}function fr(t,e){if("string"===typeof t)return{html:t,ariaLabel:t};const{content:i=e?.content??"",title:n=e?.title,color:a=e?.color??"white",backgroundColor:s=e?.backgroundColor??"#888"}=t;return{html:`${n?`<div class="${hr}-title"\n        style="color: ${a}; background-color: ${s}">${n}</div>`:""}${i?`<div class="${hr}-content">${i}</div>`:""}`,ariaLabel:gr(`${n?`${n}: `:""}${i}`)}}var yr=class extends $i{constructor(){super(...arguments),this.type="pointer",this.xOffset=0,this.yOffset=0}};R([Ji(Wn(["pointer","node","top","right","bottom","left","top-left","top-right","bottom-right","bottom-left",{value:"sparkline",undocumented:!0}],"a position type"))],yr.prototype,"type",2),R([Ji(ln)],yr.prototype,"xOffset",2),R([Ji(ln)],yr.prototype,"yOffset",2);var mr=class extends $i{constructor(){super(),this.enabled=!0,this.delay=0,this.range=void 0,this.wrapping="hyphenate",this.position=new yr,this.darkTheme=!1,this.bounds="extended",this.enableInteraction=!1,this.lastVisibilityChange=Date.now(),this.wrapTypes=["always","hyphenate","on-space","never"],this.showTimeout=0,this._showArrow=!0}get interactive(){return this.enableInteraction}setup(t){this.element=t.addChild("canvas-overlay",hr),this.element.classList.add(hr)}destroy(t){t.removeChild("canvas-overlay",hr)}isVisible(){return!this.element?.classList.contains(hr+"-hidden")}show(t,e,i,n){let a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const{element:s}=this,r=s?.getBoundingClientRect();if(null!=n&&null!=s)s.innerHTML=n.html;else if(!s?.innerHTML)return void this.toggle(!1);const o=i.position?.type??this.position.type,l=i.position?.xOffset??0,c=i.position?.yOffset??0,u=this.getTooltipBounds({positionType:o,meta:i,yOffset:c,xOffset:l,canvasRect:e}),h={x:t.x-e.x,y:t.y-e.y,width:t.width,height:t.height},d=ur(s.clientWidth,s.clientHeight,h,u),p=h.x,g=h.y,f=h.width-s.clientWidth-1+p,y=h.height-s.clientHeight+g,m=Xt(p,d.x,f),x=Xt(g,d.y,y);let b=!1;if(null!=r){const t=h.width-r.width-1+p,e=h.height-r.height+g;b=t>f||e>y}const v=m!==d.x||x!==d.y,M=("node"===o||"pointer"===o||"sparkline"===o)&&!v&&!l&&!c,S=i.showArrow??this.showArrow??M;this.updateShowArrow(S),b&&(s.style.transition="none"),s.style.transform=`translate(${Math.round(m)}px, ${Math.round(x)}px)`,b&&(s.style.transition=""),i.enableInteraction?(this.enableInteraction=!0,s.style.pointerEvents="auto",rr(s,"aria-hidden",void 0)):(this.enableInteraction=!1,s.style.pointerEvents="none",rr(s,"aria-hidden",!0)),this.delay>0&&!a?(this.toggle(!1),this.showTimeout=setTimeout((()=>{this.toggle(!0)}),this.delay)):this.toggle(!0)}toggle(t){if(!this.element)return;const{classList:e}=this.element,i=(t,i)=>e.toggle(`${hr}-${t}`,i),n=this.isVisible();let a=1/0;if(t||clearTimeout(this.showTimeout),n!==t){const t=Date.now();a=t-this.lastVisibilityChange,this.lastVisibilityChange=t}a>5&&i("no-animation",!n&&t&&a>100),i("no-interaction",!this.enableInteraction),i("hidden",!t),i("arrow",this._showArrow),e.toggle(dr,this.darkTheme);for(const s of this.wrapTypes)e.toggle(`${hr}-wrap-${s}`,s===this.wrapping)}updateShowArrow(t){this._showArrow=t}getTooltipBounds(t){if(!this.element)return{};const{positionType:e,meta:i,yOffset:n,xOffset:a,canvasRect:s}=t,{clientWidth:r,clientHeight:o}=this.element,l={width:r,height:o};switch(e){case"node":case"pointer":return l.top=i.offsetY+n-o-8,l.left=i.offsetX+a-r/2,l;case"top":return l.top=n,l.left=s.width/2-r/2+a,l;case"right":return l.top=s.height/2-o/2+n,l.left=s.width-r/2+a,l;case"left":return l.top=s.height/2-o/2+n,l.left=a,l;case"bottom":return l.top=s.height-o+n,l.left=s.width/2-r/2+a,l;case"top-left":return l.top=n,l.left=a,l;case"top-right":return l.top=n,l.left=s.width-r+a,l;case"bottom-right":return l.top=s.height-o+n,l.left=s.width-r+a,l;case"bottom-left":return l.top=s.height-o+n,l.left=a,l;case"sparkline":return sr.isEnterprise?l.top=n-o-8:l.top=i.offsetY+n-o-8,l.left=i.offsetX+a-r/2,l}}};R([Ji(sn)],mr.prototype,"enabled",2),R([Ji(sn,{optional:!0})],mr.prototype,"showArrow",2),R([qs(((t,e,i)=>{e&&t.element?.classList.add(e),i&&t.element?.classList.remove(i)})),Ji(on,{optional:!0})],mr.prototype,"class",2),R([Ji(hn)],mr.prototype,"delay",2),R([Ji(Yn,{optional:!0})],mr.prototype,"range",2),R([Ji(Pn)],mr.prototype,"wrapping",2),R([Ji(nn)],mr.prototype,"position",2),R([Ji(sn)],mr.prototype,"darkTheme",2),R([Ji(Wn(["extended","canvas"]))],mr.prototype,"bounds",2);var xr=class extends $i{constructor(){super(...arguments),this.id=Tt(this),this.node=new Os({zIndex:1}).setProperties({textAlign:"center",pointerEvents:1}),this.enabled=!1,this.textAlign="center",this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always",this.padding=0,this.layoutStyle="block",this.truncated=!1}registerInteraction(t,e){const{regionManager:i,proxyInteractionService:n,layoutManager:a}=t,s=i.getRegion("root");return function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return()=>{for(const t of e)t()}}(...[a.addListener("layout:complete",(()=>this.updateA11yText(n,e))),s.addListener("hover",(e=>this.handleMouseMove(t,e))),s.addListener("leave",(e=>this.handleMouseLeave(t,e)))])}computeTextWrap(t,e){const{text:i,padding:n,wrapping:a}=this,s=Math.min(this.maxWidth??1/0,t)-2*n,r=this.maxHeight??e-2*n;if(!isFinite(s)&&!isFinite(r))return void(this.node.text=i);const o=ar.wrapText(i??"",{maxWidth:s,maxHeight:r,font:this,textWrap:a});this.node.text=o,this.truncated=o.includes(Cs.EllipsisChar)}updateA11yText(t,e){if(this.enabled&&this.text){const i=Za.toCanvas(this.node);if(i){const{id:n}=this;this.proxyText??(this.proxyText=t.createProxyElement({type:"text",id:n,parent:e})),this.proxyText.textContent=this.text,this.proxyText.updateBounds(i)}}else this.proxyText?.remove(),this.proxyText=void 0}handleMouseMove(t,e){if(void 0!==e&&this.enabled&&this.node.visible&&this.truncated){const{offsetX:i,offsetY:n}=e;t.tooltipManager.updateTooltip(this.id,{offsetX:i,offsetY:n,lastPointerEvent:e,showArrow:!1},fr({content:this.text}))}}handleMouseLeave(t,e){t.tooltipManager.removeTooltip(this.id)}};xr.SMALL_PADDING=10,xr.LARGE_PADDING=20,R([Ji(sn),Xs("node","visible")],xr.prototype,"enabled",2),R([Ji(on,{optional:!0}),Xs("node")],xr.prototype,"text",2),R([Ji(Bn,{optional:!0}),Xs("node")],xr.prototype,"textAlign",2),R([Ji(zn,{optional:!0}),Xs("node")],xr.prototype,"fontStyle",2),R([Ji(jn,{optional:!0}),Xs("node")],xr.prototype,"fontWeight",2),R([Ji(hn),Xs("node")],xr.prototype,"fontSize",2),R([Ji(on),Xs("node")],xr.prototype,"fontFamily",2),R([Ji(In,{optional:!0}),Xs("node","fill")],xr.prototype,"color",2),R([Ji(hn,{optional:!0})],xr.prototype,"spacing",2),R([Ji(hn,{optional:!0})],xr.prototype,"maxWidth",2),R([Ji(hn,{optional:!0})],xr.prototype,"maxHeight",2),R([Ji(Pn)],xr.prototype,"wrapping",2),R([Ji(hn)],xr.prototype,"padding",2),R([Ji(on)],xr.prototype,"layoutStyle",2);var br=class t extends Ka{constructor(t){super(t),this.opts=t,this.lastBBox=void 0}static is(e){return e instanceof t}markDirty(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;super.markDirty(t,1)}preRender(){const t=super.preRender();return t.nonGroups>0&&(this.layer??(this.layer=this._layerManager?.addLayer({name:this.name,zIndex:this.zIndex,zIndexSubOrder:this.zIndexSubOrder,getComputedOpacity:()=>this.getComputedOpacity(),getVisibility:()=>this.getVisibility()})),this.opts?.deriveZIndexFromChildren&&this.deriveZIndexFromChildren()),t}debugSkip(t){super.debugSkip(t);const{stats:e}=t;e&&(e.layersSkipped++,e.nodesSkipped+=Oa(this).count)}render(t){if(!this.layer)return super.render(t);const{opts:{name:e}={},_debug:i,clipRect:n}=this,{isDirty:a,isChildDirty:s,isChildLayerDirty:r}=this.isDirty(t),{stats:o}=t;let{forceRender:l,clipBBox:c}=t;const u=this.getBBox();if(this.lastBBox?.equals(u)||(l="dirtyTransform",this.lastBBox=u),!a&&!s&&!r&&!l)return this.debugSkip(t),void this.markClean({recursive:!1});"dirtyTransform"!==l&&(l=s||this.dirtyZIndex),l&&this.layer.clear(),this.dirtyZIndex&&this.sortChildren(Ka.compareChildren);const h=this.sortedChildren(),d=t.ctx.getTransform(),{context:p}=this.layer;if(p.save(),c){const{width:n,height:a,x:s,y:r}=c;p.beginPath(),p.rect(s,r,n,a),p.clip(),i?.((()=>({name:e,clipBBox:c,renderCtx:t,group:this,ctxTransform:p.getTransform()})))}p.setTransform(d),this.clipRect&&(c=this.renderClip({...t,ctx:p})),this.renderChildren(h,{...t,ctx:p,forceRender:l,clipBBox:c}),super.render(t,!0),n&&p.restore();for(const g of this.virtualChildren())g.markClean({recursive:"virtual"});o&&o.layersRendered++,p.restore(),p.verifyDepthZero?.(),e&&o&&i?.({name:e,renderCtx:t,result:"rendered",skipped:o.nodesSkipped,counts:Oa(this),group:this})}deriveZIndexFromChildren(){let t;for(const e of this.children())e.childNodeCounts.nonGroups&&(!t||Ka.compareChildren(t,e)<0)&&(t=e);this.zIndex=t?.zIndex??-1/0,this.zIndexSubOrder=t?.zIndexSubOrder}_setLayerManager(t){this.layer&&(this._layerManager?.removeLayer(this.layer),this.layer=void 0),super._setLayerManager(t)}getComputedOpacity(){let t=1;for(const e of this.traverseUp(!0))e instanceof Ka&&(t*=e.opacity);return t}getVisibility(){for(const t of this.traverseUp(!0))if(!t.visible)return!1;return!0}onVisibleChange(){this.layer&&(this.layer.enabled=this.visible)}onZIndexChange(){super.onZIndexChange(),this.layer&&this._layerManager?.moveLayer(this.layer,this.zIndex,this.zIndexSubOrder)}};br.className="Layer";var vr=br,Mr=class extends(Wa(vr)){},Sr=class extends ws{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.startLine=!1,this.endLine=!1,this.isRange=!1,this.restoreOwnStyles()}computeBBox(){return new ue(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)}isPointInPath(t,e){return!1}render(t){const{ctx:e,forceRender:i,stats:n}=t;if(0===this.dirty&&!i)return void(n&&(n.nodesSkipped+=Oa(this).count));let{x1:a,y1:s,x2:r,y2:o}=this;a=this.align(a),s=this.align(s),r=this.align(r),o=this.align(o);const{fill:l,opacity:c,isRange:u}=this;if(!(!u||!l)){const{fillOpacity:t}=this;this.applyFill(e),e.globalAlpha=c*t,e.beginPath(),e.moveTo(a,s),e.lineTo(r,s),e.lineTo(r,o),e.lineTo(a,o),e.closePath(),e.fill()}const{stroke:h,strokeWidth:d,startLine:p,endLine:g}=this;if(!(!p&&!g||!h||!d)){const{strokeOpacity:t,lineDash:i,lineDashOffset:n,lineCap:l,lineJoin:u}=this;e.strokeStyle=h,e.globalAlpha=c*t,e.lineWidth=d,i&&e.setLineDash(i),n&&(e.lineDashOffset=n),l&&(e.lineCap=l),u&&(e.lineJoin=u),e.beginPath(),p&&(e.moveTo(a,s),e.lineTo(r,s)),g&&(e.moveTo(r,o),e.lineTo(a,o)),e.stroke()}this.fillShadow?.markClean(),super.render(t)}};Sr.className="Range",Sr.defaultStyles={...ws.defaultStyles,strokeWidth:1},R([de({redraw:2})],Sr.prototype,"x1",2),R([de({redraw:2})],Sr.prototype,"y1",2),R([de({redraw:2})],Sr.prototype,"x2",2),R([de({redraw:2})],Sr.prototype,"y2",2),R([de({redraw:2})],Sr.prototype,"startLine",2),R([de({redraw:2})],Sr.prototype,"endLine",2),R([de({redraw:2})],Sr.prototype,"isRange",2);var Ir=class extends $i{constructor(){super(...arguments),this.enabled=!0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}getFont(){return Cs.toFontString(this)}};function Dr(t){const{parallelFlipRotation:e=0,regularFlipRotation:i=0}=t,n=t.rotation?ns(os(t.rotation)):0,a=!n&&e>=0&&e<=Math.PI?-1:1,s=!n&&i>=0&&i<=Math.PI?-1:1;let r=0;return t.parallel?r=a*Math.PI/2:-1===s&&(r=Math.PI),{configuredRotation:n,defaultRotation:r,parallelFlipFlag:a,regularFlipFlag:s}}function wr(t,e){return isNaN(t)?e?0:10:t}function Nr(t,e,i,n,a){const s=e>0&&e<=Math.PI,r=i>0&&i<=Math.PI;if(t){if(!e&&!i)return"center";if(n*(s||r?-1:1)===-1)return"end"}else if(n*a===-1)return"end";return"start"}function Lr(t,e,i){const{x:n,y:a,width:s,height:r}=e,o=new ue(n,a,0,0);i.transformBBox(o,e);const{x:l,y:c}=e;return{point:{x:l,y:c},label:{text:t,width:s,height:r}}}R([Ji(sn)],Ir.prototype,"enabled",2),R([Ji(In,{optional:!0})],Ir.prototype,"color",2),R([Ji(zn,{optional:!0})],Ir.prototype,"fontStyle",2),R([Ji(jn,{optional:!0})],Ir.prototype,"fontWeight",2),R([Ji(hn)],Ir.prototype,"fontSize",2),R([Ji(on)],Ir.prototype,"fontFamily",2),R([Ji(rn,{optional:!0})],Ir.prototype,"formatter",2);var kr=(t=>(t[t.SERIES_BACKGROUND=0]="SERIES_BACKGROUND",t[t.AXIS_GRID=1]="AXIS_GRID",t[t.AXIS=2]="AXIS",t[t.SERIES_CROSSLINE_RANGE=3]="SERIES_CROSSLINE_RANGE",t[t.SERIES_LAYER=4]="SERIES_LAYER",t[t.SERIES_HIGHLIGHT=5]="SERIES_HIGHLIGHT",t[t.AXIS_FOREGROUND=6]="AXIS_FOREGROUND",t[t.SERIES_CROSSHAIR=7]="SERIES_CROSSHAIR",t[t.CHART_OVERLAY=8]="CHART_OVERLAY",t[t.SERIES_CROSSLINE_LINE=9]="SERIES_CROSSLINE_LINE",t[t.SERIES_ANNOTATION=10]="SERIES_ANNOTATION",t[t.CHART_ANNOTATION=11]="CHART_ANNOTATION",t[t.CHART_ANNOTATION_FOCUSED=12]="CHART_ANNOTATION_FOCUSED",t[t.STATUS_BAR=13]="STATUS_BAR",t[t.SERIES_LABEL=14]="SERIES_LABEL",t[t.LEGEND=15]="LEGEND",t[t.NAVIGATOR=16]="NAVIGATOR",t[t.FOREGROUND=17]="FOREGROUND",t))(kr||{});function Ar(t){return null!=t&&Object.hasOwn(t,"toString")&&_e(t.toString())}function Cr(t){return null!=t&&Object.hasOwn(t,"valueOf")&&Ye(t.valueOf())}function Tr(t){return Ye(t)||ze(t)||Cr(t)}function Er(t,e){return null!=t&&(!e||Tr(t))}function Rr(t){return Ar(t)&&Object.hasOwn(t,"id")?t.id:t}var Or=t=>"value"===t?Kn(((t,e)=>"line"===e.target.type),(t=>"range"===t.target.type?"crossLine type 'range' to have a 'range' property instead of 'value'":"crossLine property 'type' to be 'line'")):Kn(((t,e)=>"range"===e.target.type),(t=>"line"===t.target.type?"crossLine type 'line' to have a 'value' property instead of 'range'":"crossLine property 'type' to be 'range'")),zr=(t,e,i,n,a)=>{const s="line"===t&&void 0!==e,r="range"===t&&void 0!==i;if(!s&&!r)return!0;const[o,l]=i??[e,void 0],c=Li.is(n)||Ca.is(n),u=Er(o,c)&&!isNaN(n.convert(o)),h=Er(l,c)&&!isNaN(n.convert(l));if(s&&u||r&&u&&h)return a?.()??!0;const d=["Expecting crossLine"];return r?(u||d.push(`range start ${Xn(o)}`),h||d.push(`${u?"":"and "}range end ${Xn(l)}`)):d.push(`value ${Xn(o)}`),d.push("to match the axis scale domain."),_.warnOnce(d.join(" ")),!1},jr={top:{xTranslationDirection:0,yTranslationDirection:-1},bottom:{xTranslationDirection:0,yTranslationDirection:1},left:{xTranslationDirection:-1,yTranslationDirection:0},right:{xTranslationDirection:1,yTranslationDirection:0},topLeft:{xTranslationDirection:1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:-1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:1},bottomRight:{xTranslationDirection:-1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:1,yTranslationDirection:0},insideRight:{xTranslationDirection:-1,yTranslationDirection:0},insideTop:{xTranslationDirection:0,yTranslationDirection:1},insideBottom:{xTranslationDirection:0,yTranslationDirection:-1},insideTopLeft:{xTranslationDirection:1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomRight:{xTranslationDirection:-1,yTranslationDirection:-1}},Pr={top:{xTranslationDirection:1,yTranslationDirection:0},bottom:{xTranslationDirection:-1,yTranslationDirection:0},left:{xTranslationDirection:0,yTranslationDirection:-1},right:{xTranslationDirection:0,yTranslationDirection:1},topLeft:{xTranslationDirection:-1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},bottomRight:{xTranslationDirection:1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:0,yTranslationDirection:1},insideRight:{xTranslationDirection:0,yTranslationDirection:-1},insideTop:{xTranslationDirection:-1,yTranslationDirection:0},insideBottom:{xTranslationDirection:1,yTranslationDirection:0},insideTopLeft:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:-1},insideBottomRight:{xTranslationDirection:1,yTranslationDirection:-1}};function Br(t){let{yDirection:e,padding:i=0,position:n="top",bbox:a}=t;const s=e?jr:Pr,{xTranslationDirection:r,yTranslationDirection:o}=s[n];return{xTranslation:r*(i+a.width/2),yTranslation:o*(i+a.height/2)}}function Fr(t){let{yDirection:e,bbox:i,padding:n=0,position:a="top"}=t;const s={};return a.startsWith("inside")||("top"!==a||e?"bottom"!==a||e?"left"===a&&e?s.left=n+i.width:"right"===a&&e&&(s.right=n+i.width):s.bottom=n+i.height:s.top=n+i.height),s}var Gr=t=>{let{direction:e,xEnd:i,yStart:n,yEnd:a}=t;return"y"===e?{x:i/2,y:n}:{x:i,y:isNaN(a)?n:(n+a)/2}},_r=t=>{let{direction:e,xStart:i,xEnd:n,yStart:a,yEnd:s}=t;return"y"===e?{x:i,y:isNaN(s)?a:(a+s)/2}:{x:n/2,y:a}},Ur=t=>{let{direction:e,xEnd:i,yStart:n,yEnd:a}=t;return"y"===e?{x:i,y:isNaN(a)?n:(n+a)/2}:{x:i/2,y:isNaN(a)?n:a}},Yr=t=>{let{direction:e,xStart:i,xEnd:n,yStart:a,yEnd:s}=t;return"y"===e?{x:n/2,y:isNaN(s)?a:s}:{x:i,y:isNaN(s)?a:(a+s)/2}},Vr=t=>{let{direction:e,xStart:i,xEnd:n,yStart:a}=t;return"y"===e?{x:i/2,y:a}:{x:n,y:a}},Wr=t=>{let{direction:e,xStart:i,yStart:n,yEnd:a}=t;return"y"===e?{x:i,y:isNaN(a)?n:a}:{x:i,y:n}},Zr=t=>{let{direction:e,xEnd:i,yStart:n,yEnd:a}=t;return"y"===e?{x:i,y:n}:{x:i,y:isNaN(a)?n:a}},Hr=t=>{let{direction:e,xStart:i,xEnd:n,yStart:a,yEnd:s}=t;return"y"===e?{x:n,y:isNaN(s)?a:s}:{x:i,y:isNaN(s)?a:s}},Kr={top:{c:Gr},bottom:{c:Yr},left:{c:_r},right:{c:Ur},topLeft:{c:Vr},topRight:{c:Zr},bottomLeft:{c:Wr},bottomRight:{c:Hr},inside:{c:t=>{let{xEnd:e,yStart:i,yEnd:n}=t;return{x:e/2,y:isNaN(n)?i:(i+n)/2}}},insideLeft:{c:_r},insideRight:{c:Ur},insideTop:{c:Gr},insideBottom:{c:Yr},insideTopLeft:{c:Vr},insideBottomLeft:{c:Wr},insideTopRight:{c:Zr},insideBottomRight:{c:Hr}},$r=Wn(["top","left","right","bottom","topLeft","topRight","bottomLeft","bottomRight","inside","insideLeft","insideRight","insideTop","insideBottom","insideTopLeft","insideBottomLeft","insideTopRight","insideBottomRight"],"crossLine label position"),Qr=class extends $i{constructor(){super(...arguments),this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)"}};R([Ji(sn,{optional:!0})],Qr.prototype,"enabled",2),R([Ji(on,{optional:!0})],Qr.prototype,"text",2),R([Ji(zn,{optional:!0})],Qr.prototype,"fontStyle",2),R([Ji(jn,{optional:!0})],Qr.prototype,"fontWeight",2),R([Ji(hn)],Qr.prototype,"fontSize",2),R([Ji(on)],Qr.prototype,"fontFamily",2),R([Ji(ln)],Qr.prototype,"padding",2),R([Ji(In,{optional:!0})],Qr.prototype,"color",2),R([Ji($r,{optional:!0})],Qr.prototype,"position",2),R([Ji(pn,{optional:!0})],Qr.prototype,"rotation",2),R([Ji(sn,{optional:!0})],Qr.prototype,"parallel",2);var Xr=class t extends $i{constructor(){super(),this.id=Tt(this),this.label=new Qr,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.sideFlag=-1,this.parallelFlipRotation=0,this.regularFlipRotation=0,this.direction="x",this.group=new vr({name:this.id,zIndex:t.LINE_LAYER_ZINDEX}),this.labelGroup=new vr({name:this.id,zIndex:t.LABEL_LAYER_ZINDEX}),this.crossLineRange=new Sr,this.crossLineLabel=new zs,this.labelPoint=void 0,this.data=[],this.startLine=!1,this.endLine=!1,this.isRange=!1,this.group.append(this.crossLineRange),this.labelGroup.append(this.crossLineLabel),this.crossLineRange.pointerEvents=1}update(t){const{enabled:e,data:i,type:n,value:a,range:s,scale:r}=this;if(!n||!r||!e||!t||!zr(n,a,s,r)||0===i.length)return this.group.visible=!1,void(this.labelGroup.visible=!1);this.group.visible=t,this.labelGroup.visible=t,this.group.zIndex=this.getZIndex(this.isRange),this.updateNodes()}calculateLayout(t,e){if(!t)return;const{scale:i,gridLength:n,sideFlag:a,direction:s,label:{position:r="top"},clippedRange:o,strokeWidth:l=0}=this;if(this.data=[],!i)return;const c=i.bandwidth??0,u=i.step??0,h=(e?-1:1)*(i instanceof Ki?(u-c)/2:0),[d,p]=[0,a*n];let[g,f]=this.getRange();const y=void 0===f&&Ca.is(i)?c/2+h:0;let[m,x]=[Number(i.convert(g,{clampMode:"clamped"}))-h+y,i.convert(f,{clampMode:"clamped"})+c+h];m=Jt(m,o),x=Jt(x,o),[g,f]=[Number(i.convert(g))+y,i.convert(f)+c];const b=(g===m||f===x||m!==x)&&Math.abs(x-m)>0;if(b&&m>x&&([m,x]=[x,m],[g,f]=[f,g]),g-h>=m&&(g-=h),f+h<=x&&(f+=h),this.isRange=b,this.startLine=l>0&&g>=m&&g<=m+h,this.endLine=l>0&&f>=x-c-h&&f<=x,!b&&!this.startLine&&!this.endLine)return;if(this.data=[m,x],!this.label.enabled)return;const{c:v=Gr}=Kr[r]??{},{x:M,y:S}=v({direction:s,xStart:d,xEnd:p,yStart:m,yEnd:x});this.labelPoint={x:M,y:S}}updateNodes(){this.updateRangeNode(),this.label.enabled&&(this.updateLabel(),this.positionLabel())}updateRangeNode(){const{crossLineRange:t,sideFlag:e,gridLength:i,data:n,startLine:a,endLine:s,isRange:r,fill:o,fillOpacity:l,stroke:c,strokeWidth:u,lineDash:h}=this;t.x1=0,t.x2=e*i,t.y1=n[0],t.y2=n[1],t.startLine=a,t.endLine=s,t.isRange=r,t.fill=o,t.fillOpacity=l??1,t.stroke=c,t.strokeWidth=u??1,t.strokeOpacity=this.strokeOpacity??1,t.lineDash=h}updateLabel(){const{crossLineLabel:t,label:e}=this;e.text&&(t.fontStyle=e.fontStyle,t.fontWeight=e.fontWeight,t.fontSize=e.fontSize,t.fontFamily=e.fontFamily,t.fill=e.color,t.text=e.text)}positionLabel(){const{crossLineLabel:t,labelPoint:{x:e,y:i}={},label:{parallel:n,rotation:a,position:s="top",padding:r=0},direction:o,parallelFlipRotation:l,regularFlipRotation:c}=this;if(void 0===e||void 0===i)return;const{defaultRotation:u,configuredRotation:h}=Dr({rotation:a,parallel:n,regularFlipRotation:c,parallelFlipRotation:l});t.rotation=u+h,t.textBaseline="middle",t.textAlign="center";const d=t.getBBox();if(!d)return;const p="y"===o,{xTranslation:g,yTranslation:f}=Br({yDirection:p,padding:r,position:s,bbox:d});t.translationX=e+g,t.translationY=i+f}getZIndex(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?t.RANGE_LAYER_ZINDEX:t.LINE_LAYER_ZINDEX}getRange(){const{value:t,range:e,scale:i}=this,n=Li.is(i)||Ca.is(i),a=e?.[0]??t;let s=e?.[1];return n||void 0!==s||(s=a),n&&a===s&&(s=void 0),[a,s]}computeLabelBBox(){const{label:t}=this;if(!t.enabled)return;const e=new zs;e.fontFamily=t.fontFamily,e.fontSize=t.fontSize,e.fontStyle=t.fontStyle,e.fontWeight=t.fontWeight,e.text=t.text;const{labelPoint:{x:i,y:n}={},label:{parallel:a,rotation:s,position:r="top",padding:o=0},direction:l,parallelFlipRotation:c,regularFlipRotation:u}=this;if(void 0===i||void 0===n)return;const{configuredRotation:h}=Dr({rotation:s,parallel:a,regularFlipRotation:u,parallelFlipRotation:c});e.rotation=h,e.textBaseline="middle",e.textAlign="center";const d=e.getBBox();if(!d)return;const p="y"===l,{xTranslation:g,yTranslation:f}=Br({yDirection:p,padding:o,position:r,bbox:d});return e.x=i+g,e.y=n+f,e.getBBox()}calculatePadding(t){const{isRange:e,startLine:i,endLine:n,direction:a,label:{padding:s=0,position:r="top"}}=this;if(!e&&!i&&!n)return;const o=this.computeLabelBBox();if(null==o?.x||null==o?.y)return;const l=Fr({yDirection:"y"===a,padding:s,position:r,bbox:o});t.left=Math.max(t.left??0,l.left??0),t.right=Math.max(t.right??0,l.right??0),t.top=Math.max(t.top??0,l.top??0),t.bottom=Math.max(t.bottom??0,l.bottom??0)}};Xr.LINE_LAYER_ZINDEX=9,Xr.RANGE_LAYER_ZINDEX=3,Xr.LABEL_LAYER_ZINDEX=14,Xr.className="CrossLine",R([Ji(sn,{optional:!0})],Xr.prototype,"enabled",2),R([Ji(Wn(["range","line"],"a crossLine type"),{optional:!0})],Xr.prototype,"type",2),R([Ji(tn(Or("range"),fn.restrict({length:2})),{optional:!0})],Xr.prototype,"range",2),R([Ji(Or("value"),{optional:!0})],Xr.prototype,"value",2),R([Ji(In,{optional:!0})],Xr.prototype,"fill",2),R([Ji(dn,{optional:!0})],Xr.prototype,"fillOpacity",2),R([Ji(In,{optional:!0})],Xr.prototype,"stroke",2),R([Ji(ln,{optional:!0})],Xr.prototype,"strokeWidth",2),R([Ji(dn,{optional:!0})],Xr.prototype,"strokeOpacity",2),R([Ji(Rn,{optional:!0})],Xr.prototype,"lineDash",2),R([Ji(nn)],Xr.prototype,"label",2);var Jr=Xr,qr=["stroke","lineDash"],to=yn((t=>Be(t)&&Object.keys(t).every((t=>qr.includes(t)))),"objects with gridline style properties such as 'stroke' or 'lineDash'"),eo=class{constructor(){this.enabled=!0,this.width=1,this.style=[{stroke:void 0,lineDash:[]}]}};function io(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[void 0];return Le(((i,n,a)=>e.includes(a)?Pe(t)?t(a):t:a))}R([Ji(sn)],eo.prototype,"enabled",2),R([Ji(hn)],eo.prototype,"width",2),R([Ji(to)],eo.prototype,"style",2);var no=Kn((t=>Ye(t)&&t>0||t instanceof U),"a non-zero positive Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),ao=class extends $i{constructor(){super(...arguments),this.minSpacing=NaN,this.maxSpacing=NaN}};R([Ji(no,{optional:!0})],ao.prototype,"step",2),R([Ji(fn,{optional:!0})],ao.prototype,"values",2),R([Ji(Zn),io(NaN)],ao.prototype,"minSpacing",2),R([Ji(Hn),io(NaN)],ao.prototype,"maxSpacing",2);var so=class extends $i{constructor(){super(...arguments),this.enabled=!0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.padding=5,this.minSpacing=NaN,this.color="#575757",this.avoidCollisions=!0,this.mirrored=!1,this.parallel=!1}getSideFlag(){return this.mirrored?1:-1}};R([Ji(sn)],so.prototype,"enabled",2),R([Ji(zn,{optional:!0})],so.prototype,"fontStyle",2),R([Ji(jn,{optional:!0})],so.prototype,"fontWeight",2),R([Ji(ln.restrict({min:1}))],so.prototype,"fontSize",2),R([Ji(on)],so.prototype,"fontFamily",2),R([Ji(hn)],so.prototype,"padding",2),R([Ji(gn),io(NaN)],so.prototype,"minSpacing",2),R([Ji(In,{optional:!0})],so.prototype,"color",2),R([Ji(pn,{optional:!0})],so.prototype,"rotation",2),R([Ji(sn)],so.prototype,"avoidCollisions",2),R([Ji(sn)],so.prototype,"mirrored",2),R([Ji(sn)],so.prototype,"parallel",2),R([Ji(rn,{optional:!0})],so.prototype,"formatter",2),R([Ji(on,{optional:!0})],so.prototype,"format",2);var ro=class{constructor(){this.enabled=!0,this.width=1,this.stroke=void 0}};R([Ji(sn)],ro.prototype,"enabled",2),R([Ji(hn)],ro.prototype,"width",2),R([Ji(In,{optional:!0})],ro.prototype,"stroke",2);var oo=class extends $i{constructor(){super(...arguments),this.enabled=!0,this.width=1,this.size=6}};R([Ji(sn)],oo.prototype,"enabled",2),R([Ji(hn)],oo.prototype,"width",2),R([Ji(hn)],oo.prototype,"size",2),R([Ji(In,{optional:!0})],oo.prototype,"stroke",2);var lo=class extends $i{constructor(){super(...arguments),this.caption=new xr,this.enabled=!1,this.spacing=xr.SMALL_PADDING,this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always"}};function co(t){const[e,i]=qt(t.range),n=Math.floor(e),a=Math.ceil(i);return{min:n,max:a,visible:n!==a}}R([Ji(sn)],lo.prototype,"enabled",2),R([Ji(on,{optional:!0})],lo.prototype,"text",2),R([Ji(hn,{optional:!0})],lo.prototype,"spacing",2),R([Ji(zn,{optional:!0})],lo.prototype,"fontStyle",2),R([Ji(jn,{optional:!0})],lo.prototype,"fontWeight",2),R([Ji(hn)],lo.prototype,"fontSize",2),R([Ji(on)],lo.prototype,"fontFamily",2),R([Ji(In,{optional:!0})],lo.prototype,"color",2),R([Ji(Pn)],lo.prototype,"wrapping",2),R([Ji(rn,{optional:!0})],lo.prototype,"formatter",2);var uo=2*Math.PI,ho=uo/2;function po(t){const e=(e,i)=>{const[n=t.min,a=t.max]=qt(i??[]);return e<n||e>a};return{tick:{fromFn(t,i,n){let a=t.y1+t.translationY,s=t.opacity;return("added"===n||e(t.datum.translationY,t.datum.range))&&(a=i.translationY,s=0),{y:0,translationY:a,opacity:s,phase:Mi[n]}},toFn(t,e,i){const n=e.translationY;let a=1;return"removed"===i&&(a=0),{y:0,translationY:n,opacity:a,finish:{y:n,translationY:0}}},applyFn(t,i){t.setProperties(i),t.visible=!e(t.y)}},line:{fromFn:(t,e)=>({...t.previousDatum??e,phase:Mi.updated}),toFn:(t,e)=>({...e})},label:{fromFn(t,i,n){const a=t.previousDatum??i,s=a.x,r=a.y,o=a.rotationCenterX;let l=Math.round(t.translationY),c=a.rotation,u=t.opacity;return"removed"===n||e(a.y,a.range)?c=i.rotation:("added"===n||e(t.datum.y,t.datum.range))&&(l=Math.round(a.translationY),u=0,c=i.rotation),{x:s,y:r,rotationCenterX:o,translationY:l,rotation:c,opacity:u,phase:Mi[n]}},toFn(t,e,i){const n=e.x,a=e.y,s=e.rotationCenterX,r=Math.round(e.translationY);let o=0,l=1;var c,u;return"added"===i?(l=1,o=e.rotation):"removed"===i?(l=0,o=e.rotation):(c=t.previousDatum?.rotation??e.rotation,u=e.rotation,o=Math.abs(u-c)<ho?u:c>u?u+uo:u-uo),{x:n,y:a,rotationCenterX:s,translationY:r,rotation:o,opacity:l,finish:{rotation:e.rotation}}}},group:{fromFn(t,e){const{rotation:i,translationX:n,translationY:a}=t;return{rotation:i,translationX:n,translationY:a,phase:Mi.updated}},toFn(t,e){const{rotation:i,translationX:n,translationY:a}=e;return{rotation:i,translationX:n,translationY:a}}}}}function go(){return(t,e)=>({rotation:e.rotation,rotationCenterX:e.rotationCenterX,rotationCenterY:e.rotationCenterY,translationX:e.translationX,translationY:e.translationY})}function fo(t){const{visible:e,min:i,max:n}=t;return(t,a)=>{const s=a.translationY;return{y:s,translationY:0,opacity:1,visible:e&&s>=i&&s<=n}}}function yo(){return(t,e)=>({x:e.x,y:e.y,translationY:e.translationY,rotation:e.rotation,rotationCenterX:e.rotationCenterX})}function mo(){return(t,e)=>({...e})}var xo=class extends(Wa(Ns)){},bo=class t{constructor(e,i){let n;this.moduleCtx=e,this.scale=i,this.id=Tt(this),this.nice=!0,this.reverse=!1,this.keys=[],this.interval=new ao,this.dataDomain={domain:[],clipped:!1},this.layoutConstraints={stacked:!0,align:"start",width:100,unit:"percent"},this.boundSeries=[],this.includeInvisibleDomains=!1,this.interactionEnabled=!0,this.axisGroup=new Ja({name:`${this.id}-axis`,zIndex:2}),this.lineNode=this.axisGroup.appendChild(new xo({name:`${this.id}-Axis-line`})),this.tickLineGroup=this.axisGroup.appendChild(new Ka({name:`${this.id}-Axis-tick-lines`,zIndex:2})),this.tickLabelGroup=this.axisGroup.appendChild(new Ka({name:`${this.id}-Axis-tick-labels`,zIndex:2})),this.crossLineGroup=new Ja({name:`${this.id}-CrossLines`}),this.labelGroup=new Ka({name:`${this.id}-Labels`,zIndex:10}),this.gridGroup=new Ja({name:`${this.id}-Axis-grid`}),this.gridLineGroup=this.gridGroup.appendChild(new Ka({name:`${this.id}-gridLines`,zIndex:1})),this.tickLineGroupSelection=es.select(this.tickLineGroup,xo,!1),this.tickLabelGroupSelection=es.select(this.tickLabelGroup,zs,!1),this.gridLineGroupSelection=es.select(this.gridLineGroup,xo,!1),this._crossLines=[],this.line=new ro,this.tick=new oo,this.gridLine=new eo,this.label=this.createLabel(),this.defaultTickMinSpacing=t.defaultTickMinSpacing,this.translation={x:0,y:0},this.rotation=0,this.layout={label:{fractionDigits:0,padding:this.label.padding,format:this.label.format}},this.destroyFns=[],this.range=[0,1],this.visibleRange=[0,1],this.title=new lo,this.gridLength=0,this.gridPadding=0,this.seriesAreaPadding=0,this.tickGenerationResult=void 0,this.moduleMap=new qn,this.range=this.scale.range.slice(),this.crossLines.forEach((t=>this.initCrossLine(t))),this.axisGroup.appendChild(this.title.caption.node),this.animationManager=e.animationManager,this.animationState=new nr("empty",{empty:{update:{target:"ready",action:()=>this.resetSelectionNodes()},reset:"empty"},ready:{update:t=>this.animateReadyUpdate(t),resize:()=>this.resetSelectionNodes(),reset:"empty"}}),this.destroyFns.push(this.title.caption.registerInteraction(this.moduleCtx,"afterend"),e.layoutManager.addListener("layout:complete",(t=>{null!=n&&null!=Us(t.chart,n)&&this.animationState.transition("resize"),n={...t.chart}})))}get type(){return this.constructor.type??""}set crossLines(t){const{CrossLineConstructor:e}=this.constructor;this._crossLines.forEach((t=>this.detachCrossLine(t))),this._crossLines=t.map((t=>{const i=new e;return i.set(t),i})),this._crossLines.forEach((t=>{this.attachCrossLine(t),this.initCrossLine(t)}))}get crossLines(){return this._crossLines}resetAnimation(t){"initial"===t&&this.animationState.transition("reset")}attachCrossLine(t){this.crossLineGroup.appendChild(t.group),this.crossLineGroup.appendChild(t.labelGroup)}detachCrossLine(t){this.crossLineGroup.removeChild(t.group),this.crossLineGroup.removeChild(t.labelGroup)}destroy(){this.moduleMap.destroy(),this.destroyFns.forEach((t=>t()))}updateRange(){const{range:t,visibleRange:e,scale:i}=this,n=(t[1]-t[0])/(e[1]-e[0]),a=n*e[0],s=t[0]-a;i.setVisibleRange?.(e),i.range=[s,s+n],this.crossLines.forEach((e=>{e.clippedRange=[t[0],t[1]]}))}setCrossLinesVisible(t){this.crossLineGroup.visible=t}attachAxis(t,e){e.appendChild(this.gridGroup),t.appendChild(this.axisGroup),t.appendChild(this.crossLineGroup),t.appendChild(this.labelGroup)}attachLabel(t){this.labelGroup.append(t)}detachAxis(t,e){e.removeChild(this.gridGroup),t.removeChild(this.axisGroup),t.removeChild(this.crossLineGroup),t.removeChild(this.labelGroup)}inRange(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const[i,n]=qt(this.range);return t>=i-e&&t<=n+e}onFormatChange(t,e,i,n){const{scale:a}=this,s=a instanceof Na,r=t=>s?String:i=>"number"===typeof i?i.toFixed(e+t):String(i);if(n&&a&&a.tickFormat)try{const e=a.tickFormat({ticks:t,specifier:n});this.labelFormatter=e,this.datumFormatter=e}catch(o){this.labelFormatter=r(0),this.datumFormatter=r(1),_.warnOnce(`the axis label format string ${n} is invalid. No formatting will be applied`)}else this.labelFormatter=r(0),this.datumFormatter=r(1)}onGridLengthChange(t,e){e^t&&this.onGridVisibilityChange(),this.crossLines.forEach((t=>this.initCrossLine(t)))}onGridVisibilityChange(){this.gridLineGroupSelection.clear()}createLabel(){return new so}update(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!this.tickGenerationResult)return;const{rotation:e,parallelFlipRotation:i,regularFlipRotation:n}=this.calculateRotations(),a=this.label.getSideFlag();this.updatePosition();const s=this.getAxisLineCoordinates(),{tickData:r,combinedRotation:o,textBaseline:l,textAlign:c,primaryTickCount:u}=this.tickGenerationResult,h=this.tickLabelGroupSelection.nodes().map((t=>t.datum.tickId));if(this.updateSelections(s,r.ticks,{combinedRotation:o,textAlign:c,textBaseline:l,range:this.scale.range}),!t||this.animationManager.isSkipped())this.resetSelectionNodes();else{const t=this.calculateUpdateDiff(h,r);this.animationState.transition("update",t)}return this.updateAxisLine(),this.updateLabels(),this.updateVisibility(),this.updateGridLines(a),this.updateTickLines(),this.updateTitle({anyTickVisible:r.ticks.length>0}),this.updateCrossLines({rotation:e,parallelFlipRotation:i,regularFlipRotation:n}),this.updateLayoutState(r.fractionDigits),u}getAxisLineCoordinates(){const[t,e]=qt(this.range);return{x:0,y1:t,y2:e}}getTickLineCoordinates(t){const e=this.label.getSideFlag()*this.getTickSize(),i=Math.min(0,e);return{x1:i,x2:i+Math.abs(e),y:t.translationY}}getTickLabelProps(t,e){const{label:i}=this,{combinedRotation:n,textBaseline:a,textAlign:s,range:r}=e,o=t.tickLabel,l=i.getSideFlag()*(this.getTickSize()+i.padding+this.seriesAreaPadding),c=""!==o&&null!=o;return{tickId:t.tickId,translationY:t.translationY,fill:i.color,fontFamily:i.fontFamily,fontSize:i.fontSize,fontStyle:i.fontStyle,fontWeight:i.fontWeight,rotation:n,rotationCenterX:l,text:o,textAlign:s,textBaseline:a,visible:c,x:l,y:0,range:r}}getTickSize(){return this.tick.enabled?this.tick.size:6}setTitleProps(t,e){const{title:i}=this;if(!i.enabled)return t.enabled=!1,void(t.node.visible=!1);t.color=i.color,t.fontFamily=i.fontFamily,t.fontSize=i.fontSize,t.fontStyle=i.fontStyle,t.fontWeight=i.fontWeight,t.enabled=i.enabled,t.wrapping=i.wrapping;const n=t.node,a=(i.spacing??0)+e.spacing,s=this.label.getSideFlag(),r=ns(this.rotation),o=-1===s&&r>Math.PI&&r<2*Math.PI?-1:1,l=o*s*Math.PI/2,c=1===o?"bottom":"top",{range:u}=this,h=Math.floor(o*s*(u[0]+u[1])/2),d=-1===s?Math.floor(o*-a):Math.floor(-a),{callbackCache:p}=this.moduleCtx,{formatter:g=t=>t.defaultValue}=i,f=p.call(g,this.getTitleFormatterParams());t.text=f,n.setProperties({visible:!0,text:f,textBaseline:c,x:h,y:d,rotation:l})}calculateLayout(t,e){const{rotation:i,parallelFlipRotation:n,regularFlipRotation:a}=this.calculateRotations(),s=this.label.getSideFlag(),r=s*(this.getTickSize()+this.label.padding+this.seriesAreaPadding);this.updateScale(t),this.tickGenerationResult=this.generateTicks({primaryTickCount:e,parallelFlipRotation:n,regularFlipRotation:a,labelX:r,sideFlag:s});const{tickData:o,combinedRotation:l,textBaseline:c,textAlign:u,...h}=this.tickGenerationResult;this.updateLayoutState(o.fractionDigits);const d=[],{x:p,y1:g,y2:f}=this.getAxisLineCoordinates(),y=new ue(p+Math.min(s*this.seriesAreaPadding,0),g,this.seriesAreaPadding,f-g);if(d.push(y),this.tick.enabled&&o.ticks.forEach((t=>{const{x1:e,x2:i,y:n}=this.getTickLineCoordinates(t),a=new ue(e,n,i-e,0);d.push(a)})),this.label.enabled){const t=new zs;o.ticks.forEach((e=>{const i=this.getTickLabelProps(e,{combinedRotation:l,textAlign:u,textBaseline:c,range:this.scale.range});if(!i.visible)return;t.setProperties({...i,translationY:Math.round(e.translationY)});const n=t.getBBox();n&&d.push(n)}))}if(this.title?.enabled){const t=new xr,e=ue.merge(d).width;this.setTitleProps(t,{spacing:e});const i=t.node.getBBox();i&&d.push(i)}const m=ue.merge(d),x=this.getTransformBox(m),b=this.isAnySeriesActive();return this.crossLines.forEach((t=>{var e;t.sideFlag=-s,t.direction=i===-Math.PI/2?"x":"y",t instanceof Jr&&((e=t.label).parallel??(e.parallel=this.label.parallel)),t.parallelFlipRotation=n,t.regularFlipRotation=a,t.calculateLayout?.(b,this.reverse)})),{primaryTickCount:h.primaryTickCount,bbox:x}}updateLayoutState(t){this.layout.label={fractionDigits:t,padding:this.label.padding,format:this.label.format}}getTransformBox(t){const e=new Ba,{rotation:i,translationX:n,translationY:a}=this.getAxisTransform();return Ba.updateTransformMatrix(e,1,1,i,n,a),e.transformBBox(t)}setDomain(t){this.dataDomain=this.normaliseDataDomain(t),this.reverse&&this.dataDomain.domain.reverse(),this.scale.domain=this.dataDomain.domain}updateScale(t){t?this.setDomain(t):this.calculateDomain(),this.updateRange(),this.scale.interval=this.interval.step,Li.is(this.scale)&&(this.scale.nice=this.nice,this.scale.update())}calculateRotations(){const t=os(this.rotation);return{rotation:t,parallelFlipRotation:ns(t),regularFlipRotation:ns(t-Math.PI/2)}}generateTicks(t){let{primaryTickCount:e,parallelFlipRotation:i,regularFlipRotation:n,labelX:a,sideFlag:s}=t;const{scale:r,interval:{minSpacing:o,maxSpacing:l},label:{parallel:c,rotation:u,fontFamily:h,fontSize:d,fontStyle:p,fontWeight:g}}=this,f=void 0!==e,{defaultRotation:y,configuredRotation:m,parallelFlipFlag:x,regularFlipFlag:b}=Dr({rotation:u,parallel:c,regularFlipRotation:n,parallelFlipRotation:i}),v=m+y,M=new Ba,{maxTickCount:S}=this.estimateTickCount({minSpacing:o,maxSpacing:l}),I=!(Li.is(r)||Ca.is(r))||isNaN(S)?10:S;let D=Nr(c,m,0,s,b);const w=function(t,e,i,n){return t&&!e?i*n===-1?"hanging":"bottom":"middle"}(c,m,s,x),N=Cs.toFontString({fontFamily:h,fontSize:d,fontStyle:p,fontWeight:g}),L=ks.getMeasurer({font:N}),k={fontFamily:h,fontSize:d,fontStyle:p,fontWeight:g,textBaseline:w,textAlign:D};let A={rawTicks:[],fractionDigits:0,ticks:[],labelCount:0},C=0,T=0,E=!0,R=[],O=!1;for(;E&&C<=I&&!O;){T=0,D=Nr(c,m,0,s,b);const t=this.getTickStrategies({secondaryAxis:f,index:C});for(const i of t){({tickData:A,index:C,autoRotation:T,terminate:O}=i({index:C,tickData:A,textProps:k,labelOverlap:E,terminate:O,primaryTickCount:e}));const t=0!==m||0!==T,n=v+T,r=wr(this.label.minSpacing,t);Ba.updateTransformMatrix(M,1,1,n,0,0),D=Nr(c,m,T,s,b),R=this.createLabelData(A.ticks,a,M,L),E=!!this.label.avoidCollisions&&Fs(R,r)}}const z=y+m+T;return!f&&A.rawTicks.length>0&&(e=A.rawTicks.length),{tickData:A,primaryTickCount:e,combinedRotation:z,textBaseline:w,textAlign:D,labelData:R}}getTickStrategies(t){let{index:e,secondaryAxis:i}=t;const{scale:n,label:a}=this,{minSpacing:s}=this.interval,r=Li.is(n)||Ca.is(n),o=a.enabled&&a.avoidCollisions,l=!r&&0!==e&&o,c=!0===a.autoRotate&&void 0===a.rotation,u=[];let h;h=this.interval.values?3:i?1:l?2:0;if(u.push((t=>{let{index:e,tickData:i,primaryTickCount:n,terminate:a}=t;return this.createTickData(h,e,i,a,n)})),!r&&!isNaN(s)){const t=t=>{let{index:e,tickData:i,primaryTickCount:n,terminate:a}=t;return this.createTickData(2,e,i,a,n)};u.push(t)}if(!o)return u;if(c){const t=t=>{let{index:e,tickData:i,labelOverlap:n,terminate:a}=t;return{index:e,tickData:i,autoRotation:this.getAutoRotation(n),terminate:a}};u.push(t)}return u}createTickData(t,e,i,n,a){const{scale:s}=this,{step:r,values:o,minSpacing:l,maxSpacing:c}=this.interval,{maxTickCount:u,minTickCount:h,defaultTickCount:d}=this.estimateTickCount({minSpacing:l,maxSpacing:c}),p=Li.is(s)||Ca.is(s),g=!p||isNaN(u)?10:u;let f=p?Math.max(d-e,h):u;const y=void 0===r&&void 0===o&&f>h&&(p||2===t);let m=!0;for(;m&&e<=g;){const n=i.rawTicks;f=p?Math.max(d-e,h):u;const{rawTicks:s,fractionDigits:r,ticks:o,labelCount:l}=this.getTicks({tickGenerationType:t,previousTicks:n,tickCount:f,minTickCount:h,maxTickCount:u,primaryTickCount:a});i.rawTicks=s,i.fractionDigits=r,i.ticks=o,i.labelCount=l,m=!!y&&Gs(s,n),e++}return n||(n=void 0!==r||void 0!==o),{tickData:i,index:e,autoRotation:0,terminate:n}}createLabelData(t,e,i,n){const a=[];for(const{tickLabel:s,translationY:r}of t){if(!s)continue;const{width:t,height:o}=n.measureLines(s),l=Lr(s,new ue(e,r,t,o),i);a.push(l)}return a}getAutoRotation(t){return t?ns(os(this.label.autoRotateAngle??0)):0}getTicks(t){let{tickGenerationType:e,previousTicks:i,tickCount:n,minTickCount:a,maxTickCount:s,primaryTickCount:r}=t;const{range:o,scale:l,visibleRange:c}=this;let u;switch(e){case 3:if(u=this.interval.values,Li.is(l)){const[t,e]=qt(l.getDomain().map(Number));u=u.filter((i=>i>=t&&i<=e)).sort(((t,e)=>t-e))}break;case 1:u=Li.is(l)?this.updateSecondaryAxisTicks(r):this.createTicks(n,a,s);break;case 2:u=this.filterTicks(i,n);break;default:u=this.createTicks(n,a,s)}const h=u.reduce(((t,e)=>Math.max(t,"number"===typeof e?re(e):0)),0),d=(l.bandwidth??0)/2,p=[];let g=0;const f=new Map,y=Math.max(0,Math.floor(c[0]*u.length)),m=Math.min(u.length,Math.ceil(c[1]*u.length)),x=u.slice(y,m);this.onFormatChange(x,h,u,this.label.format);for(let b=0;b<x.length;b++){const t=x[b],e=l.convert(t)+d;if(o.length>0&&!this.inRange(e,.001))continue;const i=this.formatTick(t,h,y+b);let n=i;if(f.has(n)){const t=f.get(n);f.set(n,t+1),n=`${n}_${t}`}else f.set(n,1);p.push({tick:t,tickId:n,tickLabel:i,translationY:Math.floor(e)}),""!==i&&null!=i&&g++}return{rawTicks:u,fractionDigits:h,ticks:p,labelCount:g}}filterTicks(t,e){const{minSpacing:i,maxSpacing:n}=this.interval,a=!isNaN(i)||!isNaN(n)?Math.ceil(t.length/e):2;return t.filter(((t,e)=>e%a===0))}createTicks(t,e,i){const{scale:n}=this;return t&&(Li.is(n)||Ca.is(n))&&(n.tickCount=t,n.minTickCount=e??0,n.maxTickCount=i??1/0),n.ticks?.()??[]}estimateTickCount(t){let{minSpacing:e,maxSpacing:i}=t;if(!this.label.avoidCollisions)return{minTickCount:Li.defaultMaxTickCount,maxTickCount:Li.defaultMaxTickCount,defaultTickCount:Li.defaultMaxTickCount};const n=this.calculateRangeWithBleed(),a=Math.max(this.defaultTickMinSpacing,n/Li.defaultMaxTickCount);let s=!isNaN(i);isNaN(e)&&(e=a),isNaN(i)&&(i=n),e>i&&(e===a?e=i:i=e);s&&(s=2<a);const r=Xt(1,Math.floor(n/e),s?Math.min(Math.floor(n/2),100):100),o=Math.min(r,Math.ceil(n/i));return{minTickCount:o,maxTickCount:r,defaultTickCount:Xt(o,Li.defaultTickCount,r)}}updateVisibility(){this.moduleCtx.animationManager.isSkipped()&&this.resetSelectionNodes(),this.tickLineGroup.visible=this.tick.enabled,this.gridLineGroup.visible=this.gridLine.enabled,this.tickLabelGroup.visible=this.label.enabled}updateCrossLines(t){let{rotation:e,parallelFlipRotation:i,regularFlipRotation:n}=t;const a=this.label.getSideFlag(),s=this.isAnySeriesActive();this.crossLines.forEach((t=>{var r;t.sideFlag=-a,t.direction=e===-Math.PI/2?"x":"y",t instanceof Jr&&((r=t.label).parallel??(r.parallel=this.label.parallel)),t.parallelFlipRotation=i,t.regularFlipRotation=n,t.update(s)}))}updateTickLines(){const{tick:t,label:e}=this,i=e.getSideFlag();this.tickLineGroupSelection.each((e=>{e.strokeWidth=t.width,e.stroke=t.stroke,e.x1=i*this.getTickSize(),e.x2=0}))}calculateAvailableRange(){return te(this.range)}calculateRangeWithBleed(){const t=1/te(this.visibleRange);return ne(this.calculateAvailableRange()*t,2)}calculateDomain(){const t=this.boundSeries.filter((t=>this.includeInvisibleDomains||t.isEnabled())).flatMap((t=>t.getDomain(this.direction)));this.setDomain(t)}getAxisTransform(){return{rotation:os(this.rotation),translationX:Math.floor(this.translation.x),translationY:Math.floor(this.translation.y)}}updatePosition(){const{crossLineGroup:t,axisGroup:e,gridGroup:i,translation:n}=this,{rotation:a}=this.calculateRotations(),s=Math.floor(n.x),r=Math.floor(n.y);t.setProperties({rotation:a,translationX:s,translationY:r}),i.setProperties({rotation:a,translationX:s,translationY:r}),e.datum=this.getAxisTransform()}updateSecondaryAxisTicks(t){throw new Error("AG Charts - unexpected call to updateSecondaryAxisTicks() - check axes configuration.")}updateSelections(t,e,i){const n=t=>t.tickId,a=e.map((t=>this.getTickLabelProps(t,i)));this.lineNode.datum=t,this.gridLineGroupSelection.update(this.gridLength?e:[],void 0,n),this.tickLineGroupSelection.update(e,void 0,n),this.tickLabelGroupSelection.update(a,void 0,n)}updateAxisLine(){const{enabled:t,stroke:e,width:i}=this.line;this.lineNode.setProperties({stroke:e,strokeWidth:t?i:0})}updateGridLines(t){const{gridLine:{style:e,width:i},gridPadding:n,gridLength:a}=this;0!==a&&0!==e.length&&this.gridLineGroupSelection.each(((s,r,o)=>{const{stroke:l,lineDash:c}=e[o%e.length];s.setProperties({x1:n,x2:-t*a+n,stroke:l,strokeWidth:i,lineDash:c})}))}updateLabels(){this.label.enabled&&this.tickLabelGroupSelection.each(((t,e)=>{t.setProperties(e,["fill","fontFamily","fontSize","fontStyle","fontWeight","text","textAlign","textBaseline"])}))}updateTitle(t){const{title:e,lineNode:i,tickLineGroup:n,tickLabelGroup:a}=this;let s=0;if(e.enabled&&t.anyTickVisible){s+=Ka.computeChildrenBBox([n,a,i]).width+(this.tickLabelGroup.visible?0:this.seriesAreaPadding)}this.setTitleProps(e.caption,{spacing:s})}formatTick(t,e,i){return String(this.getFormatter(i,!0)(t,e))}formatDatum(t){return String(this.getFormatter()(t))}getFormatter(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;const{label:i,labelFormatter:n,datumFormatter:a,moduleCtx:{callbackCache:s}}=this;return i.formatter?(e,n)=>s.call(i.formatter,{value:e,index:t,fractionDigits:n})??e:!e&&a?t=>s.call(a,t)??String(t):n?t=>s.call(n,t)??String(t):t=>String(t)}getBBox(){return this.axisGroup.getBBox()}getRegionNode(){}initCrossLine(t){t.scale=this.scale,t.gridLength=this.gridLength}isAnySeriesActive(){return this.boundSeries.some((t=>this.includeInvisibleDomains||t.isEnabled()))}clipTickLines(t,e,i,n){this.tickLineGroup.setClipRect(new ue(t,e,i,n))}clipGrid(t,e,i,n){this.gridGroup.setClipRect(new ue(t,e,i,n))}getTitleFormatterParams(){const{direction:t}=this,e=[];for(const i of this.boundSeries){const n=i.getKeys(t),a=i.getNames(t);for(let t=0;t<n.length;t++)e.push({key:n[t],name:a[t]})}return{direction:t,boundSeries:e,defaultValue:this.title?.text}}normaliseDataDomain(t){return{domain:[...t],clipped:!1}}getLayoutState(){return{id:this.id,rect:this.getBBox(),gridPadding:this.gridPadding,seriesAreaPadding:this.seriesAreaPadding,tickSize:this.getTickSize(),direction:this.direction,domain:this.dataDomain.domain,scale:this.scale,...this.layout}}getModuleMap(){return this.moduleMap}createModuleContext(){return this.axisContext??(this.axisContext=this.createAxisContext()),{...this.moduleCtx,parent:this.axisContext}}createAxisContext(){const{scale:t}=this;return{axisId:this.id,scale:this.scale,direction:this.direction,continuous:Li.is(t)||Ca.is(t),keys:()=>this.boundSeries.flatMap((t=>t.getKeys(this.direction))),seriesKeyProperties:()=>this.boundSeries.reduce(((t,e)=>(e.getKeyProperties(this.direction).forEach((e=>{t.indexOf(e)<0&&t.push(e)})),t)),[]),scaleValueFormatter:t=>this.getScaleValueFormatter(t),scaleBandwidth:()=>t.bandwidth??0,scaleDomain:()=>t.getDomain?.(),scaleConvert:e=>t.convert(e),scaleInvert:Ca.is(t)?e=>t.invertNearest?.(e):e=>t.invert?.(e),scaleInvertNearest:e=>t.invertNearest?.(e),scaleStep:()=>t.step??0,attachLabel:t=>this.attachLabel(t),inRange:(t,e)=>this.inRange(t,e)}}getScaleValueFormatter(t){const{scale:e}=this;if(t&&e&&e.tickFormat)try{return e.tickFormat({specifier:t})}catch(i){_.warnOnce(`the format string ${t} is invalid, ignoring.`)}return this.getFormatter()}animateReadyUpdate(t){const{animationManager:e}=this.moduleCtx,i=po(co(this));Si(this.id,"axis-group",e,[this.axisGroup],i.group),Si(this.id,"line",e,[this.lineNode],i.line),Si(this.id,"line-paths",e,[this.gridLineGroupSelection,this.tickLineGroupSelection],i.tick,((t,e)=>e.tickId),t),Si(this.id,"tick-labels",e,[this.tickLabelGroupSelection],i.label,((t,e)=>e.tickId),t)}resetSelectionNodes(){const{gridLineGroupSelection:t,tickLineGroupSelection:e,tickLabelGroupSelection:i,lineNode:n}=this,a=co(this);ea([this.axisGroup],((t,e)=>({rotation:e.rotation,rotationCenterX:e.rotationCenterX,rotationCenterY:e.rotationCenterY,translationX:e.translationX,translationY:e.translationY}))),ea([t,e],fo(a)),ea([i],((t,e)=>({x:e.x,y:e.y,translationY:e.translationY,rotation:e.rotation,rotationCenterX:e.rotationCenterX}))),ea([n],((t,e)=>({...e})))}calculateUpdateDiff(t,e){const i=new Set,n=new Set,a={},s=Math.max(t.length,e.ticks.length);for(let r=0;r<s;r++){const s=e.ticks[r],o=t[r],l=s?.tickId;a[l??o]=s,o!==l&&(n.has(l)?n.delete(l):l&&i.add(l),i.has(o)?i.delete(o):o&&n.add(o))}return{changed:i.size>0||n.size>0,added:i,removed:n}}isReversed(){return this.reverse}};bo.defaultTickMinSpacing=50,bo.CrossLineConstructor=Jr,R([Ji(sn)],bo.prototype,"nice",2),R([Ji(sn)],bo.prototype,"reverse",2),R([Ji(Ln)],bo.prototype,"keys",2),R([Ji(nn)],bo.prototype,"interval",2),R([Ji(nn)],bo.prototype,"title",2),R([qs(((t,e,i)=>t.onGridLengthChange(e,i)))],bo.prototype,"gridLength",2);var vo=bo,Mo=class extends so{constructor(){super(...arguments),this.autoRotateAngle=335}};R([Ji(sn,{optional:!0})],Mo.prototype,"autoRotate",2),R([Ji(pn)],Mo.prototype,"autoRotateAngle",2);var So=class t extends vo{constructor(){super(...arguments),this.thickness=0}static is(e){return e instanceof t}get direction(){return"top"===this.position||"bottom"===this.position?"x":"y"}updateDirection(){switch(this.position){case"top":this.rotation=-90,this.label.mirrored=!0,this.label.parallel=!0;break;case"right":this.rotation=0,this.label.mirrored=!0,this.label.parallel=!1;break;case"bottom":this.rotation=-90,this.label.mirrored=!1,this.label.parallel=!0;break;case"left":this.rotation=0,this.label.mirrored=!1,this.label.parallel=!1}this.axisContext&&(this.axisContext.position=this.position,this.axisContext.direction=this.direction)}update(t){return this.updateDirection(),super.update(t)}calculateLayout(t,e){return this.updateDirection(),super.calculateLayout(t,e)}createAxisContext(){return{...super.createAxisContext(),position:this.position}}createLabel(){return new Mo}getRegionNode(){return this.axisGroup}};R([Ji(hn)],So.prototype,"thickness",2),R([Ji(On)],So.prototype,"position",2);var Io=So,Do=class t extends Io{constructor(t){super(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ki),this.groupPaddingInner=.1,this.includeInvisibleDomains=!0}static is(e){return e instanceof t}normaliseDataDomain(t){const e=[],i=new Set;for(const n of t){const t=n instanceof Date?n.getTime():n;i.has(t)||(i.add(t),e.push(n))}return{domain:e,clipped:!1}}updateScale(t){let{paddingInner:e,paddingOuter:i}=this;if(!Ye(e)||!Ye(i)){const t=this.reduceBandScalePadding();e??(e=t.inner),i??(i=t.outer)}this.scale.paddingInner=e??0,this.scale.paddingOuter=i??0,super.updateScale(t)}reduceBandScalePadding(){return this.boundSeries.reduce(((t,e)=>{const i=e.getBandScalePadding?.();return i&&(t.inner>i.inner&&(t.inner=i.inner),t.outer<i.outer&&(t.outer=i.outer)),t}),{inner:1/0,outer:-1/0})}};Do.className="CategoryAxis",Do.type="category",R([Ji(dn)],Do.prototype,"groupPaddingInner",2),R([Ji(dn,{optional:!0})],Do.prototype,"paddingInner",2),R([Ji(dn,{optional:!0})],Do.prototype,"paddingOuter",2);var wo=Do,No=class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.x=0,this.y=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.screenX=0,this.screenY=0,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.label=t,this.parent=e,this.depth=e?e.depth+1:0,this.number=i}getLeftSibling(){return this.number>0&&this.parent?this.parent.children[this.number-1]:void 0}getLeftmostSibling(){return this.number>0&&this.parent?this.parent.children[0]:void 0}nextLeft(){return this.children?this.children[0]:this.thread}nextRight(){return this.children?this.children[this.children.length-1]:this.thread}getSiblings(){return this.parent?this.parent.children.filter(((t,e)=>e!==this.number)):[]}};function Lo(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const i=new No;let n=0;return e&&t.forEach((t=>n=Math.max(n,t.labels.length))),t.forEach((t=>{if(e)for(;t.labels.length<n;)t.labels.unshift("");!function(t,e){const i=e.labels.slice().reverse(),n=i.length-1;i.forEach(((e,i)=>{const a=t.children,s=a.find((t=>t.label===e)),r=i!==n;if(s&&r)t=s;else{const i=new No(e,t);i.number=a.length,a.push(i),r&&(t=i)}}))}(i,t)})),i}function ko(t,e,i){const n=i/(e.number-t.number);e.change-=n,e.shift+=i,t.change+=n,e.prelim+=i,e.mod+=i}function Ao(t,e,i){return e.getSiblings().indexOf(t.ancestor)>=0?t.ancestor:i}function Co(t,e){const i=t.children;if(i.length){let n=i[0];i.forEach((t=>{Co(t,e),n=function(t,e,i){const n=t.getLeftSibling();if(n){let a=t,s=t,r=n,o=s.getLeftmostSibling(),l=s.mod,c=a.mod,u=r.mod,h=o.mod;for(;r.nextRight()&&s.nextLeft();){r=r.nextRight(),s=s.nextLeft(),o=o.nextLeft(),a=a.nextRight(),a.ancestor=t;const n=r.prelim+u-(s.prelim+l)+i;n>0&&(ko(Ao(r,t,e),t,n),l+=n,c+=n),u+=r.mod,l+=s.mod,h+=o.mod,c+=a.mod}r.nextRight()&&!a.nextRight()?(a.thread=r.nextRight(),a.mod+=u-c):(s.nextLeft()&&!o.nextLeft()&&(o.thread=s.nextLeft(),o.mod+=l-h),e=t)}return e}(t,n,e)})),function(t){const e=t.children;if(e){let t=0,i=0;for(let n=e.length-1;n>=0;n--){const a=e[n];a.prelim+=t,a.mod+=t,i+=a.change,t+=a.shift+i}}}(t);const a=(i[0].prelim+i.at(-1).prelim)/2,s=t.getLeftSibling();s?(t.prelim=s.prelim+e,t.mod=t.prelim-a):t.prelim=a}else{const i=t.getLeftSibling();t.prelim=i?i.prelim+e:0}}var To=class{constructor(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}update(t,e){const{x:i,y:n}=e(t);i>this.right&&(this.right=i),i<this.left&&(this.left=i),n>this.bottom&&(this.bottom=n),n<this.top&&(this.top=n)}};function Eo(t,e,i){t.x=t.prelim+e,t.y=t.depth,i.update(t),t.children.forEach((n=>Eo(n,e+t.mod,i)))}function Ro(t){const e=t.children;let i=0;e.forEach((t=>{Ro(t),t.children.length?i+=t.leafCount:i++})),t.leafCount=i,e.length?(t.subtreeLeft=e[0].subtreeLeft,t.subtreeRight=e[t.children.length-1].subtreeRight,t.x=(t.subtreeLeft+t.subtreeRight)/2):(t.subtreeLeft=t.x,t.subtreeRight=t.x)}function Oo(t){const e=new zo;return Co(t,1),Eo(t,-t.prelim,e),Ro(t),e}var zo=class{constructor(){this.dimensions=new To,this.leafCount=0,this.nodes=[],this.leafNodes=[],this.nonLeafNodes=[],this.depth=0}update(t){this.dimensions.update(t,(t=>({x:t.x,y:t.y}))),t.children.length?this.nonLeafNodes.push(t):(this.leafCount++,this.leafNodes.push(t)),t.depth>this.depth&&(this.depth=t.depth),this.nodes.push(t)}resize(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=this.leafCount-1,r=this.depth,o=this.dimensions;let l=1,c=1;if(t>0&&s){const e=(o.right-o.left)/s;l=t/s/e,a&&(l=-l)}if(e>0&&r){const t=(o.bottom-o.top)/r;c=e/r/t}const u=new To;this.nodes.forEach((t=>{t.screenX=t.x*l,t.screenY=t.y*c,u.update(t,(t=>({x:t.screenX,y:t.screenY})))}));const h=-u.left,d=-u.top;this.nodes.forEach((t=>{t.screenX+=h+i,t.screenY+=d+n}))}},jo=class extends so{constructor(){super(...arguments),this.grid=!1}};R([Ji(sn)],jo.prototype,"grid",2);var Po=class extends Io{constructor(t){const e=new Ki;e.paddingOuter=.1,e.paddingInner=2*e.paddingOuter,super(t,e),this.tickScale=new Ki,this.line=new ro,this.label=new jo,this.labelColor="rgba(87, 87, 87, 1)",this.includeInvisibleDomains=!0;const{tickLineGroup:i,tickLabelGroup:n,gridLineGroup:a,tickScale:s}=this;s.paddingInner=1,s.paddingOuter=0,this.gridLineSelection=es.select(a,Ns),this.axisLineSelection=es.select(i,Ns),this.separatorSelection=es.select(i,Ns),this.labelSelection=es.select(n,zs),this.lineNode.visible=!1}updateRange(){const{range:t,visibleRange:e,scale:i}=this,n=(t[1]-t[0])/(e[1]-e[0]),a=n*e[0],s=t[0]-a;this.tickScale.range=i.range=[s,s+n],this.resizeTickTree()}resizeTickTree(){const t=this.scale,e=t.domain.length?[t.convert(t.domain[0]),t.convert(t.domain[t.domain.length-1])]:t.range,i=this.tickTreeLayout,n=this.lineHeight;i&&i.resize(Math.abs(e[1]-e[0]),i.depth*n,(Math.min(e[0],e[1])||0)+(t.bandwidth??0)/2,-i.depth*n,e[1]-e[0]<0)}get lineHeight(){return 1.5*this.label.fontSize}onGridVisibilityChange(){this.gridLineSelection.clear(),this.labelSelection.clear()}calculateDomain(){const{direction:t}=this;let e=null;const i=this.boundSeries.filter((t=>t.visible)).flatMap((i=>{if("y"===t||e)return i.getDomain(t);if(null===e){const n=i.getDomain(t);return e=Ue(n[0]),n}return[]}));this.setDomain(ki(i)??Ei(i));const{domain:n}=this.dataDomain;this.tickTreeLayout=Oo(Lo(n)),this.tickScale.domain=n.concat(""),this.resizeTickTree()}update(){this.computedLayout&&(this.updatePosition(),this.updateTitleCaption(),this.updateCategoryLabels(),this.updateSeparators(),this.updateAxisLines(),this.updateCategoryGridLines(),this.resetSelectionNodes())}updateTitleCaption(){this.title.caption.node.visible=!1}updateCategoryLabels(){if(!this.computedLayout)return;const{tickLabelLayout:t}=this.computedLayout;this.labelSelection.update(t).each(((t,e)=>{t.setProperties(e)}))}updateSeparators(){if(!this.computedLayout)return;const{separatorLayout:t}=this.computedLayout,{range:e}=this;this.separatorSelection.update(t).each(((t,i)=>{t.x1=i.x1,t.x2=i.x2,t.y1=i.y,t.y2=i.y,t.visible=this.tick.enabled&&i.y>=e[0]-1e-7&&i.y<=e[1]+1e-7,t.stroke=this.tick.stroke,t.strokeWidth=1}))}updateAxisLines(){if(!this.computedLayout)return;const{axisLineLayout:t}=this.computedLayout;this.axisLineSelection.update(t).each(((t,e)=>{t.setProperties(e),t.stroke=this.line.stroke,t.strokeWidth=this.line.width}))}updateCategoryGridLines(){const{gridLength:t,gridLine:e,label:i,range:n,tickScale:a}=this,s=a.ticks(),r=i.getSideFlag(),o=this.gridLineSelection.update(t?s:[]);if(t){const{width:i,style:s}=e,l=s.length;o.each(((o,c,u)=>{const h=Math.round(a.convert(c)),{stroke:d,lineDash:p}=s[u%l];o.visible=e.enabled&&h>=n[0]&&h<=n[1],o.x1=0,o.x2=-r*t,o.y1=h,o.y2=h,o.stroke=d,o.strokeWidth=i,o.lineDash=p}))}}computeLayout(){this.updateDirection(),this.calculateDomain(),this.updateRange();const{scale:t,label:e,label:{parallel:i},moduleCtx:{callbackCache:n},range:a,title:s,title:{formatter:r=t=>t.defaultValue}={}}=this,o=t.range[0],l=t.range[1],c=Math.abs(l-o)/t.domain.length||0,u=Math.ceil(e.fontSize/c),h=os(this.rotation),d=Math.abs(Math.cos(h))<1e-8,p=e.getSideFlag(),g=this.lineHeight,f=this.tickTreeLayout,y=t.ticks(),m=f?f.nodes:[],x=!!f&&f.depth>1,b=s?.enabled&&y.length>0,{defaultRotation:v,configuredRotation:M,parallelFlipFlag:S}=Dr({rotation:e.rotation,parallel:i,regularFlipRotation:ns(h-Math.PI/2),parallelFlipRotation:ns(h)}),I=[],D=new Map;let w=0;const N=new zs,L=(t,i)=>{if(0===i){if(b){const e=n.call(r,this.getTitleFormatterParams());return N.setProperties({text:e,fill:s.color,fontFamily:s.fontFamily,fontSize:s.fontSize,fontStyle:s.fontStyle,fontWeight:s.fontWeight,textAlign:"center",textBaseline:"hanging",translationX:t.screenY-.25*s.fontSize,translationY:t.screenX}),!0}return!1}return N.setProperties({fill:e.color,fontFamily:e.fontFamily,fontSize:e.fontSize,fontStyle:e.fontStyle,fontWeight:e.fontWeight,textAlign:"center",textBaseline:-1===S?"bottom":"hanging",translationX:t.screenY-.25*e.fontSize,translationY:t.screenX}),i%u===0&&(!(t.screenX<a[0]||t.screenX>a[1])&&(e.formatter?N.text=n.call(e.formatter,{value:String(t.label),index:i})??String(t.label):N.text=String(t.label),!0))};m.forEach(((t,e)=>{if(!L(t,e))return;const i=N.getBBox();if(!i)return;D.set(e,i);!t.children.length&&i.width>w&&(w=i.width)}));const k=p*e.padding,A=this.label.grid,C=[];m.forEach(((t,e)=>{const i=!t.children.length;let n,a=L(t,e);if(N.x=k,N.y=0===e&&b?s.spacing??0:0,N.rotationCenterX=k,i)N.rotation=M,N.textAlign="end",N.textBaseline="middle";else{const i=t.leafCount*c,n=D.get(e);N.translationX-=w-g+this.label.padding,n&&n.width>i?(a=!1,D.delete(e)):N.rotation=d?v:-Math.PI/2}if(t.parent&&x){const e=i?t.screenX-c/2:t.screenX-t.leafCount*c/2;if(i)(t.number!==t.children.length-1||A)&&C.push({y:e,x1:0,x2:-w-2*this.label.padding});else{const i=-w-2*this.label.padding+t.screenY;C.push({y:e,x1:i+g,x2:i})}}if(a){const t=Za.toCanvas(N);t&&D.set(e,t),n={...(r=N,{fill:r.fill,fontFamily:r.fontFamily,fontSize:r.fontSize,fontStyle:r.fontStyle,fontWeight:r.fontWeight,rotation:r.rotation,rotationCenterX:r.rotationCenterX,rotationCenterY:r.rotationCenterY,text:r.text,textAlign:r.textAlign,textBaseline:r.textBaseline,translationX:r.translationX,translationY:r.translationY,visible:r.visible,x:r.x,y:r.y}),visible:a}}else D.delete(e),n={visible:a};var r;I.push(n)}));let T=0;C.forEach((t=>T=Math.min(T,t.x2))),C.push({y:Math.max(o,l),x1:0,x2:T});const E=[],R=[];C.forEach((t=>{if(t.y>=a[0]-1e-7&&t.y<=a[1]+1e-7){const{x1:e,x2:i,y:n}=t,a=new ue(Math.min(e,i),n,Math.abs(e-i),0);R.push(a),E.push({x1:e,x2:i,y:n})}}));const O=[],z=[],j=f?f.depth+1:1;for(let B=0;B<j;B++){const t=y.length>0&&(0===B||A&&x),e=B>0?-w-2*this.label.padding-(B-1)*g:0,i=new ue(e,Math.min(...a),0,Math.abs(a[1]-a[0]));z.push(i),O.push({x:e,y1:a[0],y2:a[1],visible:t})}const P=ue.merge(Rt(D.values(),R,z));return{bbox:this.getTransformBox(P),tickLabelLayout:I,separatorLayout:E,axisLineLayout:O}}calculateLayout(){const{axisLineLayout:t,separatorLayout:e,tickLabelLayout:i,bbox:n}=this.computeLayout();return this.computedLayout={axisLineLayout:t,separatorLayout:e,tickLabelLayout:i},{bbox:n,primaryTickCount:void 0}}};Po.className="GroupedCategoryAxis",Po.type="grouped-category",R([Ji(In,{optional:!0})],Po.prototype,"labelColor",2);var Bo=class{constructor(){this.destroyFns=[]}destroy(){for(const t of this.destroyFns)t()}},Fo=class{constructor(){this.modules=[],this.dependencies=new Map,this.dependents=new Map}register(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];for(const n of e){this.registerDependencies(n);const t=this.modules.find((t=>n.type===t.type&&n.optionsKey===t.optionsKey&&n.identifier===t.identifier));if(t){if("enterprise"===n.packageType&&"community"===t.packageType){const e=this.modules.indexOf(t);this.modules.splice(e,1,n)}}else this.modules.push(n)}}hasEnterpriseModules(){return this.modules.some((t=>"enterprise"===t.packageType))}*byType(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];const{dependents:n}=this,a=new Set;let s=0;const r=this.modules.filter((t=>e.includes(t.type)));do{for(const t of r)if(!a.has(t.optionsKey)&&!n.has(t.optionsKey)){yield t,a.add(t.optionsKey);for(const[e,i]of n.entries())i.delete(t.optionsKey),0===i.size&&n.delete(e)}s++}while(a.size<r.length&&s<3);if(n.size>0)throw new Error(`Could not resolve module dependencies: [${[...n.keys()]}]`)}registerDependencies(t){if(null!=t.dependencies&&0!==t.dependencies.length){for(const e of t.dependencies){const i=this.dependencies.get(e)??new Set;i.add(t.optionsKey),this.dependencies.set(e,i)}this.dependents.set(t.optionsKey,new Set(t.dependencies))}}},Go=new Fo;function _o(t){return new Promise((e=>{setTimeout((()=>e(void 0)),t)}))}var Uo=class{constructor(){this.available=!0,this.acquireQueue=[]}acquire(t){return new Promise((e=>{this.acquireQueue.push([t,e]),this.available&&this.dispatchNext().catch((t=>_.errorOnce(t)))}))}async acquireImmediately(t){return!!this.available&&(await this.acquire(t),!0)}async waitForClearAcquireQueue(){return this.acquire((async()=>{}))}async dispatchNext(){this.available=!1;let[t,e]=this.acquireQueue.shift()??[];for(;t;){try{await t(),e?.()}catch(i){_.error("mutex callback error",i),e?.()}[t,e]=this.acquireQueue.shift()??[]}this.available=!0}},Yo=class{constructor(){this.eventListeners=new Map}addEventListener(t,e){if("function"!==typeof e)throw new Error("AG Charts - listener must be a Function");const i=this.eventListeners.get(t);i?i.add(e):this.eventListeners.set(t,new Set([e]))}removeEventListener(t,e){this.eventListeners.get(t)?.delete(e),0===this.eventListeners.size&&this.eventListeners.delete(t)}hasEventListener(t){return this.eventListeners.has(t)}clearEventListeners(){this.eventListeners.clear()}fireEvent(t){this.eventListeners.get(t.type)?.forEach((e=>e(t)))}},Vo=class extends $i{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e;super(),this.top=t,this.right=e,this.bottom=i,this.left=n}};function Wo(t,e){let i,n,a=0,s=!1;const r=()=>s,o=()=>{s=!1,n?.(),n=void 0,i=void 0,a>0&&t(l)},l=()=>{const t=a;a=0,s=!0;const i=e({count:t});i?i.then(o,o):o()};return{schedule(e){0!==a||r()||t(l,e),a++},async await(){if(r())for(null==i&&(i=new Promise((t=>{n=t})));r();)await i}}}R([Ji(hn)],Vo.prototype,"top",2),R([Ji(hn)],Vo.prototype,"right",2),R([Ji(hn)],Vo.prototype,"bottom",2),R([Ji(hn)],Vo.prototype,"left",2);var Zo=class{constructor(){this.events=new Map}on(t,e){return this.events.has(t)||this.events.set(t,new Set),this.events.get(t)?.add(e),()=>this.off(t,e)}off(t,e){const i=this.events.get(t);i&&(i.delete(e),0===i.size&&this.events.delete(t))}emit(t,e){this.events.get(t)?.forEach((t=>t(e)))}clear(t){t?this.events.delete(t):this.events.clear()}},Ho=(t=>(t[t.Caption=0]="Caption",t[t.Legend=1]="Legend",t[t.Toolbar=2]="Toolbar",t[t.Navigator=3]="Navigator",t[t.Overlay=4]="Overlay",t))(Ho||{}),Ko=class{constructor(){this.events=new Zo,this.elements=new Map}addListener(t,e){return this.events.on(t,e)}registerElement(t,e){return this.elements.has(t)?this.elements.get(t).add(e):this.elements.set(t,new Set([e])),()=>this.elements.get(t)?.delete(e)}createContext(t,e){const i=new $o(t,e);for(const n of Object.values(Ho))"number"===typeof n&&this.elements.get(n)?.forEach((t=>t(i)));return i}emitLayoutComplete(t,e){const i="layout:complete",{width:n,height:a}=t;this.events.emit(i,{type:i,axes:e.axes??[],chart:{width:n,height:a},clipSeries:e.clipSeries??!1,series:e.series})}},$o=class{constructor(t,e){this.width=t,this.height=e,this.layoutBox=new ue(0,0,t,e)}},Qo=class{constructor(){this.title=new xr,this.subtitle=new xr,this.footnote=new xr}positionCaptions(t){const{title:e,subtitle:i,footnote:n}=this,a=t.layoutBox.height/10;if(e.enabled){const{spacing:n=(i.enabled?xr.SMALL_PADDING:xr.LARGE_PADDING)}=e;this.positionCaption("top",e,t.layoutBox,a),this.shrinkLayoutByCaption("top",e,t.layoutBox,n)}i.enabled&&(this.positionCaption("top",i,t.layoutBox,a),this.shrinkLayoutByCaption("top",i,t.layoutBox,i.spacing)),n.enabled&&(this.positionCaption("bottom",n,t.layoutBox,a),this.shrinkLayoutByCaption("bottom",n,t.layoutBox,n.spacing))}positionAbsoluteCaptions(t){const{title:e,subtitle:i,footnote:n}=this,{rect:a}=t.series;for(const s of[e,i,n])if("overlay"===s.layoutStyle)if("left"===s.textAlign)s.node.x=a.x+s.padding;else if("right"===s.textAlign){const t=s.node.getBBox();s.node.x=a.x+a.width-t.width-s.padding}}computeX(t,e){return"left"===t?e.x:"right"===t?e.x+e.width:e.x+e.width/2}positionCaption(t,e,i,n){const a=Math.max(Cs.getLineHeight(e.fontSize),n);e.node.x=this.computeX(e.textAlign,i)+e.padding,e.node.y=i.y+("top"===t?0:i.height)+e.padding,e.node.textBaseline=t,e.computeTextWrap(i.width,a)}shrinkLayoutByCaption(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if("block"===e.layoutStyle){const a=e.node.getBBox();i.shrink("top"===t?Math.ceil(a.y-i.y+a.height+n):Math.ceil(i.y+i.height-a.y+n),t)}}};R([Ji(nn)],Qo.prototype,"title",2),R([Ji(nn)],Qo.prototype,"subtitle",2),R([Ji(nn)],Qo.prototype,"footnote",2);var Xo=class{constructor(){this.registeredListeners=new Map}addListener(t,e){const i={symbol:Symbol(t),handler:e};return this.registeredListeners.has(t)?this.registeredListeners.get(t).push(i):this.registeredListeners.set(t,[i]),()=>this.removeListener(i.symbol)}removeListener(t){for(const[e,i]of this.registeredListeners.entries()){const n=i.findIndex((e=>e.symbol===t));if(n>=0){i.splice(n,1),0===i.length&&this.registeredListeners.delete(e);break}}}dispatch(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];for(const s of this.getListenersByType(t))try{s.handler(...i)}catch(a){_.errorOnce(a)}}dispatchWrapHandlers(t,e){for(var i=arguments.length,n=new Array(i>2?i-2:0),a=2;a<i;a++)n[a-2]=arguments[a];for(const r of this.getListenersByType(t))try{e(r.handler,...n)}catch(s){_.errorOnce(s)}}getListenersByType(t){return this.registeredListeners.get(t)??[]}destroy(){this.registeredListeners.clear()}},Jo=class{constructor(){this.listeners=new Xo,this.destroyFns=[]}addListener(t,e){return this.listeners.addListener(t,e)}destroy(){this.listeners.destroy(),this.destroyFns.forEach((t=>t()))}},qo=(t=>(t[t.Default=32]="Default",t[t.ZoomDrag=16]="ZoomDrag",t[t.Annotations=8]="Annotations",t[t.ContextMenu=4]="ContextMenu",t[t.Animation=2]="Animation",t[t.AnnotationsSelected=1]="AnnotationsSelected",t[t.All=63]="All",t))(qo||{}),tl=class extends Jo{addListener(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32;return super.addListener(t,(t=>{this.getState()&i&&e(t)}))}},el=class{constructor(){this.destroyFns=[]}destroy(){this.destroyFns.forEach((t=>t())),this.destroyFns.length=0}setFns(t){this.destroy(),this.destroyFns=t}},il="10.3.3",nl=Symbol("previous-memento-not-found"),al=class{constructor(t){this.history=[],this.historyIndex=-1,this.originators=new Map,this.clearState=new Map,this.maxHistoryLength=100,this.debug=ts.create(!0,"history"),this.destroyFns=new el,this.destroyFns.setFns([t.addListener("undo",this.undo.bind(this),63),t.addListener("redo",this.redo.bind(this),63)])}destroy(){this.destroyFns.destroy()}addMementoOriginator(t){this.originators.set(t.mementoOriginatorKey,t),this.clearState.set(t.mementoOriginatorKey,t.createMemento()),this.debugEvent("History add originator:",t.mementoOriginatorKey)}clear(){this.debug("History clear:",Object.keys(this.originators)),this.history=[],this.historyIndex=-1;for(const[t,e]of this.originators.entries())this.clearState.set(t,e.createMemento())}record(t){this.historyIndex<this.history.length-1&&(this.history=this.history.slice(0,this.historyIndex+1)),this.history.length>this.maxHistoryLength&&(this.history=this.history.slice(-this.maxHistoryLength));const e=new Map;for(var i=arguments.length,n=new Array(i>1?i-1:0),a=1;a<i;a++)n[a-1]=arguments[a];for(const s of n){if(!this.originators.has(s.mementoOriginatorKey))throw new Error(`Originator [${s.mementoOriginatorKey}] has not been added to the HistoryManager.`);e.set(s.mementoOriginatorKey,s.createMemento())}this.history.push({label:t,mementos:e}),this.historyIndex=this.history.length-1,this.debugEvent(`History record: [${t}]`)}undo(){const t=this.history[this.historyIndex];if(t){for(const e of t.mementos.keys()){const t=this.findPreviousMemento(e);if(t===nl)throw new Error(`Could not find previous memento for [${e}].`);this.restoreMemento(e,t)}this.historyIndex-=1,this.debugEvent(`History undo: [${t.label}]`)}}redo(){const t=this.history[this.historyIndex+1];if(t){for(const[e,i]of t.mementos.entries())this.restoreMemento(e,i);this.historyIndex+=1,this.debugEvent(`History redo: [${t.label}]`)}}findPreviousMemento(t){for(let e=this.historyIndex-1;e>=0;e--)if(this.history[e].mementos.has(t))return this.history[e].mementos.get(t);return this.clearState.has(t)?this.clearState.get(t):nl}restoreMemento(t,e){this.originators.get(t)?.restoreMemento(il,il,e)}debugEvent(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this.debug(...e,this.history.map(((t,e)=>e===this.historyIndex?`** ${t.label} **`:t.label)))}},sl=class{constructor(t){this.version=t.split("-")[0]}save(){const t={version:this.version};for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];for(const a of Object.values(i))t[a.mementoOriginatorKey]=this.encode(a,a.createMemento());return t}restore(t){if("object"===typeof t)if(null!=t)if("version"in t&&"string"===typeof t.version){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];for(const e of i){if(!(e.mementoOriginatorKey in t))continue;const i=this.decode(e,t[e.mementoOriginatorKey]);if(!e.guardMemento(i))return void _.warnOnce(`Could not restore [${e.mementoOriginatorKey}] data, value was invalid, ignoring.`,i);e.restoreMemento(this.version,t.version,i)}}else _.warnOnce("Could not restore data, missing [version] string in object, ignoring.");else _.warnOnce("Could not restore data of type [null], expecting an object, ignoring.");else _.warnOnce(`Could not restore data of type [${typeof t}], expecting an object, ignoring.`)}encode(t,e){try{return JSON.parse(JSON.stringify(e,this.encodeTypes))}catch(i){throw new Error(`Failed to encode [${t.mementoOriginatorKey}] value [${i}].`,{cause:i})}}decode(t,e){try{return JSON.parse(JSON.stringify(e),this.decodeTypes)}catch(i){throw new Error(`Failed to decode [${t.mementoOriginatorKey}] value [${i}].`,{cause:i})}}encodeTypes(t,e){return Oe(this[t])?{__type:"date",value:String(this[t])}:e}decodeTypes(t,e){return Be(this[t])&&"__type"in this[t]&&"date"===this[t].__type?new Date(this[t].value):e}},rl=class{constructor(){this.caretaker=new sl(il),this.state=new Map}setState(t,e){null!=Us(this.state.get(t.mementoOriginatorKey),e)&&(this.state.set(t.mementoOriginatorKey,e),this.restoreState(t))}restoreState(t){const{caretaker:e,state:i}=this;if(!i.has(t.mementoOriginatorKey))return;const n=i.get(t.mementoOriginatorKey);e.restore({version:e.version,[t.mementoOriginatorKey]:n},t)}};function ol(t,e,i,n){e.addEventListener(i,n);const a=()=>e.removeEventListener(i,n);return t.push(a),a}function ll(t,e,i){ol(t,e,"keydown",(t=>{"Escape"===t.key&&i(t)}))}function cl(t,e,i){const n=ol(t,window,"mousedown",(t=>{[0,2].includes(t.button)&&!function(t,e){if(e.target instanceof Element){const{x:i,y:n,width:a,height:s}=t.getBoundingClientRect(),{clientX:r,clientY:o}=e;return r>=i&&o>=n&&r<=i+a&&o<=n+s}return!1}(e,t)&&(i(),n())}));return n}function ul(t){return!(t.shiftKey||t.altKey||t.ctrlKey||t.metaKey)}function hl(t,e){for(var i=arguments.length,n=new Array(i>2?i-2:0),a=2;a<i;a++)n[a-2]=arguments[a];return ul(t)&&(t.key===e||n.some((e=>t.key===e)))}function dl(t,e,i,n){i&&ol(t,e,"keydown",(t=>{hl(t,n)&&i.focus()}))}function pl(t,e,i,n,a,s){dl(t,e,a,s),dl(t,e,i,n),ol(t,e,"keydown",(t=>{hl(t,n,s)&&t.preventDefault()}))}var gl={horizontal:{nextKey:"ArrowRight",prevKey:"ArrowLeft"},vertical:{nextKey:"ArrowDown",prevKey:"ArrowUp"}};function fl(t){return t.toolbar.role="toolbar",t.toolbar.ariaOrientation=t.orientation,t.toolbar.ariaHidden=(0===t.buttons.length).toString(),yl(t)}function yl(t){const{orientation:e,buttons:i,wrapAround:n=!1,onEscape:a,onFocus:s,onBlur:r}=t,{nextKey:o,prevKey:l}=gl[e],c=t=>{t.target&&"tabIndex"in t.target&&(i.forEach((t=>t.tabIndex=-1)),t.target.tabIndex=0)},[u,h]=n?[i.length,i.length]:[0,1/0],d=[];for(let p=0;p<i.length;p++){const t=i[(u+p-1)%h],e=i[p],n=i[(u+p+1)%h];ol(d,e,"focus",c),s&&ol(d,e,"focus",s),r&&ol(d,e,"blur",r),a&&ll(d,e,a),pl(d,e,t,l,n,o),e.tabIndex=0===p?0:-1}return d}var ml=class{constructor(t,e,i){this.lastFocus=e,this.closeCallback=i,this.destroyFns=[],this.destroyFns.push(cl(this.destroyFns,t,(()=>this.close())))}close(){this.destroyFns.forEach((t=>t())),this.destroyFns.length=0,this.closeCallback(),this.finishClosing()}finishClosing(){this.destroyFns.forEach((t=>t())),this.destroyFns.length=0,rr(this.lastFocus,"aria-expanded",!1),this.lastFocus?.focus(),this.lastFocus=void 0}};function xl(t){const{sourceEvent:e,orientation:i,menu:n,buttons:a,closeCallback:s,autoCloseOnBlur:r=!1}=t,{nextKey:o,prevKey:l}=gl[i],c=Ml(e);rr(c,"aria-expanded",!0);const u=new ml(n,c,s),h=()=>u.close(),{destroyFns:d}=u;if(n.role="menu",n.ariaOrientation=i,d.push(...yl({orientation:i,buttons:a,onEscape:h,wrapAround:!0})),n.tabIndex=-1,ll(d,n,h),ol(d,n,"keydown",(t=>{t.target!==n||t.key!==o&&t.key!==l||(t.preventDefault(),a[0]?.focus())})),r){const t=t=>{!a.includes(t.relatedTarget)&&h()};for(const e of a)ol(d,e,"blur",t)}return a[0]?.focus(),u}function bl(t,e){return i=>{if("true"===t.ariaDisabled)return i.preventDefault();e(i)}}function vl(t){return"button"in t?0===t.button:ul(t)&&("Space"===t.code||"Enter"===t.key)}function Ml(t){if(t?.target instanceof HTMLElement&&"tabindex"in t.target.attributes)return t.target}function Sl(t){const e=t=>{if(t.defaultPrevented)return;lr(t.target,"data-preventdefault",!0)&&hl(t,"ArrowRight","ArrowLeft","ArrowDown","ArrowUp")&&t.preventDefault()};return t.addEventListener("keydown",e),()=>t.removeEventListener("keydown",e)}var Il=class{constructor(){this.elements=new Map,this.documentReady=!1,this.queuedObserveRequests=[],this.onLoad=()=>{this.documentReady=!0,this.queuedObserveRequests.forEach((t=>{let[e,i]=t;return this.observe(e,i)})),this.queuedObserveRequests=[]},"undefined"!==typeof ResizeObserver&&(this.resizeObserver=new ResizeObserver((t=>{for(const{target:e,contentRect:{width:i,height:n}}of t){const t=this.elements.get(e);this.checkSize(t,e,i,n)}})),this.documentReady="complete"===Gt("readyState"),this.documentReady||_t()?.addEventListener("load",this.onLoad))}destroy(){_t()?.removeEventListener("load",this.onLoad),this.resizeObserver?.disconnect(),this.resizeObserver=null}checkSize(t,e,i,n){t&&(i===t.size?.width&&n===t.size?.height||(t.size={width:i,height:n},t.cb(t.size,e)))}observe(t,e){if(!this.documentReady)return void this.queuedObserveRequests.push([t,e]);this.elements.has(t)?this.removeFromQueue(t):this.resizeObserver?.observe(t);const i={cb:e};this.elements.set(t,i)}unobserve(t){this.resizeObserver?.unobserve(t),this.elements.delete(t),this.removeFromQueue(t),this.elements.size||this.destroy()}removeFromQueue(t){this.queuedObserveRequests=this.queuedObserveRequests.filter((e=>{let[i]=e;return i!==t}))}},Dl=["styles","canvas","canvas-center","canvas-overlay","canvas-proxy","series-area"],wl=new Map([["styles",{childElementType:"style"}],["canvas",{childElementType:"canvas"}],["canvas-proxy",{childElementType:"div"}],["canvas-overlay",{childElementType:"div"}],["canvas-center",{childElementType:"div"}],["series-area",{childElementType:"div"}]]);var Nl={x:0,y:0,width:0,height:0,top:0,bottom:0,left:0,right:0,toJSON:()=>Nl},Ll=class extends Jo{constructor(t,e){super(),this.styles=new Map,this.container=void 0,this.containerSize=void 0,this.sizeMonitor=new Il;const i=Ut("div");i.innerHTML='<div role="presentation" class="ag-charts-wrapper ag-charts-styles" data-ag-charts><div role="presentation" class="ag-charts-canvas-center"><div role="presentation" class="ag-charts-canvas-container"><div role="presentation" class="ag-charts-canvas" aria-hidden="true"></div><div role="figure" class="ag-charts-canvas-proxy"><div role="img" class="ag-charts-series-area" tabindex="-1"></div></div><div role="presentation" class="ag-charts-canvas-overlay"></div></div></div></div>',this.element=i.children.item(0),this.styleRootElement=e,this.rootElements=Dl.reduce(((t,e)=>{const i=`ag-charts-${e}`,n=this.element.classList.contains(i)?this.element:this.element.querySelector(`.${i}`);if(!n)throw new Error(`AG Charts - unable to find DOM element ${i}`);return t[e]={element:n,children:new Map,listeners:[]},t}),{});let n=!1;this.observer=function(t,e){if("undefined"===typeof IntersectionObserver)return;const i=new IntersectionObserver((i=>{for(const n of i)n.target===t&&e(n.intersectionRatio)}),{root:t});return i.observe(t),i}(this.element,(t=>{0!==t||n||this.listeners.dispatch("hidden",{type:"hidden"}),n=0===t})),this.setSizeOptions(),this.addStyles("ag-charts-community",'.ag-charts-wrapper,.ag-charts-wrapper:focus,.ag-charts-wrapper:after,.ag-charts-wrapper:before,.ag-charts-wrapper *,.ag-charts-wrapper *:focus,.ag-charts-wrapper *:after,.ag-charts-wrapper *:before{box-sizing:border-box;outline:none}.ag-charts-wrapper{position:relative;user-select:none}.ag-charts-canvas-center{width:100%;height:100%;position:absolute;touch-action:auto;display:flex;align-items:var(--ag-charts-align);justify-content:var(--ag-charts-justify)}.ag-charts-canvas-container,.ag-charts-canvas{position:relative;user-select:none}.ag-charts-canvas-container>*,.ag-charts-canvas>*{display:block;pointer-events:none}.ag-charts-series-area{opacity:0;pointer-events:auto;position:absolute}.ag-charts-series-area:focus-visible{opacity:1}.ag-charts-canvas-proxy,.ag-charts-canvas-overlay{inset:0;pointer-events:none;position:absolute;user-select:none}.ag-charts-canvas-overlay>*{position:absolute;pointer-events:auto}.ag-charts-theme-default,.ag-charts-theme-default-dark{--ag-charts-active-color: var(--ag-active-color, #2196f3);--ag-charts-background-color: var(--ag-background-color, #fff);--ag-charts-foreground-color: var(--ag-foreground-color, #181d1f);--ag-charts-border-color: var(--ag-border-color, #dddddd);--ag-charts-hover-color: color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-active-color) 12%);--ag-charts-font-family: "Verdana", sans-serif;--ag-charts-font-size: var(--ag-font-size, 14px);--ag-charts-size: var(--ag-grid-size, 8px);--ag-charts-border: var(--ag-charts-border-color) var(--ag-borders, solid 1px);--ag-charts-border-critical: var(--ag-borders-critical, solid 1px);--ag-charts-layer-ui-overlay: 5;--ag-charts-layer-tooltip: 4;--ag-charts-layer-toolbar: 3;--ag-charts-layer-crosshair: 2;--ag-charts-layer-annotations: 1;--ag-charts-align: center;--ag-charts-justify: center;--ag-charts-axis-label-background-color: #474747;--ag-charts-axis-label-color: #ffffff;--ag-charts-toolbar-foreground-color: var(--ag-header-foreground-color, var(--ag-charts-foreground-color));--ag-charts-toolbar-background-color: var( --ag-header-background-color, color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-foreground-color) 2%) );--ag-charts-toolbar-size: 34px;--ag-charts-toolbar-size-small: 24px;--ag-charts-toolbar-border: var(--ag-charts-border-critical, solid 1px) var(--ag-charts-border-color);--ag-charts-toolbar-hover-color: color-mix( in srgb, var(--ag-charts-background-color), var(--ag-charts-active-color) 12% );--ag-charts-toolbar-focus-color: var(--ag-charts-active-color);--ag-charts-toolbar-active-background-color: var(--ag-charts-toolbar-hover-color);--ag-charts-toolbar-active-color: var(--ag-charts-active-color);--ag-charts-toolbar-disabled-foreground-color: var( --ag-disabled-foreground-color, color-mix(in srgb, transparent, var(--ag-charts-toolbar-foreground-color) 50%) );--ag-charts-toolbar-disabled-background-color: color-mix( in srgb, var(--ag-charts-toolbar-background-color), var(--ag-charts-toolbar-foreground-color) 6% );--ag-charts-toolbar-gap: var(--ag-charts-size);--ag-charts-toolbar-font-size: 13px;--ag-charts-toolbar-font-size-small: 12px;--ag-charts-toolbar-button-padding: 6px;--ag-charts-toolbar-button-padding-small: 1px;--ag-charts-popover-background-color: var(--ag-charts-toolbar-background-color);--ag-charts-popover-foreground-color: var(--ag-charts-toolbar-foreground-color);--ag-charts-popover-border: var(--ag-charts-toolbar-border);--ag-charts-popover-border-radius: var(--ag-border-radius, 4px);--ag-charts-popover-active-color: var(--ag-charts-toolbar-active-color);--ag-charts-popover-hover-color: var(--ag-charts-toolbar-hover-color);--ag-charts-popover-active-background-color: var(--ag-charts-toolbar-active-background-color);--ag-charts-popover-font-size: 14px;--ag-charts-popover-font-size-small: var(--ag-charts-toolbar-font-size-small);--ag-charts-dialog-input-group-label-color: color-mix(in srgb, transparent, var(--ag-charts-foreground-color) 55%);--ag-charts-dialog-tab-color--inactive: color-mix(in srgb, transparent, var(--ag-charts-foreground-color) 55%);--ag-charts-button-radius: var(--ag-border-radius, 4px);--ag-charts-focus-border-color: var(--ag-input-focus-border-color, var(--ag-charts-active-color));--ag-charts-focus-border: solid 1px var(--ag-charts-focus-border-color);--ag-charts-focus-border-shadow: var( --ag-input-focus-box-shadow, 0 0 0 3px color-mix(in srgb, transparent, var(--ag-input-focus-border-color, var(--ag-charts-active-color)) 20%) );--ag-charts-focus-box-shadow: var(--box-shadow), 0 0 0 2px #fff8, var(--ag-charts-focus-border-shadow);--ag-charts-icon-font-family: "agChartsDefault";--ag-charts-icon-font-weight: normal;--ag-charts-icon-font-color: color-mix(in srgb, transparent, var(--ag-charts-foreground-color), 90%);--ag-charts-icon-size: 20px;--ag-charts-input-background-color: var(--ag-charts-background-color);--ag-charts-input-background-color--hover: var(--ag-charts-hover-color);--ag-charts-input-background-color--active: var(--ag-charts-hover-color);--ag-charts-input-border-color: var(--ag-charts-border-color);--ag-charts-input-border-color--active: var(--ag-charts-active-color);--ag-charts-input-border-radius: var(--ag-border-radius, 4px);--ag-charts-input-color--active: var(--ag-charts-active-color);--ag-charts-input-focus-outline: var(--ag-charts-focus-border);--ag-charts-input-focus-box-shadow: var(--ag-charts-focus-border-shadow);--ag-charts-input-font-family: var(--ag-charts-font-family);--ag-charts-input-font-size: var(--ag-charts-font-size);--ag-charts-input-padding: 8px;--ag-charts-input-padding-large: 10px;--ag-charts-input-placeholder-color: #888888;--ag-charts-input-spacing: 8px;--ag-charts-input-transition-duration: .25s;--ag-charts-input-transition-duration--fast: .1s;--ag-charts-input-transition-timing-function: ease-out;--ag-charts-input-checkbox-background-color: #babbbc;--ag-charts-input-checkbox-background-color--checked: var(--ag-charts-active-color)}.ag-charts-theme-default-dark{--ag-charts-background-color: var(--ag-background-color, color-mix(in srgb, #fff, #182230 97%));--ag-charts-foreground-color: var(--ag-foreground-color, #fff);--ag-charts-border-color: var(--ag-border-color, rgba(255, 255, 255, .16));--ag-charts-hover-color: color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-active-color) 18%);--ag-charts-axis-label-background-color: #9caebb;--ag-charts-axis-label-color: #000000;--ag-charts-toolbar-background-color: var(--ag-header-background-color, color-mix(in srgb, #fff, #182230 93%));--ag-charts-toolbar-hover-color: color-mix( in srgb, var(--ag-charts-background-color), var(--ag-charts-active-color) 18% );--ag-charts-dialog-input-group-label-text-color: #ffffff;--ag-charts-focus-border-shadow: var( --ag-input-focus-box-shadow, 0 0 0 3px color-mix(in srgb, transparent, var(--ag-input-focus-border-color, var(--ag-charts-active-color)) 20%) );--ag-charts-input-placeholder-color: #aaaaaa}.ag-charts-icon{display:block;width:var(--ag-charts-icon-size);height:var(--ag-charts-icon-size);speak:none;speak:never;mask:var(--icon) center / contain no-repeat;background-color:currentColor;transition:background-color .25s ease-in-out}.ag-charts-icon-align-center{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNNyAxMGg2djFIN3pNNCA3aDEydjFINHptMSA2aDEwdjFINXoiLz48L3N2Zz4=)}.ag-charts-icon-align-left{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNNCAxMGg2djFINHptMC0zaDEydjFINHptMCA2aDEwdjFINHoiLz48L3N2Zz4=)}.ag-charts-icon-align-right{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMTAgMTBoNnYxaC02ek00IDdoMTJ2MUg0em0yIDZoMTB2MUg2eiIvPjwvc3ZnPg==)}.ag-charts-icon-arrow-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE1LjI5MyA0LjVIMTIuNXYtMUgxN3Y0aC0xVjUuMjA3bC05LjY0NiA5LjY0Ny0uNzA4LS43MDh6IiBmaWxsPSIjMDAwIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDE2YTIuNSAyLjUgMCAxIDEtNSAwIDIuNSAyLjUgMCAwIDEgNSAwbS0yLjUgMS41YTEuNSAxLjUgMCAxIDAgMC0zIDEuNSAxLjUgMCAwIDAgMCAzIiBmaWxsPSIjMDAwIi8+PC9zdmc+)}.ag-charts-icon-arrow-down-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02IDhMMS41IDhMMTAgMThMMTguNSA4TDE0IDhMMTQgM0w2IDNMNiA4Wk03IDRMNyA5SDMuNjYyNDRMMTAgMTYuNDU2TDE2LjMzNzYgOUwxMyA5TDEzIDRMNyA0WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-arrow-up-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNCAxMkgxOC41TDEwIDJMMS41IDEySDZMNi4wMDAwMiAxN0gxNFYxMlpNMTMgMTZWMTFIMTYuMzM3NkwxMCAzLjU0NDA1TDMuNjYyNDQgMTFIN0w3LjAwMDAyIDE2SDEzWiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-callout-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMyA0LjVBMS41IDEuNSAwIDAgMSA0LjUgM2gxMUExLjUgMS41IDAgMCAxIDE3IDQuNXY4YTEuNSAxLjUgMCAwIDEtMS41IDEuNWgtNC41MTRhMjYgMjYgMCAwIDAtMi4wMTcgMS41NGwtLjMxNC4yNmMtLjU1LjQ1Ny0xLjExNS45MjYtMS43NiAxLjQtLjY2OS40OTEtMS41NjItLjAxMi0xLjU2Mi0uOFYxNEg0LjVBMS41IDEuNSAwIDAgMSAzIDEyLjV6TTQuNSA0YS41LjUgMCAwIDAtLjUuNXY4YS41LjUgMCAwIDAgLjUuNWgxLjgzM3YzLjM3MmEzNiAzNiAwIDAgMCAxLjY3OC0xLjMzOGwuMzItLjI2NWEyNiAyNiAwIDAgMSAyLjIyNS0xLjY4NWwuMTI2LS4wODRIMTUuNWEuNS41IDAgMCAwIC41LS41di04YS41LjUgMCAwIDAtLjUtLjV6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-candlestick-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNyAxdjNoMnYxMkg3djNINnYtM0g0VjRoMlYxek01IDVoM3YxMEg1ek0xMSAxNFY2aDJWMy4yNWgxVjZoMnY4aC0ydjIuNzVoLTFWMTR6bTEtN2gzdjZoLTN6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-close{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtNSA1IDEwIDEwTTUgMTUgMTUgNSIgc3Ryb2tlPSIjMDAwIi8+PC9zdmc+)}.ag-charts-icon-comment-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNy41MTMgMy45OTVhNi41IDYuNSAwIDAgMSA2LjA5OCAxMS40MWMtLjU4OC4zOTMtMS4yMTcuNTM2LTEuODI5LjU4NWExMyAxMyAwIDAgMS0xLjI3LjAxN0EyNyAyNyAwIDAgMCAxMCAxNkg0LjVhLjUuNSAwIDAgMS0uNS0uNVYxMHEwLS4yNDctLjAwNy0uNTEzYy0uMDA4LS40MTYtLjAxNi0uODU3LjAxNy0xLjI2OS4wNS0uNjEyLjE5Mi0xLjI0LjU4NS0xLjgzYTYuNSA2LjUgMCAwIDEgMi45MTgtMi4zOTNtMy41Ni42MWE1LjUgNS41IDAgMCAwLTUuNjQ2IDIuMzRjLS4yNjYuMzk3LS4zNzkuODQyLS40MiAxLjM1NC0uMDMuMzYtLjAyMi43MTgtLjAxNSAxLjEwOFE1IDkuNjg5IDUgMTB2NWg1cS4zMTEuMDAxLjU5My4wMDhjLjM5LjAwNy43NDcuMDE1IDEuMTA4LS4wMTUuNTEyLS4wNDEuOTU3LS4xNTQgMS4zNTUtLjQyYTUuNSA1LjUgMCAwIDAtMS45ODMtOS45NjciIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-crosshair-add-line{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTEwIDUuNWEuNS41IDAgMCAxIC41LjV2My41aDMuODc1YS41LjUgMCAwIDEgMCAxSDEwLjV2NC4yNWEuNS41IDAgMSAxLTEgMFYxMC41SDUuNjI1YS41LjUgMCAxIDEgMC0xSDkuNVY2YS41LjUgMCAwIDEgLjUtLjUiLz48L3N2Zz4=)}.ag-charts-icon-date-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMiAyaDF2MTZIMnptMTUgMGgxdjE2aC0xeiIgZmlsbD0iIzE4MUQxRiIvPjxwYXRoIGQ9Ik0xMy4xNTcgMTFINXYtMWg3Ljc5M0wxMSA4LjIwN2wuNzA3LS43MDcgMy4xODIgMy4xODItMy4xODIgMy4xODItLjcwNy0uNzA3eiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-date-price-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMyAySDJ2MTZoMXptMy41MDcgNC44OUw4LjUgNC44OTVWMTBINXYxaDMuNXY3aDF2LTdoNS4wODhsLTEuOTU3IDEuOTU3LjcwNy43MDcgMy4xODItMy4xODJMMTMuMzM4IDcuM2wtLjcwNy43MDdMMTQuNjI0IDEwSDkuNVY0LjkzMmwxLjk1NyAxLjk1Ny43MDctLjcwN0w4Ljk4MiAzIDUuOCA2LjE4MnoiIGZpbGw9IiMxODFEMUYiLz48L3N2Zz4=)}.ag-charts-icon-delete{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZD0iTTguNDk2IDguOTk2QS41LjUgMCAwIDEgOSA5LjQ5MnY0YS41LjUgMCAxIDEtMSAuMDA4di00YS41LjUgMCAwIDEgLjQ5Ni0uNTA0TTEyIDkuNWEuNS41IDAgMCAwLTEgMHY0YS41LjUgMCAwIDAgMSAweiIvPjxwYXRoIGZpbGw9IiMxMzE3MjIiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTYgNVYzLjVBMi41IDIuNSAwIDAgMSA4LjUgMWgzQTIuNSAyLjUgMCAwIDEgMTQgMy41VjVoMi44MzNhLjUuNSAwIDAgMSAwIDFIMTV2MTAuMjVjMCAuNDE1LS4wNjYuODYzLS4zIDEuMjIxLS4yNTcuMzk0LS42NzIuNjEyLTEuMi42MTJoLTdjLS41MjggMC0uOTQzLS4yMTgtMS4yLS42MTItLjIzNC0uMzU4LS4zLS44MDYtLjMtMS4yMjFWNkgzLjMzM2EuNS41IDAgMCAxIDAtMXptMS0xLjVBMS41IDEuNSAwIDAgMSA4LjUgMmgzQTEuNSAxLjUgMCAwIDEgMTMgMy41VjVIN3pNNiAxNi4yNVY2aDh2MTAuMjVjMCAuMzM1LS4wNTkuNTU0LS4xMzguNjc1LS4wNTUuMDg1LS4xNC4xNTgtLjM2Mi4xNThoLTdjLS4yMjIgMC0uMzA3LS4wNzMtLjM2Mi0uMTU4LS4wOC0uMTIxLS4xMzgtLjM0LS4xMzgtLjY3NSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-disjoint-channel,.ag-charts-icon-disjoint-channel-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTkuMDI4IDE3LjQ2YTIuMjUgMi4yNSAwIDAgMC00LjA5Mi0xLjg1bC05LjUxMS0yLjM3OGEyLjI1IDIuMjUgMCAxIDAtLjIyNS45NzRsOS40NzUgMi4zNjlhMi4yNTEgMi4yNTEgMCAwIDAgNC4zNTMuODg2bS0xLjY2Mi0xLjk2NWExLjI1IDEuMjUgMCAxIDEtLjg4NSAyLjMzOCAxLjI1IDEuMjUgMCAwIDEgLjg4NS0yLjMzOE00LjM0MyAxMy42NjlhMS4yNSAxLjI1IDAgMSAwLTIuMzM4LS44ODUgMS4yNSAxLjI1IDAgMCAwIDIuMzM4Ljg4NU0zLjk3IDguNzY5YTIuMjUgMi4yNSAwIDAgMCAxLjQ1NS0yLjExbDkuNTExLTIuMzc4YTIuMjUgMi4yNSAwIDEgMC0uMjYtLjk2NUw1LjIgNS42ODVhMi4yNSAyLjI1IDAgMSAwLTEuMjMgMy4wODRtLjM3My0yLjU0N2ExLjI1IDEuMjUgMCAxIDEtMi4zMzguODg1IDEuMjUgMS4yNSAwIDAgMSAyLjMzOC0uODg1bTEzLjc1LTMuNDM4YTEuMjUgMS4yNSAwIDEgMS0yLjMzOC44ODUgMS4yNSAxLjI1IDAgMCAxIDIuMzM4LS44ODUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-drag-handle{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSI1Ljc1IiBjeT0iNy43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iOS43NSIgY3k9IjcuNzUiIHI9Ii43NSIgZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuNSIvPjxjaXJjbGUgY3g9IjEzLjc1IiBjeT0iNy43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iMTMuNzUiIGN5PSIxMS43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iOS43NSIgY3k9IjExLjc1IiByPSIuNzUiIGZpbGw9IiMwMDAiIGZpbGwtb3BhY2l0eT0iLjUiLz48Y2lyY2xlIGN4PSI1Ljc1IiBjeT0iMTEuNzUiIHI9Ii43NSIgZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuNSIvPjwvc3ZnPg==)}.ag-charts-icon-fill-color{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtOC4wNzEgNC4wNi0uOTI0LS45MjQuNzA3LS43MDcgNy4yODggNy4yODgtNC45NSA0Ljk1YTMuNSAzLjUgMCAwIDEtNC45NSAwbC0xLjQxNC0xLjQxNGEzLjUgMy41IDAgMCAxIDAtNC45NXptLjcwNy43MDhMNC41MzYgOS4wMWEyLjUgMi41IDAgMCAwIDAgMy41MzZMNS45NSAxMy45NmEyLjUgMi41IDAgMCAwIDMuNTM1IDBsNC4yNDMtNC4yNDN6bTYuOSA3LjIwMi0uMzQ1LjM2My0uMzQ0LS4zNjNhLjUuNSAwIDAgMSAuNjg4IDBtLS4zNDUgMS4wOGE4IDggMCAwIDAtLjI4LjMyMyA0LjMgNC4zIDAgMCAwLS40MDkuNTgyYy0uMTEzLjIwMS0uMTQ0LjMyNi0uMTQ0LjM3OGEuODMzLjgzMyAwIDAgMCAxLjY2NyAwYzAtLjA1Mi0uMDMxLS4xNzctLjE0NC0uMzc4YTQuMyA0LjMgMCAwIDAtLjQxLS41ODIgOCA4IDAgMCAwLS4yOC0uMzIybS0uMzQ0LTEuMDguMzQ0LjM2My4zNDQtLjM2My4wMDIuMDAyLjAwNC4wMDQuMDEzLjAxMmE2IDYgMCAwIDEgLjIwNi4yMDhjLjEzMS4xMzYuMzA4LjMyNy40ODUuNTQ1LjE3Ni4yMTUuMzYzLjQ2Ny41MDcuNzI0LjEzNy4yNDMuMjczLjU1My4yNzMuODY4YTEuODMzIDEuODMzIDAgMSAxLTMuNjY3IDBjMC0uMzE1LjEzNi0uNjI1LjI3My0uODY4LjE0NC0uMjU3LjMzLS41MDkuNTA3LS43MjRhOSA5IDAgMCAxIC42NDUtLjcwOGwuMDQ2LS4wNDUuMDEzLS4wMTIuMDA0LS4wMDR6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-hollow-candlestick-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1vcGFjaXR5PSIuMTUiIGQ9Ik01IDVoM3YxMEg1eiIvPjxwYXRoIGZpbGw9IiMxMzE3MjIiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTcgMXYzaDJ2MTJIN3YzSDZ2LTNINFY0aDJWMXpNNSA1aDN2MTBINXptNyAyaDN2NmgtM3ptLTEgN1Y2aDJWMy4yNWgxVjZoMnY4aC0ydjIuNzVoLTFWMTR6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-horizontal-line,.ag-charts-icon-horizontal-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNLjUgOS41aDcuMzA2YTIuMjUgMi4yNSAwIDAgMSA0LjM4OCAwSDE5LjV2MWgtNy4zMDZhMi4yNSAyLjI1IDAgMCAxLTQuMzg4IDBILjV6bTkuNSAxLjc1YTEuMjUgMS4yNSAwIDEgMCAwLTIuNSAxLjI1IDEuMjUgMCAwIDAgMCAyLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-line-color{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTQuMjQyIDIuNzIyYy0uNjEyIDAtMS4yLjI0My0xLjYzMi42NzVsLTEuMzQzIDEuMzQ0YS41LjUgMCAwIDAtLjExMi4xMTJMNC4wNSAxMS45NTljLS4yMDcuMjA3LS4zNi40Ni0uNDQ2Ljc0di4wMDFsLS42OSAyLjc2N3YuMDAyYS44Mi44MiAwIDAgMCAxLjAyMiAxLjAyMWguMDAybDIuNjM0LS44MjJjLjI4LS4wODUuNTM0LS4yMzcuNzQtLjQ0M2w3LjEwNy03LjEwOGEuNS41IDAgMCAwIC4xMTItLjExMmwxLjM0My0xLjM0M2EyLjMwOCAyLjMwOCAwIDAgMC0xLjYzMi0zLjk0TTE0LjEyMiA3bDEuMDQ0LTEuMDQ1YTEuMzA4IDEuMzA4IDAgMSAwLTEuODQ5LTEuODVMMTIuMjcxIDUuMTV6bS0yLjU1OC0xLjE0Mi02LjgwNyA2LjgwOWEuOC44IDAgMCAwLS4xOTYuMzI1bC0uNzUgMi40NjggMi40Ny0uNzQ5YS44LjggMCAwIDAgLjMyNS0uMTk0bDYuODA4LTYuODF6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-line-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTcuMzYyIDQuODczLTQuNTk0IDYuNjU0LTQuODUtMy4zMTctNC4yNTEgNi45NzctLjg1NC0uNTJMNy42MTIgNi43OWw0Ljg5OSAzLjM1IDQuMDI4LTUuODM2eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-line-style-dashed{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMiA5aDR2MUgyem0xMiAwaDR2MWgtNHpNOCA5aDR2MUg4eiIvPjwvc3ZnPg==)}.ag-charts-icon-line-style-dotted{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSIyLjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iNC41IiBjeT0iOS41IiByPSIuNSIgZmlsbD0iIzAwMCIvPjxjaXJjbGUgY3g9IjYuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48Y2lyY2xlIGN4PSI4LjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iMTAuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48Y2lyY2xlIGN4PSIxMi41IiBjeT0iOS41IiByPSIuNSIgZmlsbD0iIzAwMCIvPjxjaXJjbGUgY3g9IjE0LjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iMTYuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-line-style-solid{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMiA5aDE2djFIMnoiLz48L3N2Zz4=)}.ag-charts-icon-line-with-markers-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTguMTk4IDQuODg4LTMuNTU2IDQuOTE4YTIuMjUgMi4yNSAwIDEgMS0zLjg2Ni43NWwtMS40MzItLjlhMi4yNCAyLjI0IDAgMCAxLTIuMDA5LjQzNWwtMy44MjggNi40MjgtLjg2LS41MTJMNi40NSA5LjYyM2EyLjI1IDIuMjUgMCAxIDEgMy41MS0uNzYxbDEuMzI5LjgzNWEyLjI0IDIuMjQgMCAwIDEgMi41NTctLjQ5N2wzLjU0Mi00Ljg5OHptLTQuOTYgNS4xNTNhMS4yNSAxLjI1IDAgMSAwLS42NCAyLjQxOSAxLjI1IDEuMjUgMCAwIDAgLjY0LTIuNDE5TTkuMSA4LjMyMXEuMDY2LS4xOTIuMDY3LS40MDRhMS4yNSAxLjI1IDAgMSAwLS4wNjcuNDA0IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-lock,.ag-charts-icon-locked{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuMjA3IDMuNzY0YTIuODk0IDIuODk0IDAgMCAwLTIuODk1IDIuODk0VjloNS43ODlWNi42NThhMi44OTQgMi44OTQgMCAwIDAtMi44OTUtMi44OTRNMTQuMSA5VjYuNjU4YTMuODk0IDMuODk0IDAgMSAwLTcuNzg5IDB2Mi4zNDlBMi41IDIuNSAwIDAgMCA0IDExLjV2M0EyLjUgMi41IDAgMCAwIDYuNSAxN2g4YTIuNSAyLjUgMCAwIDAgMi41LTIuNXYtM0EyLjUgMi41IDAgMCAwIDE0LjUgOXpNNi41IDEwQTEuNSAxLjUgMCAwIDAgNSAxMS41djNBMS41IDEuNSAwIDAgMCA2LjUgMTZoOGExLjUgMS41IDAgMCAwIDEuNS0xLjV2LTNhMS41IDEuNSAwIDAgMC0xLjUtMS41eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-measurer-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibTQuNDYxIDEyLjcxIDEuNTMyLTEuNTMxIDEuNDE0IDEuNDE0LjcwNy0uNzA3TDYuNyAxMC40NzJsMS41MzItMS41MzMgMiAyIC43MDctLjcwNy0yLTIgNi4wMS02LjAxIDIuODMgMi44MjhMNS4wNSAxNy43NzggMi4yMjIgMTQuOTVsMS41MzItMS41MzIgMS40MTQgMS40MTQuNzA3LS43MDd6TS44MDggMTQuOTVsLjcwNy0uNzA3TDE0LjI0MyAxLjUxNWwuNzA3LS43MDcuNzA3LjcwNyAyLjgyOCAyLjgyOC43MDcuNzA3LS43MDcuNzA3TDUuNzU3IDE4LjQ4NWwtLjcwNy43MDctLjcwNy0uNzA3LTIuODI4LTIuODI4em0xMS4wNzgtNi44MzVMMTAuNDcgNi43bC43MDctLjcwNyAxLjQxNSAxLjQxNHptLjgyNC0zLjY1NCAxIDEgLjcwOC0uNzA3LTEtMXoiIGZpbGw9IiMxODFEMUYiLz48L3N2Zz4=)}.ag-charts-icon-note-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMyA0LjVBMS41IDEuNSAwIDAgMSA0LjUgM2gxMUExLjUgMS41IDAgMCAxIDE3IDQuNXY4YTEuNSAxLjUgMCAwIDEtMS41IDEuNWgtMy4yMWwtMS40NjkgMi41N2ExIDEgMCAwIDEtMS42ODIuMDg1TDcuMjQzIDE0SDQuNUExLjUgMS41IDAgMCAxIDMgMTIuNXpNNC41IDRhLjUuNSAwIDAgMC0uNS41djhhLjUuNSAwIDAgMCAuNS41aDMuMjU3bDIuMTk2IDMuMDc0TDExLjcxIDEzaDMuNzlhLjUuNSAwIDAgMCAuNS0uNXYtOGEuNS41IDAgMCAwLS41LS41eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNi41IDYuNUEuNS41IDAgMCAxIDcgNmg2YS41LjUgMCAwIDEgMCAxSDdhLjUuNSAwIDAgMS0uNS0uNU02LjUgOS41QS41LjUgMCAwIDEgNyA5aDZhLjUuNSAwIDAgMSAwIDFIN2EuNS41IDAgMCAxLS41LS41IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-ohlc-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZD0iTTEzIDExaC0zdi0xaDNWM2gxdjJoNHYxaC00djExaC0xek02IDE3di0yaDN2LTFINlY0SDV2MUgydjFoM3YxMXoiLz48L3N2Zz4=)}.ag-charts-icon-pan-end{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0ibTYuNjQ2IDEzLjgxMy0uMzUzLjM1NC43MDcuNzA3LjM1NC0uMzU0ek0xMS4xNjYgMTBsLjM1NC4zNTQuMzU0LS4zNTQtLjM1NC0uMzU0ek03LjM1NSA1LjQ4IDcgNS4xMjZsLS43MDcuNzA3LjM1My4zNTR6bTAgOS4wNCA0LjE2Ni00LjE2Ni0uNzA3LS43MDgtNC4xNjcgNC4xNjd6bTQuMTY2LTQuODc0TDcuMzU0IDUuNDhsLS43MDguNzA3IDQuMTY3IDQuMTY3ek0xMy4wODMgNXYxMGgxVjV6Ii8+PC9zdmc+)}.ag-charts-icon-pan-left{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTIuNzkgNS44MzMgOC42MjUgMTBsNC4xNjYgNC4xNjctLjcwNy43MDdMNy4yMSAxMGw0Ljg3My00Ljg3NHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-right{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNy4yMSAxNC4xNjcgMTEuMzc2IDEwIDcuMjEgNS44MzNsLjcwNy0uNzA3TDEyLjc5IDEwbC00Ljg3MyA0Ljg3NHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-start{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTYgNXYxMGgxVjV6TTkuNjI0IDEwbDQuMTY2LTQuMTY3LS43MDctLjcwN0w4LjIxIDEwbDQuODc0IDQuODc0LjcwNy0uNzA3eiIvPjwvc3ZnPg==)}.ag-charts-icon-parallel-channel,.ag-charts-icon-parallel-channel-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTcuNzIgNS4zMzFBMi4yNSAyLjI1IDAgMSAwIDE0LjcwNSAzLjZsLTkuNDkgNC41NjJhMi4yNSAyLjI1IDAgMSAwIC4yMDkgMS4wMWw5LjY2Mi00LjY0NmEyLjI1IDIuMjUgMCAwIDAgMi42MzQuODA1bS4zNzMtMi41NDdhMS4yNSAxLjI1IDAgMSAxLTIuMzM4Ljg4NSAxLjI1IDEuMjUgMCAwIDEgMi4zMzgtLjg4NU00LjM0MyA4LjY3YTEuMjUgMS4yNSAwIDEgMS0yLjMzOC44ODUgMS4yNSAxLjI1IDAgMCAxIDIuMzM4LS44ODVNNS4zMDcgMTYuNzI4YTIuMjUgMi4yNSAwIDEgMS0uNTI1LS44NThsOS45MjMtNC43N2EyLjI1IDIuMjUgMCAxIDEgLjM4MS45MjZ6bS0uOTY0LjI3NGExLjI1IDEuMjUgMCAxIDEtMi4zMzguODg1IDEuMjUgMS4yNSAwIDAgMSAyLjMzOC0uODg1bTEzLjAyMy01LjEwNmExLjI1IDEuMjUgMCAxIDAtLjg4NS0yLjMzOSAxLjI1IDEuMjUgMCAwIDAgLjg4NSAyLjMzOSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-position-bottom{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii4yNSIgZD0iTTMgMTBoMTR2MUgzem0zLTNoOHYxSDZ6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTYgMTNoOHYxSDZ6Ii8+PC9zdmc+)}.ag-charts-icon-position-center{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMyAxMGgxNHYxSDN6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuMjUiIGQ9Ik02IDdoOHYxSDZ6bTAgNmg4djFINnoiLz48L3N2Zz4=)}.ag-charts-icon-position-top{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii4yNSIgZD0iTTMgMTBoMTR2MUgzeiIvPjxwYXRoIGZpbGw9IiMwMDAiIGQ9Ik02IDdoOHYxSDZ6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuMjUiIGQ9Ik02IDEzaDh2MUg2eiIvPjwvc3ZnPg==)}.ag-charts-icon-price-label-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNC41IDNBMS41IDEuNSAwIDAgMCAzIDQuNVYxM2ExLjUgMS41IDAgMCAwIDEuNSAxLjVoLjgzM3YuMDU3Yy4yNDItLjI5OS41OTctLjUwMyAxLS41NDhWMTMuNUg0LjVBLjUuNSAwIDAgMSA0IDEzVjQuNWEuNS41IDAgMCAxIC41LS41aDExYS41LjUgMCAwIDEgLjUuNXY4YS41LjUgMCAwIDEtLjUuNWgtNC44MThsLS4xMjYuMDg0YTI2IDI2IDAgMCAwLTIuMjI1IDEuNjg1bC0uMzIuMjY1LS4wNjguMDU2YTEuNSAxLjUgMCAwIDEtMi42MDkgMS4zNTRjLjAzMy43NjMuOTA1IDEuMjM4IDEuNTYuNzU2LjY0Ni0uNDc0IDEuMjEtLjk0MyAxLjc2MS0xLjRsLjMxMy0uMjZBMjYgMjYgMCAwIDEgMTAuOTg2IDE0SDE1LjVhMS41IDEuNSAwIDAgMCAxLjUtMS41di04QTEuNSAxLjUgMCAwIDAgMTUuNSAzeiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNOC43MTYgMTQuODE1YTIuMjUgMi4yNSAwIDEgMS00LjIxIDEuNTkzIDIuMjUgMi4yNSAwIDAgMSA0LjIxLTEuNTkzbS0xLjY2MiAxLjk2NmExLjI1IDEuMjUgMCAxIDAtLjg4NS0yLjMzOSAxLjI1IDEuMjUgMCAwIDAgLjg4NSAyLjMzOSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-price-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNOS4wNDYgMTVWNS44NzdoLjk0MlYxNXoiIGZpbGw9IiMxODFEMUYiLz48cGF0aCBkPSJNOS4wNDYgMTVWNS44NzdoLjk0MlYxNXoiIGZpbGw9IiMxODFEMUYiLz48cGF0aCBkPSJNOS41IDYuMjI4IDcuMTY3IDguMzc2IDYuNSA3Ljc2MiA5LjUgNWwzIDIuNzYyLS42NjcuNjE0eiIgZmlsbD0iIzAwMCIvPjxwYXRoIGQ9Ik0yIDE4di0xaDE2djF6TTIgM1YyaDE2djF6IiBmaWxsPSIjMTgxRDFGIi8+PC9zdmc+)}.ag-charts-icon-reset{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTIuMDQgNC40NDVhNS44MSA1LjgxIDAgMCAwLTcuMjU3IDIuNDUzLjUuNSAwIDAgMS0uODY1LS41MDJBNi44MSA2LjgxIDAgMSAxIDMgOS44MTNhLjUuNSAwIDAgMSAxIDAgNS44MSA1LjgxIDAgMSAwIDguMDQtNS4zNjgiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiMwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTQuMjg5IDMuMDAyYS41LjUgMCAwIDEgLjUuNXYyLjY1NWgyLjY1NWEuNS41IDAgMCAxIDAgMUg0LjI5YS41LjUgMCAwIDEtLjUtLjVWMy41MDJhLjUuNSAwIDAgMSAuNS0uNSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-settings{--icon: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgc3R5bGU9ImZpbGwtcnVsZTpldmVub2RkIj48cGF0aCBkPSJNMTAgMTNhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2bTAtMWEyIDIgMCAxIDEtLjAwMS0zLjk5OUEyIDIgMCAwIDEgMTAgMTIiLz48cGF0aCBkPSJNMi4zMSAxNC4zNDVjLS44MTctMS40OTEuMDI3LTIuNDk5LjQ3NC0yLjg2NS41MzEtLjQzNC45NjktLjM2NS45NzItMS40OC0uMDAzLTEuMTE1LS40NDEtMS4wNDYtLjk3Mi0xLjQ4MS0uNDU0LS4zNzEtMS4zMTctMS40MDUtLjQzNC0yLjkzNmwuMDA1LS4wMDljLjg4NC0xLjUyIDIuMjA3LTEuMjkgMi43NTUtMS4wODMuNjQxLjI0My44MDEuNjU2IDEuNzY4LjEwMS45NjQtLjU2LjY4Ni0uOTA0Ljc5Ni0xLjU4Mi4wOTQtLjU3OC41NTktMS44NDMgMi4zMjYtMS44NDNoLjAxYzEuNzU5LjAwNSAyLjIyMiAxLjI2NiAyLjMxNiAxLjg0My4xMS42NzgtLjE2OCAxLjAyMi43OTYgMS41ODIuOTY3LjU1NSAxLjEyNy4xNDIgMS43NjgtLjEwMS41NDktLjIwOCAxLjg3Ni0uNDM4IDIuNzYgMS4wOTJzLjAyIDIuNTY1LS40MzQgMi45MzZjLS41MzEuNDM1LS45NjkuMzY2LS45NzIgMS40ODEuMDAzIDEuMTE1LjQ0MSAxLjA0Ni45NzIgMS40OC40NTQuMzcyIDEuMzE3IDEuNDA2LjQzNCAyLjkzN2wtLjAwNS4wMDljLS44ODQgMS41Mi0yLjIwNyAxLjI5LTIuNzU1IDEuMDgzLS42NDEtLjI0My0uODAxLS42NTYtMS43NjgtLjEwMS0uOTY0LjU2LS42ODYuOTA0LS43OTYgMS41ODEtLjA5NC41NzktLjU1OSAxLjg0NC0yLjMyNiAxLjg0NGgtLjAxYy0xLjc1OS0uMDA1LTIuMjIyLTEuMjY2LTIuMzE2LTEuODQ0LS4xMS0uNjc3LjE2OC0xLjAyMS0uNzk2LTEuNTgxLS45NjctLjU1NS0xLjEyNy0uMTQyLTEuNzY4LjEwMS0uNTQ5LjIwOC0xLjg3Ni40MzgtMi43Ni0xLjA5MmwtLjAyLS4wMzZ6TTkuOTg0IDIuMTYySDEwYzEuMzU1IDAgMS4zNDIgMS4wMzkgMS4zNTMgMS40MjUuMDA4LjMxMi4wNCAxLjE2IDEuMjU5IDEuODcybC4wMTUuMDA4YzEuMjI1LjcgMS45NzYuMzA0IDIuMjUxLjE1NS4zMzctLjE4MyAxLjIyNi0uNzExIDEuOTAyLjQ0NWwuMDA4LjAxNGMuNjc4IDEuMTczLS4yMjkgMS42ODItLjU1OCAxLjg4NC0uMjY2LjE2My0uOTg0LjYxNS0uOTkxIDIuMDI3di4wMTZjLjAwNyAxLjQxMi43MjUgMS44NjQuOTkxIDIuMDI3LjMyOC4yMDEgMS4yMjkuNzA3LjU2NiAxLjg3bC0uMDA4LjAxNGMtLjY3NyAxLjE3NC0xLjU3MS42NDMtMS45MS40NTktLjI3NS0uMTQ5LTEuMDI2LS41NDUtMi4yNTEuMTU0bC0uMDE1LjAwOWMtMS4yMTkuNzEyLTEuMjUxIDEuNTYtMS4yNTkgMS44NzItLjAxMS4zODYuMDAyIDEuNDI1LTEuMzUzIDEuNDI1cy0xLjM0Mi0xLjAzOS0xLjM1My0xLjQyNWMtLjAwOC0uMzEyLS4wNC0xLjE2LTEuMjU5LTEuODcybC0uMDE1LS4wMDljLTEuMjI1LS42OTktMS45NzYtLjMwMy0yLjI1MS0uMTU0LS4zMzYuMTgzLTEuMjE5LjcwNi0xLjg5NC0uNDMybC0uMDE2LS4wMjdjLS42NzgtMS4xNzQuMjI5LTEuNjgyLjU1OC0xLjg4NC4yNjYtLjE2My45ODQtLjYxNS45OTEtMi4wMjd2LS4wMTZjLS4wMDctMS40MTItLjcyNS0xLjg2NC0uOTkxLTIuMDI3LS4zMjgtLjIwMS0xLjIyOS0uNzA3LS41NjYtMS44N2wuMDA4LS4wMTRjLjY3Ny0xLjE3NCAxLjU3MS0uNjQzIDEuOTEtLjQ1OS4yNzUuMTQ5IDEuMDI2LjU0NSAyLjI1MS0uMTU1bC4wMTUtLjAwOGMxLjIxOS0uNzEyIDEuMjUxLTEuNTYgMS4yNTktMS44NzIuMDEtLjM4NC0uMDAyLTEuNDE3IDEuMzM3LTEuNDI1Ii8+PC9zdmc+)}.ag-charts-icon-step-line-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzE4MUQxRiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNiA0aDV2OGgzVjhoNXYxaC00djRoLTVWNUg3djEwSDJ2LTFoNHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-text-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00IDRIMTZWN0gxNVY1SDEwLjVWMTVIMTRWMTZINlYxNUg5LjVWNUg1VjdINFY0WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-trend-line,.ag-charts-icon-trend-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNS4zMTQgMTAuOTM4YTIuMjUgMi4yNSAwIDEgMSAuMDEtMWg5LjM1MmEyLjI1IDIuMjUgMCAxIDEgLjAxIDF6bS0yLjE4OS43MjlhMS4yNSAxLjI1IDAgMSAwIDAtMi41IDEuMjUgMS4yNSAwIDAgMCAwIDIuNW0xMy43NSAwYTEuMjUgMS4yNSAwIDEgMCAwLTIuNSAxLjI1IDEuMjUgMCAwIDAgMCAyLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-unlock,.ag-charts-icon-unlocked{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuNjUxIDMuNWEyLjg5NCAyLjg5NCAwIDAgMC0yLjg5NCAyLjg5NFY5SDE0LjVhMi41IDIuNSAwIDAgMSAyLjUgMi41djNhMi41IDIuNSAwIDAgMS0yLjUgMi41aC04QTIuNSAyLjUgMCAwIDEgNCAxNC41di0zQTIuNSAyLjUgMCAwIDEgNi41IDloLjI1N1Y2LjM5NGEzLjg5NCAzLjg5NCAwIDEgMSA3Ljc4OSAwIC41LjUgMCAwIDEtMSAwQTIuODk0IDIuODk0IDAgMCAwIDEwLjY1IDMuNU02LjUgMTBBMS41IDEuNSAwIDAgMCA1IDExLjV2M0ExLjUgMS41IDAgMCAwIDYuNSAxNmg4YTEuNSAxLjUgMCAwIDAgMS41LTEuNXYtM2ExLjUgMS41IDAgMCAwLTEuNS0xLjV6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-vertical-line,.ag-charts-icon-vertical-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuNSA3LjgwNmEyLjI1IDIuMjUgMCAwIDEgMCA0LjM4OFYxOS41aC0xdi03LjMwNmEyLjI1IDIuMjUgMCAwIDEgMC00LjM4OFYuNWgxem0tLjUuOTQ0YTEuMjUgMS4yNSAwIDEgMSAwIDIuNSAxLjI1IDEuMjUgMCAwIDEgMC0yLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-zoom-in{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTEwIDUuNWEuNS41IDAgMCAxIC41LjV2My41aDMuODc1YS41LjUgMCAwIDEgMCAxSDEwLjV2NC4yNWEuNS41IDAgMSAxLTEgMFYxMC41SDUuNjI1YS41LjUgMCAxIDEgMC0xSDkuNVY2YS41LjUgMCAwIDEgLjUtLjUiLz48L3N2Zz4=)}.ag-charts-icon-zoom-out{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNS41IDEwYS41LjUgMCAwIDEgLjUtLjVoOGEuNS41IDAgMCAxIDAgMUg2YS41LjUgMCAwIDEtLjUtLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-high-low-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNyA0aDJ2MTJINFY0aDNNNSA1aDN2MTBINXpNMTEgMTRWNmg1djhoLTVtMS03aDN2NmgtM3oiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-hlc-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTguMTYzIDEuODM3LTUuMzM0IDExLjYyMUw2Ljk1NyA4LjEybC00LjE5OSA5LjYyMi0uOTE2LS40IDQuNzU2LTEwLjlMMTIuNDkgMTEuOCAxNy4yNTQgMS40MnoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiMwMDAiIGZpbGwtb3BhY2l0eT0iLjQiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTUuODI1IDIuNzA0LjU1IDEzLjc4NWwuOTAyLjQzIDQuNzI0LTkuOTE5IDYuMDM0IDUuMDI5IDMuMjU1LTguMTQtLjkyOC0uMzctMi43NDUgNi44NnptNy44NTIgMTQuNjM2IDUuNzgtMTMuMTM5LS45MTUtLjQwMi01LjIxOSAxMS44Ni02LjAwNS01LjUwNC0zLjI3OCA3LjY0OC45Mi4zOTQgMi43MjItNi4zNTJ6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-zoom-in-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04Ljc1IDQuNWEuNzUuNzUgMCAwIDAtMS41IDB2Mi43NUg0LjVhLjc1Ljc1IDAgMCAwIDAgMS41aDIuNzV2Mi43NWEuNzUuNzUgMCAwIDAgMS41IDBWOC43NWgyLjc1YS43NS43NSAwIDAgMCAwLTEuNUg4Ljc1VjQuNVoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-zoom-out-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0zLjc1IDhhLjc1Ljc1IDAgMCAxIC43NS0uNzVoN2EuNzUuNzUgMCAwIDEgMCAxLjVoLTdBLjc1Ljc1IDAgMCAxIDMuNzUgOFoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-zoom-in-alt,.ag-charts-icon-zoom-in-alt-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20taW4iPjxjaXJjbGUgY3g9IjExIiBjeT0iMTEiIHI9IjgiLz48bGluZSB4MT0iMjEiIHgyPSIxNi42NSIgeTE9IjIxIiB5Mj0iMTYuNjUiLz48bGluZSB4MT0iMTEiIHgyPSIxMSIgeTE9IjgiIHkyPSIxNCIvPjxsaW5lIHgxPSI4IiB4Mj0iMTQiIHkxPSIxMSIgeTI9IjExIi8+PC9zdmc+)}.ag-charts-icon-zoom-out-alt,.ag-charts-icon-zoom-out-alt-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20tb3V0Ij48Y2lyY2xlIGN4PSIxMSIgY3k9IjExIiByPSI4Ii8+PGxpbmUgeDE9IjIxIiB4Mj0iMTYuNjUiIHkxPSIyMSIgeTI9IjE2LjY1Ii8+PGxpbmUgeDE9IjgiIHgyPSIxNCIgeTE9IjExIiB5Mj0iMTEiLz48L3N2Zz4=)}.ag-charts-icon-reset-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00LjQxMiA0LjA1OCAyLjc1IDIuMzk2VjYuNzVoLjc0NGEuNzYuNzYgMCAwIDAgLjAxMiAwaDMuNTk4TDUuNDc4IDUuMTI1YTQuMTI1IDQuMTI1IDAgMCAxIDIuNTIzLS44NzUgMy43NSAzLjc1IDAgMSAxLTMuMTE5IDUuODMzLjc1Ljc1IDAgMCAwLTEuMjQ3LjgzNEE1LjI1IDUuMjUgMCAxIDAgOCAyLjc1aC0uMDAzYTUuNjI1IDUuNjI1IDAgMCAwLTMuNTg1IDEuMzA4WiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-left-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMC4wMyA0LjQ3YS43NS43NSAwIDAgMSAwIDEuMDZMNy41NiA4bDIuNDcgMi40N2EuNzUuNzUgMCAxIDEtMS4wNiAxLjA2bC0zLTNhLjc1Ljc1IDAgMCAxIDAtMS4wNmwzLTNhLjc1Ljc1IDAgMCAxIDEuMDYgMFoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-pan-right-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik01Ljk3IDExLjUzYS43NS43NSAwIDAgMSAwLTEuMDZMOC40NCA4IDUuOTcgNS41M2EuNzUuNzUgMCAwIDEgMS4wNi0xLjA2bDMgM2EuNzUuNzUgMCAwIDEgMCAxLjA2bC0zIDNhLjc1Ljc1IDAgMCAxLTEuMDYgMFoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-pan-start-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWNoZXZyb24tZmlyc3QiPjxwYXRoIGQ9Im0xNyAxOC02LTYgNi02Ii8+PHBhdGggZD0iTTcgNnYxMiIvPjwvc3ZnPg==)}.ag-charts-icon-pan-end-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWNoZXZyb24tbGFzdCI+PHBhdGggZD0ibTcgMTggNi02LTYtNiIvPjxwYXRoIGQ9Ik0xNyA2djEyIi8+PC9zdmc+)}.ag-charts-icon-trend-line-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMi41IiBjeT0iOCIgcj0iMS43NSIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjEuNSIvPjxjaXJjbGUgY3g9IjEzLjUiIGN5PSI4IiByPSIxLjc1IiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjEuNSIgZD0iTTQgOGg4Ii8+PC9zdmc+)}.ag-charts-icon-horizontal-line-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMC4zODYgOC43NWEyLjUwMSAyLjUwMSAwIDAgMS00Ljc3MiAwSC43NWEuNzUuNzUgMCAwIDEgMC0xLjVoNC44NjRhMi41MDEgMi41MDEgMCAwIDEgNC43NzIgMGg0Ljg2NGEuNzUuNzUgMCAwIDEgMCAxLjVoLTQuODY0Wk05IDhhMSAxIDAgMSAxLTIgMCAxIDEgMCAwIDEgMiAwWiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-vertical-line-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04Ljc1IDUuNjE0YTIuNTAxIDIuNTAxIDAgMCAxIDAgNC43NzJ2NC44NjRhLjc1Ljc1IDAgMCAxLTEuNSAwdi00Ljg2NGEyLjUwMSAyLjUwMSAwIDAgMSAwLTQuNzcyVi43NWEuNzUuNzUgMCAwIDEgMS41IDB2NC44NjRaTTggN2ExIDEgMCAxIDEgMCAyIDEgMSAwIDAgMSAwLTJaIiBmaWxsPSIjMDAwIi8+PC9zdmc+)}.ag-charts-icon-parallel-channel-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC40MjQgNC45MmEyLjUgMi41IDAgMSAwLTMuMzc3LTIuMTRsLTYuNjMgMi45YTIuNTAxIDIuNTAxIDAgMSAwIC42MDcgMS4zNzJsNi41ODUtMi44OGEyLjUwMSAyLjUwMSAwIDAgMCAyLjgxNS43NDhabS4wNS0yLjY5M2ExIDEgMCAxIDEtMS44Ny43MDggMSAxIDAgMCAxIDEuODctLjcwOFptLTExIDQuNzVhMSAxIDAgMSAxLTEuODcuNzA4IDEgMSAwIDAgMSAxLjg3LS43MDhabTEuNTUgNi4wNzVhMi41MDEgMi41MDEgMCAxIDEtLjYwNy0xLjM3Mmw2LjYzLTIuOWEyLjUwMSAyLjUwMSAwIDEgMSAuNTYyIDEuMzkxbC02LjU4NSAyLjg4Wm0tMS41NS0uMDc1YTEgMSAwIDEgMS0xLjg3LjcwOCAxIDEgMCAwIDEgMS44Ny0uNzA4Wm0xMC40Mi0zLjQ2YTEgMSAwIDEgMC0uNzA5LTEuODcgMSAxIDAgMCAwIC43MDggMS44N1oiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-disjoint-channel-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC40MjQgNC45MmEyLjUgMi41IDAgMSAwLTMuMzgzLTIuNDUzTDQuNjkgNC4wNTVhMi41IDIuNSAwIDEgMCAuMzQ0IDEuNDZsNi4zOTItMS41OThhMi41MDEgMi41MDEgMCAwIDAgMyAxLjAwM1ptLjA1LTIuNjkzYTEgMSAwIDEgMS0xLjg3LjcwOCAxIDEgMCAwIDEgMS44Ny0uNzA4Wm0tMTEgMi43NWExIDEgMCAxIDEtMS44Ny43MDggMSAxIDAgMCAxIDEuODctLjcwOFptMS41NiA1LjQyYTIuNSAyLjUgMCAxIDAtLjM0NSAxLjQ2MWw2LjM1MiAxLjU4OGEyLjUgMi41IDAgMSAwIC4zODQtMS40NWwtNi4zOTItMS41OThabS0xLjU2LjUzOGExIDEgMCAxIDAtMS44Ny0uNzA4IDEgMSAwIDAgMCAxLjg3LjcwOFptMTAuNDIgMS40NjFhMSAxIDAgMSAxLS43MDkgMS44NyAxIDEgMCAwIDEgLjcwOC0xLjg3WiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-line-color-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEyLjc4OC41ODNhMi42MyAyLjYzIDAgMCAwLTEuODYuNzdMOS41NDQgMi43MzhhLjc1Ny43NTcgMCAwIDAtLjE0LjE0TDIuMDMyIDEwLjI1di4wMDFjLS4yNDIuMjQxLS40Mi41MzgtLjUyLjg2NGwtLjAwMi4wMDItLjg4IDIuOTAyLS4wMDEuMDAzYTEuMDgzIDEuMDgzIDAgMCAwIDEuMzUgMS4zNDdoLjAwMWwyLjkwMi0uODhoLjAwMWMuMzI2LS4xLjYyMy0uMjc3Ljg2NS0uNTE4di0uMDAxbDcuMzc1LTcuMzc2YS43NjMuNzYzIDAgMCAwIC4xMzktLjEzOWwxLjM4NC0xLjM4NEEyLjYzIDIuNjMgMCAwIDAgMTIuNzg4LjU4M1ptLS4xMjYgNC4zNTIuOTI0LS45MjRhMS4xMyAxLjEzIDAgMCAwLTEuNTk3LTEuNTk3bC0uOTI0LjkyNCAxLjU5NyAxLjU5N1ptLTIuNjU3LS41MzYtNi45MTMgNi45MTRIMy4wOWEuNTgzLjU4MyAwIDAgMC0uMTQ2LjI0MmwtLjY1MyAyLjE1MyAyLjE1NS0uNjU0YS41ODMuNTgzIDAgMCAwIC4yNDEtLjE0NGw2LjkxNC02LjkxNC0xLjU5Ny0xLjU5N1oiIGZpbGw9IiMwMDAiLz48L2c+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMCAwaDE2djE2SDB6Ii8+PC9jbGlwUGF0aD48L2RlZnM+PC9zdmc+)}.ag-charts-icon-delete-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjA4MyAyLjY2N2MwLS4wOS4wNTMtLjI0Mi4xOTctLjM4Ny4xNDUtLjE0NC4yOTctLjE5Ny4zODctLjE5N2gyLjY2N2MuMDg5IDAgLjI0MS4wNTMuMzg2LjE5Ny4xNDUuMTQ1LjE5Ny4yOTcuMTk3LjM4N3YuNTgzSDYuMDg0di0uNTgzWk01LjMzIDQuNzVIMTEuOTE3djguNTgzYzAgLjA5LS4wNTIuMjQyLS4xOTcuMzg3LS4xNDUuMTQ0LS4yOTcuMTk3LS4zODYuMTk3SDQuNjY3Yy0uMDkgMC0uMjQyLS4wNTMtLjM4Ny0uMTk3LS4xNDQtLjE0NS0uMTk3LS4yOTctLjE5Ny0uMzg3VjQuNzVINS4zM1ptLS43NDUtMS41di0uNTgzYzAtLjU3OC4yOC0xLjA5Mi42MzYtMS40NDcuMzU1LS4zNTYuODctLjYzNyAxLjQ0Ny0uNjM3aDIuNjY3Yy41NzcgMCAxLjA5MS4yODEgMS40NDcuNjM3LjM1NS4zNTUuNjM2Ljg3LjYzNiAxLjQ0N3YuNTgzSDE0YS43NS43NSAwIDAgMSAwIDEuNWgtLjU4M3Y4LjU4M2MwIC41NzgtLjI4MSAxLjA5Mi0uNjM2IDEuNDQ3LS4zNTYuMzU2LS44Ny42MzctMS40NDcuNjM3SDQuNjY3Yy0uNTc3IDAtMS4wOTItLjI4MS0xLjQ0Ny0uNjM3LS4zNTUtLjM1NS0uNjM3LS44Ny0uNjM3LTEuNDQ3VjQuNzVIMmEuNzUuNzUgMCAwIDEgMC0xLjVoMi41ODNabTIuMDgzIDMuMzMzYS43NS43NSAwIDAgMSAuNzUuNzV2NGEuNzUuNzUgMCAxIDEtMS41IDB2LTRhLjc1Ljc1IDAgMCAxIC43NS0uNzVabTMuNDE3Ljc1YS43NS43NSAwIDAgMC0xLjUgMHY0YS43NS43NSAwIDEgMCAxLjUgMHYtNFoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-lock-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjE3MyAyLjg0YTIuNTgzIDIuNTgzIDAgMCAxIDQuNDEgMS44Mjd2MS45MTZINS40MTZWNC42NjdjMC0uNjg1LjI3My0xLjM0My43NTctMS44MjdaTTMuOTE3IDYuNTgzVjQuNjY3YTQuMDgzIDQuMDgzIDAgMCAxIDguMTY2IDB2MS45MTZoLjU4NGMxLjE1IDAgMi4wODMuOTMzIDIuMDgzIDIuMDg0djQuNjY2YzAgMS4xNS0uOTMzIDIuMDg0LTIuMDgzIDIuMDg0SDMuMzMzYTIuMDgzIDIuMDgzIDAgMCAxLTIuMDgzLTIuMDg0VjguNjY3YzAtMS4xNTEuOTMzLTIuMDg0IDIuMDgzLTIuMDg0aC41ODNabTcuNDE2IDEuNWgtOGEuNTgzLjU4MyAwIDAgMC0uNTgzLjU4NHY0LjY2NmMwIC4zMjIuMjYxLjU4NC41ODMuNTg0aDkuMzM0YS41ODMuNTgzIDAgMCAwIC41ODMtLjU4NFY4LjY2N2EuNTgzLjU4MyAwIDAgMC0uNTgzLS41ODRoLTEuMzM0WiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-unlock-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjkyMyAyLjg0YTIuNTgzIDIuNTgzIDAgMCAxIDMuNjUzIDAgMyAzIDAgMCAxIC41Ny43OThjLjEzNC4yNzguMTcuNDc0LjE3LjU0NWEuNzUuNzUgMCAwIDAgMS41IDBjMC0uMzgxLS4xMzItLjgwOS0uMzItMS4xOThhNC41MDEgNC41MDEgMCAwIDAtLjg1OS0xLjIwNiA0LjA4MyA0LjA4MyAwIDAgMC02Ljk3IDIuODg4djEuOTE2aC0uNTg0QzIuOTMzIDYuNTgzIDIgNy41MTYgMiA4LjY2N3Y0LjY2NmMwIDEuMTUuOTMzIDIuMDg0IDIuMDgzIDIuMDg0aDkuMzM0YzEuMTUgMCAyLjA4My0uOTMzIDIuMDgzLTIuMDg0VjguNjY3YzAtMS4xNTEtLjkzMy0yLjA4NC0yLjA4My0yLjA4NGgtNy4yNVY0LjY2N2MwLS42ODUuMjcyLTEuMzQzLjc1Ni0xLjgyN1pNNS40MTcgOC4wODNINC4wODJhLjU4My41ODMgMCAwIDAtLjU4My41ODR2NC42NjZjMCAuMzIyLjI2MS41ODQuNTgzLjU4NGg5LjMzNGEuNTgzLjU4MyAwIDAgMCAuNTgzLS41ODRWOC42NjdhLjU4My41ODMgMCAwIDAtLjU4My0uNTg0aC04WiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-plus-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXBsdXMiPjxwYXRoIGQ9Ik01IDEyaDE0Ii8+PHBhdGggZD0iTTEyIDV2MTQiLz48L3N2Zz4=)}.ag-charts-icon-crossline-add-line-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNOC43NSA0LjVhLjc1Ljc1IDAgMCAwLTEuNSAwdjIuNzVINC41YS43NS43NSAwIDAgMCAwIDEuNWgyLjc1djIuNzVhLjc1Ljc1IDAgMCAwIDEuNSAwVjguNzVoMi43NWEuNzUuNzUgMCAwIDAgMC0xLjVIOC43NXoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-input{--input-layer-active: 1;--input-layer-focus: 2;color:inherit;font-family:var(--ag-charts-input-font-family);font-size:var(--ag-charts-input-font-size);transition-duration:var(--ag-charts-input-transition-duration);transition-property:none;transition-timing-function:var(--ag-charts-input-transition-timing-function)}.ag-charts-input:focus-visible{outline:var(--ag-charts-input-focus-outline);box-shadow:var(--ag-charts-input-focus-box-shadow);z-index:var(--input-layer-focus)}.ag-charts-button{background:var(--ag-charts-input-background-color);border:1px solid var(--ag-charts-input-border-color);border-radius:var(--ag-charts-input-border-radius);cursor:pointer;padding:var(--ag-charts-input-padding);transition-property:background,border-color}.ag-charts-button:hover{background:var(--ag-charts-input-background-color--hover)}.ag-charts-button:has(.ag-charts-icon){padding:2px}.ag-charts-checkbox{appearance:none;background:var(--ag-charts-input-checkbox-background-color);border-radius:9px;cursor:pointer;height:18px;margin:0;transition-duration:var(--ag-charts-input-transition-duration--fast);transition-property:margin;width:29px}.ag-charts-checkbox:before{display:block;background:var(--ag-charts-input-background-color);border-radius:7px;content:" ";height:14px;margin:2px;transition-duration:var(--ag-charts-input-transition-duration--fast);transition-property:margin;transition-timing-function:var(--ag-charts-input-transition-easing);width:14px}.ag-charts-checkbox:checked{background:var(--ag-charts-input-checkbox-background-color--checked)}.ag-charts-checkbox:checked:before{margin-left:13px}.ag-charts-select{background:var(--ag-charts-input-background-color);border:1px solid var(--ag-charts-input-border-color);border-radius:var(--ag-charts-input-border-radius);padding:3px 2px 4px;font-size:inherit}.ag-charts-textarea{--line-height: 1.38;background:var(--ag-charts-input-background-color);border:1px solid var(--ag-charts-input-border-color);border-radius:var(--ag-charts-input-border-radius);line-height:var(--line-height);font-family:var(--ag-charts-input-font-family);font-size:var(--ag-charts-input-font-size);padding:var(--ag-charts-input-padding-large) var(--ag-charts-input-padding)}.ag-charts-textarea[placeholder]:empty:before{color:var(--ag-charts-input-placeholder);content:attr(placeholder)}.ag-charts-proxy-container{pointer-events:none;position:absolute}.ag-charts-proxy-elem{-webkit-appearance:none;appearance:none;background:none;border:none;color:#0000;overflow:hidden;pointer-events:none;position:absolute}.ag-charts-proxy-elem::-moz-range-thumb,.ag-charts-proxy-elem::-moz-range-track{opacity:0}.ag-charts-proxy-elem::-webkit-slider-runnable-track,.ag-charts-proxy-elem::-webkit-slider-thumb{opacity:0}.ag-charts-proxy-elem:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow)}.ag-charts-focus-indicator{position:absolute;display:block;pointer-events:none;user-select:none;width:100%;height:100%}.ag-charts-focus-indicator>div{position:absolute;outline:var(--ag-charts-focus-border);outline-width:2px;box-shadow:var(--ag-charts-focus-border-shadow)}.ag-charts-focus-indicator>svg{width:100%;height:100%;fill:none;stroke:var(--ag-charts-focus-border-color);stroke-width:2px}.ag-charts-toolbar{align-items:center;background:none;border:none;display:flex;flex-wrap:nowrap;opacity:1;position:absolute;transform:translateY(0);transition:opacity .2s ease-in-out,transform .2s ease-in-out}.ag-charts-toolbar--hidden,.ag-charts-toolbar--prevent-flash{visibility:hidden}.ag-charts-toolbar--floating-hidden{opacity:0;transition:opacity .4s ease-in-out}.ag-charts-toolbar--small{--ag-charts-toolbar-size: var(--ag-charts-toolbar-size-small);--ag-charts-toolbar-font-size: var(--ag-charts-toolbar-font-size-small);--ag-charts-toolbar-button-padding: var(--ag-charts-toolbar-button-padding-small)}.ag-charts-toolbar--top,.ag-charts-toolbar--bottom{flex-direction:row;width:100%}.ag-charts-toolbar--left,.ag-charts-toolbar--right{flex-direction:column}.ag-charts-toolbar--floating,.ag-charts-toolbar--floating-top,.ag-charts-toolbar--floating-bottom{background:none;border:none;flex-direction:row;pointer-events:none;width:100%}.ag-charts-toolbar--floating{padding:0;width:auto;z-index:var(--ag-charts-layer-toolbar)}.ag-charts-toolbar--floating-top{height:calc(var(--ag-charts-toolbar-size) + 10px);padding-top:10px}.ag-charts-toolbar--floating-bottom{height:calc(var(--ag-charts-toolbar-size) + 10px);padding-bottom:10px;overflow:hidden}.ag-charts-toolbar__align{display:flex;flex-direction:inherit;flex-wrap:inherit;gap:var(--ag-charts-toolbar-gap);max-width:100%;width:100%}.ag-charts-toolbar__align--start{justify-content:start}.ag-charts-toolbar__align--center{justify-content:center}.ag-charts-toolbar__align--end{justify-content:end}.ag-charts-toolbar__align--center,.ag-charts-toolbar__align--end{margin-left:auto}.ag-charts-toolbar--left .ag-charts-toolbar__align--center,.ag-charts-toolbar--left .ag-charts-toolbar__align--end,.ag-charts-toolbar--right .ag-charts-toolbar__align--center,.ag-charts-toolbar--right .ag-charts-toolbar__align--end{margin-left:0;margin-top:auto}.ag-charts-toolbar--floating-top .ag-charts-toolbar__align,.ag-charts-toolbar--floating-bottom .ag-charts-toolbar__align{transition:transform .4s ease-in-out;width:auto}.ag-charts-toolbar__section{display:inherit;flex-direction:inherit;flex-wrap:inherit;justify-content:inherit;max-width:inherit;width:inherit}.ag-charts-toolbar__button{align-items:center;background:var(--ag-charts-toolbar-background-color);border:var(--ag-charts-toolbar-border);color:var(--ag-charts-toolbar-foreground-color);display:flex;font:var(--ag-charts-toolbar-font-size) var(--ag-charts-font-family);justify-content:center;margin:0 0 0 -1px;min-height:var(--ag-charts-toolbar-size);min-width:var(--ag-charts-toolbar-size);padding:var(--ag-charts-toolbar-button-padding);pointer-events:all;position:relative;white-space:nowrap;--stroke-width-color: var(--ag-charts-toolbar-foreground-color)}.ag-charts-toolbar__no-pointer-events{pointer-events:none}.ag-charts-toolbar__button--drag-handle{min-width:24px;padding-left:0;padding-right:0}.ag-charts-toolbar__button--with-transition{transition:background-color .25s ease-in-out,border-color .25s ease-in-out,color .25s ease-in-out}.ag-charts-toolbar__button[data-toolbar-group=ranges]{padding:var(--ag-charts-toolbar-button-padding) calc(var(--ag-charts-toolbar-button-padding) * 1.5)}.ag-charts-toolbar--top,.ag-charts-toolbar--bottom,.ag-charts-toolbar--floating,.ag-charts-toolbar--floating-top,.ag-charts-toolbar--floating-bottom{.ag-charts-toolbar__button--first{border-bottom-left-radius:var(--ag-charts-button-radius);border-top-left-radius:var(--ag-charts-button-radius);margin:0}.ag-charts-toolbar__button--last{border-bottom-right-radius:var(--ag-charts-button-radius);border-top-right-radius:var(--ag-charts-button-radius)}}.ag-charts-toolbar--left,.ag-charts-toolbar--right{.ag-charts-toolbar__button{border-radius:0;margin:-1px 0 0;max-width:100%}.ag-charts-toolbar__button--first{border-top-left-radius:var(--ag-charts-button-radius);border-top-right-radius:var(--ag-charts-button-radius);margin:0}.ag-charts-toolbar__button--last{border-bottom-left-radius:var(--ag-charts-button-radius);border-bottom-right-radius:var(--ag-charts-button-radius)}}.ag-charts-toolbar__button--hidden-value,.ag-charts-toolbar__button--hidden-toggled{display:none}.ag-charts-toolbar__button:hover:not([aria-disabled=true],.ag-charts-toolbar__button--drag-handle){background:var(--ag-charts-toolbar-hover-color);z-index:1}.ag-charts-toolbar__button:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:calc(var(--ag-charts-layer-ui-overlay) + 1)}.ag-charts-toolbar__button.ag-charts-toolbar__button--active{background:var(--ag-charts-toolbar-active-background-color);border-color:var(--ag-charts-toolbar-active-color);color:var(--ag-charts-toolbar-active-color);z-index:2;--stroke-width-color: var(--ag-charts-toolbar-active-color)}.ag-charts-toolbar__button[aria-disabled=true]{background:var(--ag-charts-toolbar-disabled-background-color);color:var(--ag-charts-toolbar-disabled-foreground-color)}.ag-charts-toolbar__button:not([aria-disabled=true]){cursor:pointer}.ag-charts-toolbar__button.ag-charts-toolbar__button--drag-handle{cursor:grab}.ag-charts-toolbar__button.ag-charts-toolbar__button--dragging{cursor:grabbing}.ag-charts-toolbar__button--fill-visible:after{content:"";display:block;position:absolute;bottom:3px;left:5px;right:5px;height:4px;border-radius:99px;box-shadow:inset 0 0 0 1px color-mix(in srgb,var(--ag-charts-foreground-color) 10%,transparent);background:var(--fill)}.ag-charts-toolbar__button--fill-visible[aria-disabled=true]:after{filter:grayscale(1);opacity:.5}.ag-charts-toolbar__button--stroke-width-visible:before{content:"";height:min(var(--strokeWidth),20px);width:12px;background:var(--stroke-width-color);margin-right:var(--ag-charts-toolbar-button-padding)}.ag-charts-toolbar__button--stroke-width-visible[aria-disabled=true]:before{filter:grayscale(1);opacity:.5}.ag-charts-toolbar__icon+.ag-charts-toolbar__label{margin-left:var(--ag-charts-toolbar-gap)}.ag-charts-toolbar__icon,.ag-charts-toolbar__label{pointer-events:none}.ag-chart-overlay{color:#181d1f;pointer-events:none}.ag-chart-overlay.ag-chart-dark-overlay{color:#fff}.ag-chart-overlay--loading{color:#8c8c8c}.ag-chart-overlay__loading-background{background:#fff;pointer-events:none}.ag-chart-overlay.ag-chart-dark-overlay .ag-chart-overlay__loading-background{background:#192232}.ag-chart-tooltip{transition:transform .1s ease;width:max-content;z-index:99999;font:12px Verdana,sans-serif;color:#464646;box-shadow:0 4px 8px #00000014}.ag-chart-tooltip-wrap-always{overflow-wrap:break-word;word-break:break-word;hyphens:none}.ag-chart-tooltip-wrap-hyphenate{overflow-wrap:break-word;word-break:break-word;hyphens:auto}.ag-chart-tooltip-wrap-on-space{overflow-wrap:normal;word-break:normal}.ag-chart-tooltip-wrap-never{white-space:pre;text-overflow:ellipsis}.ag-chart-tooltip-no-interaction{pointer-events:none;user-select:none}.ag-chart-tooltip-no-animation{transition:none!important}.ag-chart-tooltip-hidden{visibility:hidden}.ag-chart-tooltip-title{overflow:hidden;position:relative;padding:8px 14px;border-top-left-radius:2px;border-top-right-radius:2px;color:#fff;background-color:#888;z-index:1;text-overflow:inherit}.ag-chart-tooltip-title:only-child{border-bottom-left-radius:2px;border-bottom-right-radius:2px}.ag-chart-tooltip-content{overflow:hidden;padding:6px 14px;line-height:1.7em;background:#fff;border-bottom-left-radius:2px;border-bottom-right-radius:2px;border:1px solid rgba(0,0,0,.15);text-overflow:inherit}.ag-chart-tooltip-arrow:before{content:"";position:absolute;top:100%;left:50%;transform:translate(-50%);border:5px solid #d9d9d9;border-left-color:transparent;border-right-color:transparent;border-bottom-color:transparent;width:0;height:0;margin:0 auto}.ag-chart-tooltip-arrow:after{content:"";position:absolute;top:calc(100% - 1px);left:50%;transform:translate(-50%);border:5px solid white;border-left-color:transparent;border-right-color:transparent;border-bottom-color:transparent;width:0;height:0;margin:0 auto}\n'),t&&this.setContainer(t),this.destroyFns.push(Sl(this.element))}destroy(){super.destroy(),this.observer?.unobserve(this.element),this.container&&this.sizeMonitor.unobserve(this.container),Object.values(this.rootElements).forEach((t=>{t.children.forEach((t=>t.remove())),t.element.remove()})),this.element.remove()}setSizeOptions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,i=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;const{style:a}=this.element;a.width=`${i??t}px`,a.height=`${n??e}px`}updateContainerSize(){const{style:t}=this.rootElements["canvas-center"].element;t.width=`${this.containerSize?.width??0}px`,t.height=`${this.containerSize?.height??0}px`}setContainer(t){if(t===this.container)return;this.container&&(this.container.removeChild(this.element),this.sizeMonitor.unobserve(this.container));if(!(null!=this.getShadowDocumentRoot(t)))for(const e of this.rootElements.styles.children.keys())this.removeChild("styles",e);this.container=t;for(const[e,i]of this.styles)this.addStyles(e,i);t.appendChild(this.element),this.sizeMonitor.observe(t,(t=>{this.containerSize=t,this.updateContainerSize(),this.listeners.dispatch("resize",{type:"resize"})})),this.listeners.dispatch("container-changed",{type:"container-changed"})}setThemeClass(t){this.element.classList.forEach((e=>{e.startsWith("ag-charts-theme-")&&e!==t&&this.element.classList.remove(e)})),this.element.classList.add(t)}setTabIndex(t){this.rootElements["series-area"].element.tabIndex=t}updateCanvasLabel(t){rr(this.rootElements["canvas-proxy"].element,"aria-label",t)}getEventElement(t,e){return["focus","blur","keydown","keyup"].includes(e)?this.rootElements["series-area"].element:t}addEventListener(t,e,i){this.getEventElement(this.element,t).addEventListener(t,e,i)}removeEventListener(t,e,i){this.getEventElement(this.element,t).removeEventListener(t,e,i)}getBoundingClientRect(){return this.rootElements.canvas.element.getBoundingClientRect()}getOverlayClientRect(){const t=_t(),e=new ue(0,0,t.innerWidth,t.innerHeight),i=this.getRawOverlayClientRect(),n=ue.fromDOMRect(i??this.getBoundingClientRect());return e.intersection(n)?.toDOMRect()??Nl}getRawOverlayClientRect(){let t=this.element;for(;null!=t;){const e=t.computedStyleMap?.(),i=e?.get("overflow-x")?.toString(),n=e?.get("overflow-y")?.toString();if(null!=i&&"visible"!==i||n&&"visible"!==n)return t.getBoundingClientRect();t=t.parentElement}const e=this.getShadowDocumentRoot();if(e)return e.getBoundingClientRect()}getShadowDocumentRoot(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.container;const e=t?.ownerDocument?.body??Gt("body");for(;null!=t;){if(t===e)return;if(t.parentNode instanceof DocumentFragment)return t;t=t.parentNode}return this.container}getChildBoundingClientRect(t){const{children:e}=this.rootElements[t],i=[];for(const n of e.values())i.push(ue.fromDOMRect(n.getBoundingClientRect()));return ue.merge(i)}calculateCanvasPosition(t){let e=0,i=0;const{x:n=0,y:a=0}=this.getChildBoundingClientRect("canvas")??{},s=t.getBoundingClientRect();return e=s.x-n,i=s.y-a,{x:e,y:i}}isManagedChildDOMElement(t,e,i){const{children:n}=this.rootElements[e],a=n?.get(i);return null!=a&&t.contains(a)}isEventOverElement(t){const e=t.target;return null!=e&&this.element.contains(e)}addStyles(t,e){const i="data-ag-charts";if(this.styles.set(t,e),null==this.container)return;const n=e=>e.getAttribute(i)===t,a=t=>{for(const i of t.children)if(n(i))return;const e=Ut("style");return t.appendChild(e),e};let s;if(this.styleRootElement)s=a(this.styleRootElement);else{s=null!=this.getShadowDocumentRoot(this.container)?this.addChild("styles",t):a(Gt("head"))}null==s||n(s)||(s.setAttribute(i,t),s.innerHTML=e)}removeStyles(t){this.removeChild("styles",t)}updateCursor(t){this.element.style.cursor=t}getCursor(){return this.element.style.cursor}addChild(t,e,i,n){const{element:a,children:s,listeners:r}=this.rootElements[t];if(!s)throw new Error("AG Charts - unable to create DOM elements after destroy()");if(s.has(e))return s.get(e);const{childElementType:o="div"}=wl.get(t)??{};if(i&&i.tagName.toLowerCase()!==o.toLowerCase())throw new Error("AG Charts - mismatching DOM element type");const l=i??Ut(o);for(const[c,u,h]of r)l.addEventListener(c,u,h);if(s.set(e,l),n){const t=a.querySelector(n.query);if(null==t)throw new Error(`AG Charts - addChild query failed ${n.query}`);t.insertAdjacentElement(n.where,l)}else a?.appendChild(l);return l}removeChild(t,e){const{children:i}=this.rootElements[t];i&&(i.get(e)?.remove(),i.delete(e))}incrementDataCounter(t){const{dataset:e}=this.element;e[t]??(e[t]="0"),e[t]=String(Number(e[t])+1)}setDataBoolean(t,e){this.element.dataset[t]=String(e)}getIconClassNames(t){return`ag-charts-icon ag-charts-icon-${t}`}};function kl(t,e,i,n){if(0===t)return function(t,e,i){if(0===t)return function(t,e){const i=-e/t;return 0!==t&&i>=0&&i<=1?[i]:[]}(e,i);const n=e*e-4*t*i,a=[];if(0===n){const i=-e/(2*t);i>=0&&i<=1&&a.push(i)}else if(n>0){const i=Math.sqrt(n),s=(-e-i)/(2*t),r=(-e+i)/(2*t);s>=0&&s<=1&&a.push(s),r>=0&&r<=1&&a.push(r)}return a}(e,i,n);const a=e/t,s=i/t,r=(3*s-a*a)/9,o=(9*a*s-27*(n/t)-2*a*a*a)/54,l=r*r*r+o*o,c=1/3,u=[];if(l>=0){const t=Math.sqrt(l),e=Math.sign(o+t)*Math.pow(Math.abs(o+t),c),i=Math.sign(o-t)*Math.pow(Math.abs(o-t),c),n=Math.abs(Math.sqrt(3)*(e-i)/2),s=-c*a+(e+i);if(s>=0&&s<=1&&u.push(s),0===n){const t=-c*a-(e+i)/2;t>=0&&t<=1&&u.push(t)}}else{const t=Math.acos(o/Math.sqrt(-r*r*r)),e=c*a,i=2*Math.sqrt(-r),n=i*Math.cos(c*t)-e,s=i*Math.cos(c*(t+2*Math.PI))-e,l=i*Math.cos(c*(t+4*Math.PI))-e;n>=0&&n<=1&&u.push(n),s>=0&&s<=1&&u.push(s),l>=0&&l<=1&&u.push(l)}return u}function Al(t,e,i,n,a,s,r,o){const l=(i-t)*(o-s)-(n-e)*(r-a);if(0===l)return 0;const c=((r-a)*(e-s)-(t-a)*(o-s))/l,u=((i-t)*(e-s)-(n-e)*(t-a))/l;return c>=0&&c<=1&&u>=0&&u<=1?1:0}function Cl(t,e,i,n,a,s,r,o,l,c,u,h){let d=0;const p=c-h,g=u-l,f=l*(h-c)-c*(u-l),y=Tl(t,i,a,r),m=Tl(e,n,s,o),x=kl(p*y[0]+g*m[0],p*y[1]+g*m[1],p*y[2]+g*m[2],p*y[3]+g*m[3]+f);for(const b of x){const t=b*b,e=b*t,i=y[0]*e+y[1]*t+y[2]*b+y[3],n=m[0]*e+m[1]*t+m[2]*b+m[3];let a;a=l===u?(n-c)/(h-c):(i-l)/(u-l),a>=0&&a<=1&&d++}return d}function Tl(t,e,i,n){return[3*e-t-3*i+n,3*t-6*e+3*i,-3*t+3*e,t]}function El(t,e,i,n,a,s,r,o,l,c){if(isNaN(t)||isNaN(e))return 0;s&&([a,n]=[n,a]);const u=(c-o)/(l-r),h=o-u*r,d=Math.pow(u,2)+1,p=2*(u*(h-e)-t),g=Math.pow(t,2)+Math.pow(h-e,2)-Math.pow(i,2),f=Math.pow(p,2)-4*d*g;if(f<0)return 0;const y=(-p+Math.sqrt(f))/2/d,m=(-p-Math.sqrt(f))/2/d;let x=0;return[y,m].forEach((i=>{if(!(i>=Math.min(r,l)&&i<=Math.max(r,l)))return;const s=i-t,o=u*i+h-e;rs(Math.atan2(o,s),n,a)&&x++})),x}function Rl(t,e,i,n,a){return(1-a)**3*t+3*(1-a)**2*a*e+3*(1-a)*a**2*i+a**3*n}function Ol(t,e,i,n,a){if(a<=Math.min(t,n))return t<n?0:1;if(a>=Math.max(t,n))return t<n?1:0;let s=0,r=1,o=NaN;for(let l=0;l<12;l+=1){o=(s+r)/2;Rl(t,e,i,n,o)<a?s=o:r=o}return o}function zl(t,e,i,n,a,s,r,o,l){const c=(1-l)*t+l*i,u=(1-l)*e+l*n,h=(1-l)*i+l*a,d=(1-l)*n+l*s,p=(1-l)*a+l*r,g=(1-l)*s+l*o,f=(1-l)*c+l*h,y=(1-l)*u+l*d,m=(1-l)*h+l*p,x=(1-l)*d+l*g,b=(1-l)*f+l*m,v=(1-l)*y+l*x;return[[{x:t,y:e},{x:c,y:u},{x:f,y:y},{x:b,y:v}],[{x:b,y:v},{x:m,y:x},{x:p,y:g},{x:r,y:o}]]}function jl(t,e,i,n){const a=3*e-t-3*i+n,s=3*t-6*e+3*i,r=-3*t+3*e;if(0===a){if(0!==s){const t=-r/s;if(t>0&&t<1)return[t]}return[]}const o=s*s-4*a*r;if(o>=0){const t=Math.sqrt(o);return[(-s+t)/(2*a),(-s-t)/(2*a)].filter((t=>t>0&&t<1))}return[]}function Pl(t,e,i,n,a,s,r,o){return[...jl(t,i,a,r),...jl(e,n,s,o)]}var Bl=class{constructor(){this.path2d=new Path2D,this.previousCommands=[],this.previousParams=[],this.previousClosedPath=!1,this.commands=[],this.params=[],this.openedPath=!1,this.closedPath=!1}isDirty(){return this.closedPath!==this.previousClosedPath||this.previousCommands.length!==this.commands.length||this.previousParams.length!==this.params.length||this.previousCommands.toString()!==this.commands.toString()||this.previousParams.toString()!==this.params.toString()}getPath2D(){return this.path2d}moveTo(t,e){this.openedPath=!0,this.path2d.moveTo(t,e),this.commands.push(0),this.params.push(t,e)}lineTo(t,e){this.openedPath?(this.path2d.lineTo(t,e),this.commands.push(1),this.params.push(t,e)):this.moveTo(t,e)}rect(t,e,i,n){this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+n),this.lineTo(t,e+n),this.closePath()}roundRect(t,e,i,n,a){a=Math.min(a,i/2,n/2),this.moveTo(t,e+a),this.arc(t+a,e+a,a,Math.PI,1.5*Math.PI),this.lineTo(t+a,e),this.lineTo(t+i-a,e),this.arc(t+i-a,e+a,a,1.5*Math.PI,2*Math.PI),this.lineTo(t+i,e+a),this.lineTo(t+i,e+n-a),this.arc(t+i-a,e+n-a,a,0,Math.PI/2),this.lineTo(t+i-a,e+n),this.lineTo(t+a,e+n),this.arc(t+ +a,e+n-a,a,Math.PI/2,Math.PI),this.lineTo(t,e+n-a),this.closePath()}arc(t,e,i,n,a,s){this.openedPath=!0,this.path2d.arc(t,e,i,n,a,s),this.commands.push(2),this.params.push(t,e,i,n,a,s?1:0)}cubicCurveTo(t,e,i,n,a,s){this.openedPath||this.moveTo(t,e),this.path2d.bezierCurveTo(t,e,i,n,a,s),this.commands.push(3),this.params.push(t,e,i,n,a,s)}closePath(){this.openedPath&&(this.path2d.closePath(),this.commands.push(4),this.openedPath=!1,this.closedPath=!0)}clear(t){t&&(this.previousCommands=this.commands,this.previousParams=this.params,this.previousClosedPath=this.closedPath),this.path2d=new Path2D,this.openedPath=!1,this.closedPath=!1,this.commands=[],this.params=[]}isPointInPath(t,e){const i=this.commands,n=this.params,a=i.length,s=-1e4,r=-1e4;let o=NaN,l=NaN,c=0,u=0,h=0;for(let d=0,p=0;d<a;d++)switch(i[d]){case 0:h+=Al(o,l,c,u,s,r,t,e),c=n[p++],o=c,u=n[p++],l=u;break;case 1:h+=Al(c,u,n[p++],n[p++],s,r,t,e),c=n[p-2],u=n[p-1];break;case 3:h+=Cl(c,u,n[p++],n[p++],n[p++],n[p++],n[p++],n[p++],s,r,t,e),c=n[p-2],u=n[p-1];break;case 2:{const i=n[p++],a=n[p++],l=n[p++],d=n[p++],g=n[p++];if(h+=El(i,a,l,d,g,Boolean(n[p++]),s,r,t,e),!isNaN(o)){h+=Al(c,u,i+Math.cos(d)*l,a+Math.sin(d)*l,s,r,t,e)}c=i+Math.cos(g)*l,u=a+Math.sin(g)*l;break}case 4:h+=Al(o,l,c,u,s,r,t,e)}return h%2===1}distanceSquared(t,e){let i=1/0;const n=this.commands,a=this.params,s=n.length;let r=NaN,o=NaN,l=0,c=0;for(let u=0,h=0;u<s;u++)switch(n[u]){case 0:l=r=a[h++],c=o=a[h++];break;case 1:i=fs(t,e,l,c,a[h++],a[h++],i);break;case 3:_.error("Command.Curve distanceSquare not implemented");break;case 2:{const n=a[h++],s=a[h++],r=a[h++],o=a[h++],u=a[h++],d=n+Math.cos(o)*r,p=s+Math.sin(o)*r,g=Boolean(a[h++]);i=fs(t,e,l,c,d,p,i),i=ys(t,e,n,s,r,o,u,g,i),l=n+Math.cos(u)*r,c=s+Math.sin(u)*r;break}case 4:i=fs(t,e,l,c,r,o,i)}return i}getPoints(){const{commands:t,params:e}=this,i=[];let n=0;for(const a of t)switch(a){case 0:case 1:i.push({x:e[n++],y:e[n++]});break;case 3:n+=4,i.push({x:e[n++],y:e[n++]});break;case 2:i.push({x:e[n++],y:e[n++]}),n+=4}return i}toSVG(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(t,e)=>({x:t,y:e});const e=[],{commands:i,params:n}=this,a=function(i){e.push(i);for(let n=0;n<(arguments.length<=1?0:arguments.length-1);n+=2){const{x:i,y:a}=t(n+1<1||arguments.length<=n+1?void 0:arguments[n+1],n+1+1<1||arguments.length<=n+1+1?void 0:arguments[n+1+1]);e.push(i,a)}};let s=0;for(const r of i)switch(r){case 0:a("M",n[s++],n[s++]);break;case 1:a("L",n[s++],n[s++]);break;case 3:a("C",n[s++],n[s++],n[s++],n[s++],n[s++],n[s++]);break;case 2:{const t=n[s++],i=n[s++],r=n[s++],o=n[s++],l=n[s++],c=n[s++];let u=c?o-l:l-o;u<0&&(u+=2*Math.ceil(-u/(2*Math.PI))*Math.PI),c&&(u=-u);const h=Math.max(Math.ceil(Math.abs(u)/(Math.PI/2)),1),d=u/h,p=4/3*Math.tan(d/4);a(0===e.length?"M":"L",t+Math.cos(o)*r,i+Math.sin(o)*r);for(let e=0;e<h;e+=1){const n=o+d*(e+0),s=o+d*(e+1),l=r*Math.sin(n),c=r*Math.cos(n),u=r*Math.sin(s),h=r*Math.cos(s);a("C",t+c-p*l,i+l+p*c,t+h+p*u,i+u-p*h,t+h,i+u)}break}case 4:e.push("Z")}return e.join(" ")}computeBBox(){const{commands:t,params:e}=this;let[i,n,a,s]=[1/0,1/0,-1/0,-1/0],[r,o]=[NaN,NaN],[l,c]=[NaN,NaN];const u=(t,e,l)=>{i=Math.min(e,i),n=Math.min(t,n),a=Math.max(t,a),s=Math.max(e,s),l&&([r,o]=[t,e])};let h=0;for(const d of t)switch(d){case 0:u(e[h++],e[h++],!0),[l,c]=[r,o];break;case 1:u(e[h++],e[h++],!0);break;case 3:{const t=e[h++],i=e[h++],n=e[h++],a=e[h++],s=e[h++],l=e[h++];u(s,l,!0);Pl(r,o,t,i,n,a,s,l).forEach((e=>{const c=Rl(r,t,n,s,e),h=Rl(o,i,a,l,e);u(c,h)}));break}case 2:{const t=e[h++],i=e[h++],n=e[h++];let a=ns(e[h++]),s=ns(e[h++]);e[h++]&&([a,s]=[s,a]);const r=(e,a)=>{const s=t+n*Math.cos(e),r=i+n*Math.sin(e);u(s,r,a)};r(a),r(s,!0);const o=[0,Math.PI/2,Math.PI,3*Math.PI/2];for(const e of o)(a<s&&a<=e&&e<=s||a>s&&(a<=e||e<=s))&&r(e);break}case 4:[r,o]=[l,c]}return new ue(n,i,a-n,s-i)}};function Fl(t){const{redraw:e=3,changeCb:i,convertor:n}=t??{};return de({redraw:e,type:"path",convertor:n,changeCb:i})}var Gl=class extends ws{constructor(){super(...arguments),this.path=new Bl,this._clipX=NaN,this._clipY=NaN,this.clip=!1,this._dirtyPath=!0}set clipX(t){this._clipX=t,this.dirtyPath=!0}set clipY(t){this._clipY=t,this.dirtyPath=!0}set dirtyPath(t){this._dirtyPath!==t&&(this._dirtyPath=t,t&&this.markDirty(3))}get dirtyPath(){return this._dirtyPath}checkPathDirty(){this._dirtyPath||(this.dirtyPath=this.path.isDirty()||(this.fillShadow?.isDirty()??!1)||(this._clipPath?.isDirty()??!1))}isPointInPath(t,e){return this.updatePathIfDirty(),this.path.closedPath&&this.path.isPointInPath(t,e)}distanceSquared(t,e){return this.distanceSquaredTransformedPoint(t,e)}svgPathData(t){return this.dirtyPath&&(this.updatePath(),this.dirtyPath=!1),this.path.toSVG(t)}distanceSquaredTransformedPoint(t,e){return this.updatePathIfDirty(),this.path.closedPath&&this.path.isPointInPath(t,e)?0:this.path.distanceSquared(t,e)}isDirtyPath(){return!1}updatePath(){}updatePathIfDirty(){(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1)}preRender(){return this.updatePathIfDirty(),super.preRender()}render(t){const{ctx:e,forceRender:i,stats:n}=t;if(0!==this.dirty||i){if(!this.clip||isNaN(this._clipX)||isNaN(this._clipY))this._clipPath=void 0,this.drawPath(e);else{e.save();const t=this.strokeWidth/2;this._clipPath??(this._clipPath=new Bl),this._clipPath.clear(),this._clipPath.rect(-t,-t,this._clipX+t,this._clipY+t+t),e.clip(this._clipPath?.getPath2D()),this._clipX>0&&this._clipY>0&&this.drawPath(e),e.restore()}this.fillShadow?.markClean(),super.render(t)}else n&&(n.nodesSkipped+=Oa(this).count)}drawPath(t){this.fillStroke(t,this.path.getPath2D())}toSVG(){if(!this.visible)return;const t=document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttribute("d",this.svgPathData()),t.setAttribute("fill","string"===typeof this.fill?this.fill:"none"),t.setAttribute("fill-opacity",String(this.fillOpacity)),null!=this.stroke&&(t.setAttribute("stroke",this.stroke),t.setAttribute("stroke-opacity",String(this.strokeOpacity)),t.setAttribute("stroke-width",String(this.strokeWidth))),{elements:[t]}}};Gl.className="Path",R([Fl()],Gl.prototype,"clip",2),R([Fl()],Gl.prototype,"clipX",1),R([Fl()],Gl.prototype,"clipY",1);var _l="ag-charts-focus-indicator",Ul=class{constructor(t){this.domManager=t,this.div=Gt().createElement("div"),this.svg=Gt().createElementNS("http://www.w3.org/2000/svg","svg"),this.path=Gt().createElementNS("http://www.w3.org/2000/svg","path"),this.svg.append(this.path),this.element=t.addChild("series-area",_l),this.element.classList.add(_l),this.element.ariaHidden="true",this.element.append(this.svg)}destroy(){this.domManager.removeStyles(_l),this.domManager.removeChild("series-area",_l)}updateBounds(t){if(void 0===t);else if(t instanceof Gl){const e=(e,i)=>Za.toCanvasPoint(t,e,i);this.path.setAttribute("d",t.svgPathData(e)),this.show(this.svg)}else Ht(this.div,t),this.show(this.div)}show(t){this.element.innerHTML="",this.element.append(t)}getFocusableElement(){const t=this.element.parentElement;if(null==t||0!==t.tabIndex&&-1!==t.tabIndex)throw new Error("AG Charts - the focus indicator must be a child of a focusable element");return t}overrideFocusVisible(t){this.getFocusableElement().style.setProperty("opacity",{true:"1",false:"0",undefined:""}[`${t}`])}isFocusVisible(){const t=this.getFocusableElement();return null!=t&&"1"===_t().getComputedStyle(t).opacity}},Yl=class{set textContent(t){this.textElement.textContent=t;const e=this.textElement,i=e.getBBox?.();i&&this.svgElement.setAttribute("viewBox",`${i.x} ${i.y} ${i.width} ${i.height}`)}get textContent(){return this.textElement.textContent}constructor(){this.textElement=Yt("http://www.w3.org/2000/svg","text"),this.textElement.role="presentation",this.svgElement=Yt("http://www.w3.org/2000/svg","svg"),this.svgElement.appendChild(this.textElement),this.svgElement.style.width="100%",this.svgElement.style.opacity="0",this.svgElement.role="presentation",this.boundedContainer=Ut("div"),this.boundedContainer.appendChild(this.svgElement),this.boundedContainer.role="presentation"}remove(){this.boundedContainer.remove()}getContainer(){return this.boundedContainer}updateBounds(t){Ht(this.boundedContainer,t)}};function Vl(t,e){return e.params?.type===t}function Wl(t){const e={params:t,result:void 0};return e.result=function(t){if("button"===t)return Ut("button");if("slider"===t)return Ut("input");if(["toolbar","group","list"].includes(t))return Ut("div");if("text"===t)return new Yl;if("listswitch"===t)return{button:Ut("button"),listitem:Ut("div")};throw Error("AG Charts - error allocating meta")}(e.params.type),e}var Zl=class{constructor(t,e){this.localeManager=t,this.domManager=e,this.destroyFns=[]}destroy(){this.destroyFns.forEach((t=>t()))}addLocalisation(t){t(),this.destroyFns.push(this.localeManager.addListener("locale-changed",t))}createProxyContainer(t){const e=Wl(t),{params:i,result:n}=e;return this.domManager.addChild("canvas-proxy",i.id,n),n.classList.add(...i.classList,"ag-charts-proxy-container"),n.role=i.type,"ariaOrientation"in i&&(n.ariaOrientation=i.ariaOrientation),"boolean"===typeof i.ariaHidden&&(n.ariaHidden=i.ariaHidden.toString()),this.addLocalisation((()=>{n.ariaLabel=this.localeManager.t(i.ariaLabel.id,i.ariaLabel.params)})),n}createProxyElement(t){const e=Wl(t);if(Vl("button",e)){const{params:t,result:i}=e;if(this.initInteract(t,i),i.style.pointerEvents="auto","string"===typeof t.textContent)i.textContent=t.textContent;else{const{textContent:e}=t;this.addLocalisation((()=>{i.textContent=this.localeManager.t(e.id,e.params)}))}this.setParent(t,i)}if(Vl("slider",e)){const{params:t,result:i}=e;this.initInteract(t,i),i.type="range",i.role="presentation",i.style.margin="0px",i.ariaOrientation=t.ariaOrientation,this.addLocalisation((()=>{i.ariaLabel=this.localeManager.t(t.ariaLabel.id,t.ariaLabel.params)})),this.setParent(t,i)}if(Vl("text",e)){const{params:t,result:i}=e;this.initElement(t,i.getContainer()),this.setParent(t,i.getContainer())}if(Vl("listswitch",e)){const{params:t,result:{button:i,listitem:n}}=e;this.initInteract(t,i),i.style.width="100%",i.style.height="100%",i.textContent=t.textContent,i.role="switch",i.ariaChecked=t.ariaChecked.toString(),i.style.pointerEvents="auto",i.setAttribute("aria-describedby",t.ariaDescribedBy),n.role="listitem",n.style.position="absolute",n.replaceChildren(i),this.setParent(t,n)}return e.result}initElement(t,e){const{id:i}=t;e.id=i,e.classList.toggle("ag-charts-proxy-elem",!0)}initInteract(t,e){const{onclick:i,ondblclick:n,onmouseenter:a,onmouseleave:s,oncontextmenu:r,onchange:o,onfocus:l,onblur:c,tabIndex:u}=t;this.initElement(t,e),void 0!==u&&(e.tabIndex=u),i&&e.addEventListener("click",i),n&&e.addEventListener("dblclick",n),a&&e.addEventListener("mouseenter",a),s&&e.addEventListener("mouseleave",s),r&&e.addEventListener("contextmenu",r),l&&e.addEventListener("focus",l),c&&e.addEventListener("blur",c),o&&e.addEventListener("change",o)}setParent(t,e){const{id:i,parent:n}=t;if("string"===typeof n){const t={where:n,query:".ag-charts-series-area"};this.domManager.addChild("canvas-proxy",i,e,t)}else n.appendChild(e)}},Hl=/\$\{(\w+)}(?:\[(\w+)])?/gi,Kl={number:new Intl.NumberFormat("en-US"),percent:new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2}),date:new Intl.DateTimeFormat("en-US",{dateStyle:"full"}),time:new Intl.DateTimeFormat("en-US",{timeStyle:"full"}),datetime:new Intl.DateTimeFormat("en-US",{dateStyle:"full",timeStyle:"full"})},$l=class extends Xo{constructor(){super(...arguments),this.localeText=void 0,this.getLocaleText=void 0}setLocaleText(t){this.localeText!==t&&(this.localeText=t,this.dispatch("locale-changed"))}setLocaleTextFormatter(t){this.getLocaleText=t,this.getLocaleText!==t&&(this.getLocaleText=t,this.dispatch("locale-changed"))}t(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{localeText:i=O,getLocaleText:n}=this,a=i[t];return n?.({key:t,defaultValue:a,variables:e})??(t=>{let{defaultValue:e,variables:i}=t;return e?.replaceAll(Hl,((t,e,n)=>{const a=i[e],s=null!=n?Kl[n]:null;return null!=n&&null==s&&_.warnOnce(`Format style [${n}] is not supported`),null!=s?s.format(a):"number"===typeof a?Kl.number.format(a):a instanceof Date?Kl.datetime.format(a):String(a)}))})({key:t,defaultValue:a,variables:e})??t}};var Ql=class t{constructor(e){this.enabled=!0,this.width=600,this.height=300;const{width:i,height:n,pixelRatio:a,canvasElement:s,willReadFrequently:r=!1}=e;this.pixelRatio=function(){if("undefined"===typeof navigator)return!1;const t=/\(iPhone; CPU iPhone OS (\d+_\d+_\d+) like Mac OS X\)/.exec(navigator.userAgent);if(null==t)return!1;const[e,i]=t[1].split("_").map(Number);return e<16||16===e&&i<6}()?1:a??_t("devicePixelRatio"),this.element=s??Ut("canvas"),this.element.style.display="block",this.element.style.width=(i??this.width)+"px",this.element.style.height=(n??this.height)+"px",this.element.width=Math.round((i??this.width)*this.pixelRatio),this.element.height=Math.round((n??this.height)*this.pixelRatio),this.context=this.element.getContext("2d",{willReadFrequently:r}),this.onEnabledChange(),this.resize(i??0,n??0),t.debugContext(this.context)}static is(e){return e instanceof t}drawImage(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t.drawImage(this.context.canvas,e,i)}toDataURL(t){return this.element.toDataURL(t)}resize(t,e){if(!(t>0&&e>0))return;const{element:i,context:n,pixelRatio:a}=this;i.width=Math.round(t*a),i.height=Math.round(e*a),n.setTransform(a,0,0,a,0,0),i.style.width=t+"px",i.style.height=e+"px",this.width=t,this.height=e}clear(){this.context.save(),this.context.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),this.context.clearRect(0,0,this.width,this.height),this.context.restore()}destroy(){this.element.remove(),this.element.width=0,this.element.height=0,this.context.clearRect(0,0,0,0),Object.freeze(this)}onEnabledChange(){this.element&&(this.element.style.display=this.enabled?"":"none")}static debugContext(t){if(ts.check("canvas")){const e=t.save.bind(t),i=t.restore.bind(t);let n=0;Object.assign(t,{save(){e(),n++},restore(){if(0===n)throw new Error("AG Charts - Unable to restore() past depth 0");i(),n--},verifyDepthZero(){if(0!==n)throw new Error(`AG Charts - Save/restore depth is non-zero: ${n}`)}})}}};R([qs((t=>t.onEnabledChange()))],Ql.prototype,"enabled",2);var Xl=Ql,Jl=class t{constructor(t,e){this.canvas=t,this.markDirty=e,this.debug=ts.create(!0,"scene"),this.layersMap=new Map,this.nextZIndex=0,this.nextLayerId=0}static sortLayers(t,e){return Ra([t.zIndex,...t.zIndexSubOrder??[void 0,void 0],t.id],[e.zIndex,...e.zIndexSubOrder??[void 0,void 0],e.id],Ta)}get size(){return this.layersMap.size}forEach(e){Array.from(this.layersMap.values()).sort(t.sortLayers).forEach(e)}resize(t,e){this.canvas.resize(t,e),this.layersMap.forEach((i=>{let{canvas:n}=i;return n.resize(t,e)}))}addLayer(t){const{width:e,height:i,pixelRatio:n}=this.canvas,{zIndex:a=this.nextZIndex++,name:s,zIndexSubOrder:r,getComputedOpacity:o,getVisibility:l}=t,c=new Xl({width:e,height:i,pixelRatio:n});return a>=this.nextZIndex&&(this.nextZIndex=a+1),this.layersMap.set(c,{id:this.nextLayerId++,name:s,canvas:c,zIndex:a,zIndexSubOrder:r,getComputedOpacity:o,getVisibility:l}),this.debug("Scene.addLayer() - layers",this.layersMap),c}removeLayer(t){this.layersMap.has(t)&&(this.layersMap.delete(t),t.destroy(),this.markDirty(),this.debug("Scene.removeLayer() -  layers",this.layersMap))}moveLayer(t,e,i){const n=this.layersMap.get(t);n&&(n.zIndex=e,n.zIndexSubOrder=i,this.markDirty(),this.debug("Scene.moveLayer() -  layers",this.layersMap))}clear(){this.layersMap.clear()}},ql=class t{constructor(){this.offscreenCanvas="undefined"!==typeof OffscreenCanvas?new OffscreenCanvas(0,0):Ut("canvas"),t.offscreenCanvasCount++;const e=this.offscreenCanvas.getContext("2d");if(null==e)throw new TypeError("AG Charts - invalid 2d context");this.renderCtx={ctx:e,devicePixelRatio:1,forceRender:!0,resized:!1,debugNodes:{}}}resize(t){let{spritePixelRatio:e,spriteWidth:i,spriteHeight:n}=t;this.offscreenCanvas.width=Math.max(i,0)*e,this.offscreenCanvas.height=Math.max(n,0)*e}renderSprite(t,e){t=Ot(t);const{renderCtx:i,renderCtx:{ctx:n},offscreenCanvas:a}=this,{scale:s=1,translateX:r=0,translateY:o=0}=e??{};n.resetTransform(),n.clearRect(0,0,a.width,a.height),n.save(),n.beginPath(),n.setTransform(s,0,0,s,r,o);for(const c of t)c.preRender(),c.render(i);if(n.closePath(),n.restore(),"transferToImageBitmap"in this.offscreenCanvas)return this.offscreenCanvas.transferToImageBitmap();const l=Ut("canvas");return l.style.display="block",l.style.width=a.width+"px",l.style.height=a.height+"px",l.getContext("2d")?.putImageData(n.getImageData(0,0,a.width,a.height),0,0),l}};ql.offscreenCanvasCount=0;var tc=ql;function ec(t,e,i,n){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ue.zero;if(!ts.check("scene:stats","scene:stats:verbose"))return;const{layersRendered:r=0,layersSkipped:o=0,nodesRendered:l=0,nodesSkipped:c=0}=n??{},u=performance.now(),{start:h,...d}=e,p=Object.entries(d).map((t=>{let[e,i]=t;return lc(e,i)})).filter((t=>null!=t)).join(" + "),g=Object.entries(a).map((t=>{let[e,i]=t;return`${e}: ${i}`})).join(" ; "),f=ts.check("scene:stats:verbose"),y=[`${lc("\u23f1\ufe0f",h,u)} (${p})`,`${g}`,`Layers: ${f?oc(r,o):t.size}; Sprites: ${tc.offscreenCanvasCount}`,f?`Nodes: ${oc(l,c)}`:null].filter(_e),m=new Ts((t=>i.measureText(t))),x=new Map(y.map((t=>[t,m.measureLines(t)]))),b=Math.max(...Array.from(x.values(),(t=>t.width))),v=function(t,e){let i=0;for(const n of t)i+=e(n);return i}(x.values(),(t=>t.height)),M=2+s.x;i.save(),i.fillStyle="white",i.fillRect(M,0,b,v),i.fillStyle="black";let S=0;for(const[I,D]of x.entries())S+=D.height,i.fillText(I,M,S);i.restore()}var ic=new Set,nc=new Set(["gradient","zIndex","clipRect","cachedBBox","childNodeCounts","path","__zIndex","name","__scalingCenterX","__scalingCenterY","__rotationCenterX","__rotationCenterY","_previousDatum","__fill","__lineDash","borderPath","borderClipPath","_clipPath"]);function ac(t){const{...e}=t;for(const i in e)nc.has(i)||"number"!==typeof e[i]&&"string"!==typeof e[i]&&"boolean"!==typeof e[i]&&(ic.add(i),delete e[i]);return e}function sc(t,e){if(!ts.check(!0,"scene"))return{};const{parentNode:i}=t;let n=0;return{node:"json"===e?ac(t):t,name:t.name??t.id,dirty:he[t.dirty],...i?.isVirtual?{virtualParentDirty:he[i.dirty],virtualParent:i}:{},...Array.from(t.children(!1),(t=>sc(t,e))).reduce(((t,e)=>{let{name:i}=e;const{node:{visible:a,opacity:s,zIndex:r,zIndexSubOrder:o,translationX:l,translationY:c,rotation:u,scalingX:h,scalingY:d},node:p,virtualParent:g}=e;(!a||s<=0)&&(i=`(${i})`),vr.is(p)&&(i=`*${i}*`);const f=o?.map((t=>"function"===typeof t?`${t()} (fn)`:t)).join(" / "),y=[`${(n++).toString().padStart(3,"0")}|`,`${i??"<unknown>"}`,`z: ${r}`,f&&`zo: ${f}`,g&&"(virtual parent)",l&&`x: ${l}`,c&&`y: ${c}`,u&&`r: ${u}`,null!=h&&1!==h&&`sx: ${h}`,null!=d&&1!==d&&`sy: ${d}`].filter((t=>!!t)).join(" ");let m=y,x=1;for(;null!=t[m]&&x<100;)m=`${y} (${x++})`;return t[m]=e,t}),{})}}function rc(t){if(0===t.dirty)return{dirtyTree:{},paths:[]};const e=Array.from(t.children(),(t=>rc(t))).filter((t=>t.paths.length>0)),i=Ka.is(t)?t.name??t.id:t.id,n=e.length?e.flatMap((t=>t.paths)).map((t=>`${i}.${t}`)):[i];return{dirtyTree:{name:i,node:t,dirty:he[t.dirty],...e.map((t=>t.dirtyTree)).filter((t=>null!=t.dirty)).reduce(((t,e)=>(t[e.name??"<unknown>"]=e,t)),{})},paths:n}}function oc(t,e){const i=t+e;return`${t} / ${i} (${Math.round(100*t/i)}%)`}function lc(t,e,i){const n=null!=i?i-e:e;return`${t}: ${Math.round(100*n)/100}ms`}var cc=class{constructor(t){this.debug=ts.create(!0,"scene"),this.id=Tt(this),this.root=null,this.pendingSize=null,this.isDirty=!1,this.canvas=new Xl(t),this.layersManager=new Jl(this.canvas,(()=>{this.isDirty=!0}))}get width(){return this.pendingSize?.[0]??this.canvas.width}get height(){return this.pendingSize?.[1]??this.canvas.height}setContainer(t){const{element:e}=this.canvas;return e.parentElement?.removeChild(e),t.appendChild(e),this}setRoot(t){return this.root===t||(this.isDirty=!0,this.root?._setLayerManager(),this.root=t,t&&(t.visible=!0,t._setLayerManager(this.layersManager))),this}attachNode(t){return this.appendChild(t),()=>this.removeChild(t)}appendChild(t){return this.root?.appendChild(t),this}removeChild(t){return this.root?.removeChild(t),this}download(t,e){Vt(this.canvas.toDataURL(e),t?.trim()??"image")}getDataURL(t){return this.canvas.toDataURL(t)}resize(t,e){return t=Math.round(t),e=Math.round(e),t>0&&e>0&&(t!==this.width||e!==this.height)&&(this.pendingSize=[t,e],this.isDirty=!0,!0)}async render(t){const{debugSplitTimes:e={start:performance.now()},extraDebugStats:i,seriesRect:n}=t??{},{canvas:a,canvas:{context:s}={},root:r,pendingSize:o}=this;if(!s)return;const l=performance.now();if(o&&(this.layersManager.resize(...o),this.pendingSize=null),r&&!r.visible)return void(this.isDirty=!1);if(r&&!this.isDirty)return this.debug.check()&&this.debug("Scene.render() - no-op",{redrawType:he[r.dirty],tree:sc(r,"console")}),void ec(this.layersManager,e,s,void 0,i,n);const c={ctx:s,devicePixelRatio:this.canvas.pixelRatio??1,forceRender:!0,resized:Boolean(o),debugNodes:{}};ts.check("scene:stats:verbose")&&(c.stats={layersRendered:0,layersSkipped:0,nodesRendered:0,nodesSkipped:0}),function(t){const e=Ti(_t("agChartsSceneDebug")),i=[];for(const n of e)"layout"===n?i.push("seriesRoot","legend","root",/.*Axis-\d+-axis.*/):i.push(n);t.debugNodeSearch=i}(c);let u=!1;if((!r||r.dirty>=1)&&(u=!0,a.clear()),r&&ts.check("scene:dirtyTree")){const{dirtyTree:t,paths:e}=rc(r);ts.create("scene:dirtyTree")("Scene.render() - dirtyTree",{dirtyTree:t,paths:e})}if(r&&u){if(r.visible&&r.preRender(),this.debug.check()){const t=sc(r,"console");this.debug("Scene.render() - before",{redrawType:he[r.dirty],canvasCleared:u,tree:t})}r.visible&&(s.save(),r.render(c),s.restore())}if(e["\u270d\ufe0f"]=performance.now()-l,this.layersManager.size&&u){const t=performance.now();s.save(),s.resetTransform(),this.layersManager.forEach((t=>{t.canvas.enabled&&t.getVisibility()&&(s.globalAlpha=t.getComputedOpacity(),t.canvas.drawImage(s))})),s.restore(),e["\u26d9"]=performance.now()-t}s.verifyDepthZero?.(),this.isDirty=!1,ec(this.layersManager,e,s,c.stats,i,n),function(t,e){t.save();for(const[i,n]of Object.entries(e)){const e=Za.toCanvas(n);e?(t.globalAlpha=.8,t.strokeStyle="red",t.lineWidth=1,t.strokeRect(e.x,e.y,e.width,e.height),t.fillStyle="red",t.strokeStyle="white",t.font="16px sans-serif",t.textBaseline="top",t.textAlign="left",t.lineWidth=2,t.strokeText(i,e.x,e.y,e.width),t.fillText(i,e.x,e.y,e.width)):_.log(`Scene.render() - no bbox for debugged node [${i}].`)}t.restore()}(s,c.debugNodes),r&&this.debug.check()&&this.debug("Scene.render() - after",{redrawType:he[r.dirty],tree:sc(r,"console"),canvasCleared:u})}toSVG(){const t=this.root?.toSVG();if(null==t)return;const e=document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.setAttribute("width",String(this.width)),e.setAttribute("height",String(this.height)),null!=t.defs){const i=document.createElementNS("http://www.w3.org/2000/svg","defs");i.append(...t.defs),e.append(i)}return e.append(...t.elements),e.outerHTML}strip(){const{context:t,pixelRatio:e}=this.canvas;t.setTransform(e,0,0,e,0,0),this.layersManager.clear(),this.setRoot(null),this.isDirty=!1}destroy(){this.strip(),this.canvas.destroy(),Object.assign(this,{canvas:void 0})}};cc.className="Scene";var uc=class{constructor(){this.cache=new WeakMap}call(t){let e,i=this.cache.get(t);for(var n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];try{e=JSON.stringify(a)}catch(r){return this.invoke(t,a,i)}return null==i&&(i=new Map,this.cache.set(t,i)),i.has(e)?i.get(e):this.invoke(t,a,i,e)}invoke(t,e,i,n){try{const a=t(...e);return i&&null!=n&&i.set(n,a),a}catch(a){return void _.warnOnce("User callback errored, ignoring",a)}}invalidateCache(){this.cache=new WeakMap}},hc=class extends Jo{constructor(t){super(),this.annotationRoot=t,this.mementoOriginatorKey="annotations",this.annotations=[]}createMemento(){return this.annotations}guardMemento(t){return Ee(t)}restoreMemento(t,e,i){this.annotations=this.cleanData(i).map((t=>Xe(t,this.getAnnotationTypeStyles(t.type)))),this.listeners.dispatch("restore-annotations",{type:"restore-annotations",annotations:this.annotations})}updateData(t){this.annotations=this.cleanData(t??[])}attachNode(t){return this.annotationRoot.append(t),()=>(this.annotationRoot?.removeChild(t),this)}setAnnotationStyles(t){this.styles=t}getAnnotationTypeStyles(t){return this.styles?.[t]}cleanData(t){for(const e of t)"textAlign"in e&&delete e.textAlign;return t}},dc=class{constructor(t){this.sceneRoot=t,this.axes=new Map,this.axisGridGroup=new vr({name:"Axes-Grids",zIndex:1}),this.axisGroup=new vr({name:"Axes",zIndex:2}),this.sceneRoot.appendChild(this.axisGroup),this.sceneRoot.appendChild(this.axisGridGroup)}updateAxes(t,e){for(const i of t)e.includes(i)||(i.detachAxis(this.axisGroup,this.axisGridGroup),i.destroy());for(const i of e)t?.includes(i)||i.attachAxis(this.axisGroup,this.axisGridGroup);this.axes.clear();for(const i of e){const t=i.createAxisContext();this.axes.has(t.direction)?this.axes.get(t.direction)?.push(t):this.axes.set(t.direction,[t])}}getAxisContext(t){return this.axes.get(t)??[]}destroy(){this.axes.clear(),this.sceneRoot.removeChild(this.axisGroup),this.sceneRoot.removeChild(this.axisGridGroup)}},pc=class extends Xo{constructor(t){super(),this.animationManager=t,this.dispatchOnlyLatest=!0,this.dispatchThrottle=0,this.requestThrottle=300,this.isLoadingInitialData=!1,this.isLoadingData=!1,this.freshRequests=[],this.requestCounter=0,this.debug=ts.create(!0,"data-model","data-source"),this.throttledFetch=this.createThrottledFetch(this.requestThrottle),this.throttledDispatch=this.createThrottledDispatch(this.dispatchThrottle)}updateCallback(t){"function"===typeof t&&(this.debug("DataService - updated data source callback"),this.dataSourceCallback=t,this.isLoadingInitialData=!0,this.animationManager.skip(),this.dispatch("data-source-change"))}clearCallback(){this.dataSourceCallback=void 0}load(t){this.isLoadingData=!0,this.throttledFetch(t)}isLazy(){return null!=this.dataSourceCallback}isLoading(){return this.isLazy()&&(this.isLoadingInitialData||this.isLoadingData)}createThrottledFetch(t){return G((t=>this.fetch(t)),t,{leading:!1,trailing:!0})}createThrottledDispatch(t){return G(((t,e)=>{this.debug(`DataService - dispatching 'data-load' | ${t}`),this.dispatch("data-load",{type:"data-load",data:e})}),t,{leading:!0,trailing:!0})}async fetch(t){if(!this.dataSourceCallback)throw new Error("DataService - [dataSource.getData] callback not initialised");const e=performance.now(),i=this.requestCounter++;let n;this.debug(`DataService - requesting | ${i}`),this.freshRequests.push(i);try{n=await this.dataSourceCallback(t),this.debug(`DataService - response | ${performance.now()-e}ms | ${i}`)}catch(s){this.debug(`DataService - request failed | ${i}`),_.errorOnce(`DataService - request failed | [${s}]`)}this.isLoadingInitialData=!1;const a=this.freshRequests.findIndex((t=>t===i));-1===a||this.dispatchOnlyLatest&&a!==this.freshRequests.length-1?this.debug(`DataService - discarding stale request | ${i}`):(this.freshRequests=this.freshRequests.slice(a+1),0===this.freshRequests.length&&(this.isLoadingData=!1),Array.isArray(n)?this.throttledDispatch(i,n):this.dispatch("data-error"))}};R([Js({newValue(t){this.throttledDispatch=this.createThrottledDispatch(t)}})],pc.prototype,"dispatchThrottle",2),R([Js({newValue(t){this.throttledFetch=this.createThrottledFetch(t)}})],pc.prototype,"requestThrottle",2);var gc=class{constructor(t){this.maxAnimationTime=t,this.debug=ts.create(!0,"animation"),this.controllers=new Map,this.stoppedCbs=new Set,this.currentPhase=0,this.phases=new Map(fi.map((t=>[t,[]]))),this.skipAnimations=!1,this.animationTimeConsumed=0,this.isReady=!1}get size(){return this.controllers.size}get consumedTimeMs(){return this.animationTimeConsumed}isActive(){return this.controllers.size>0}getActiveControllers(){return this.phases.get(fi[this.currentPhase])??[]}checkOverlappingId(t){null!=t&&this.controllers.has(t)&&(this.controllers.get(t).stop(),this.debug(`Skipping animation batch due to update of existing animation: ${t}`),this.skip())}addAnimation(t){if(t.isComplete)return;if(fi.indexOf(t.phase)<this.currentPhase)return this.debug("Skipping animation due to being for an earlier phase",t.id),void t.stop();this.controllers.set(t.id,t),this.phases.get(t.phase)?.push(t)}removeAnimation(t){this.controllers.delete(t.id);const e=this.phases.get(t.phase),i=e?.indexOf(t);null!=i&&i>=0&&e?.splice(i,1)}progress(t){if(!this.isReady)return;let e=0===t?.01:t;const i=()=>{const t=fi[this.currentPhase];return{phaseControllers:[...this.getActiveControllers()],phase:t,phaseMeta:yi[t]}};let{phase:n,phaseControllers:a,phaseMeta:s}=i();const r=()=>null==fi[this.currentPhase],o=()=>{for(({phase:n,phaseControllers:a,phaseMeta:s}=i());!r()&&0===a.length;)this.currentPhase++,({phase:n,phaseControllers:a,phaseMeta:s}=i()),this.debug(`AnimationBatch - phase changing to ${n}`,{unusedTime:e},a)},l=this.controllers.size;this.debug(`AnimationBatch - ${t}ms; phase ${n} with ${a?.length} of ${l}`);do{const t=e,i=s.skipIfNoEarlierAnimations&&0===this.animationTimeConsumed;let n=0;for(const s of a)i?s.stop():e=Math.min(s.update(t),e),s.isComplete&&(n++,this.removeAnimation(s));this.animationTimeConsumed+=t-e,this.debug(`AnimationBatch - updated ${a.length} controllers; ${n} completed`),this.debug(`AnimationBatch - animationTimeConsumed: ${this.animationTimeConsumed}`),o()}while(e>0&&!r());this.animationTimeConsumed>this.maxAnimationTime&&(this.debug("Animation batch exceeded max animation time, skipping",[...this.controllers]),this.stop())}ready(){if(this.isReady)return;this.isReady=!0,this.debug(`AnimationBatch - ready; skipped: ${this.skipAnimations}`,[...this.controllers]);let t=!0;for(const[,e]of this.controllers)if(e.duration>0&&!0!==yi[e.phase].skipIfNoEarlierAnimations){t=!1;break}if(!t)for(const[,e]of this.controllers)e.autoplay&&e.play(!0)}skip(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!1===this.skipAnimations&&!0===t){for(const t of this.controllers.values())t.stop();this.controllers.clear()}this.skipAnimations=t}play(){for(const t of this.controllers.values())t.play()}pause(){for(const t of this.controllers.values())t.pause()}stop(){for(const e of this.controllers.values())try{e.stop(),this.removeAnimation(e)}catch(t){_.error("Error during animation stop",t)}this.dispatchStopped()}stopByAnimationId(t){if(null!=t&&this.controllers.has(t)){const e=this.controllers.get(t);e&&(e.stop(),this.removeAnimation(e))}}stopByAnimationGroupId(t){for(const e of this.controllers.values())e.groupId===t&&this.stopByAnimationId(e.id)}dispatchStopped(){this.stoppedCbs.forEach((t=>t())),this.stoppedCbs.clear()}isSkipped(){return this.skipAnimations}destroy(){this.stop(),this.controllers.clear()}};function fc(t){const e={...t,preventDefault(){e.sourceEvent?.preventDefault()}};return e}function yc(t,e){t.dispatchWrapHandlers(e.type,((t,e)=>t(e)),fc(e))}var mc=["drag-start","drag","drag-end"],xc=[...mc,"click","dblclick","contextmenu","hover","leave","enter","page-left","wheel"],bc=["blur","focus"],vc=["keydown","keyup"],Mc=["mousemove","mouseup"],Sc=["pagehide","mousemove","mouseup"],Ic=["dblclick","contextmenu","mousedown","mouseleave","mouseenter","touchstart","touchmove","touchend","touchcancel","wheel","blur","focus","keydown","keyup"];var Dc=class t extends tl{constructor(t,e){super(),this.keyboardOptions=t,this.domManager=e,this.debug=ts.create(!0,"interaction"),this.eventHandler=t=>this.processEvent(t),this.mouseDown=!1,this.touchDown=!1,this.clickHistory=[{offsetX:NaN,offsetY:NaN,type:"mousedown"}],this.dblclickHistory=[{offsetX:NaN,offsetY:NaN,type:"mousedown"},{offsetX:NaN,offsetY:NaN,type:"mouseup"},{offsetX:NaN,offsetY:NaN,type:"mousedown"}],this.stateQueue=34,this.rootElement=this.domManager.getShadowDocumentRoot();for(const i of Ic)i.startsWith("touch")||"wheel"===i?this.domManager.addEventListener(i,this.eventHandler,{passive:!1}):this.domManager.addEventListener(i,this.eventHandler);for(const i of Sc)_t().addEventListener(i,this.eventHandler);this.containerChanged(!0),this.domManager.addListener("container-changed",(()=>this.containerChanged()))}containerChanged(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const e=this.domManager.getShadowDocumentRoot();if(t||e!==this.rootElement){for(const t of Mc)this.rootElement?.removeEventListener(t,this.eventHandler);this.rootElement=e,this.debug("[InteractionManager] Switching rootElement to:",this.rootElement);for(const t of Mc)this.rootElement?.addEventListener(t,this.eventHandler)}}destroy(){super.destroy();for(const t of Sc)_t().removeEventListener(t,this.eventHandler);for(const t of Mc)this.rootElement?.removeEventListener(t,this.eventHandler);for(const t of Ic)this.domManager.removeEventListener(t,this.eventHandler);this.domManager.removeStyles("interactionManager")}pushState(t){this.stateQueue|=t}popState(t){this.stateQueue&=~t}getState(){return this.stateQueue&-this.stateQueue}processEvent(t){this.debug("Received raw event",t);let e=this.decideInteractionEventTypes(t);null==e||Array.isArray(e)||(e=[e]);for(const i of e??[])this.dispatchEvent(t,i).catch((t=>_.errorOnce(t)))}async dispatchEvent(t,e){if(function(t){return xc.includes(t)}(e))return void this.dispatchPointerEvent(t,e);const{relatedElement:i,targetElement:n}=this.extractElements(t);if(function(t){return bc.includes(t)}(e)){const a=t;this.dispatchTypedEvent(this.listeners,{type:e,sourceEvent:a,relatedElement:i,targetElement:n})}else if(function(t){return vc.includes(t)}(e)){const a=t;this.dispatchTypedEvent(this.listeners,{type:e,sourceEvent:a,relatedElement:i,targetElement:n})}}dispatchTypedEvent(t,e){const i=fc(e);this.debug("Dispatching typed event",i,this.getState()),t.dispatchWrapHandlers(e.type,((t,e)=>t(e)),i)}extractElements(t){let e,i;return"relatedTarget"in t&&t.relatedTarget instanceof HTMLElement&&(e=t.relatedTarget),"target"in t&&t.target instanceof HTMLElement&&(i=t.target),{relatedElement:e,targetElement:i}}dispatchPointerEvent(t,e){const i=this.calculateCoordinates(t);if(null==i)return;const n=this.buildPointerEvent({type:e,event:t,...i});this.debug("Dispatching pointer event",n,this.getState()),yc(this.listeners,n)}getEventHTMLTarget(t){return t.target instanceof HTMLElement?t.target:t.currentTarget instanceof HTMLElement?t.currentTarget:void 0}recordDown(t){t instanceof MouseEvent&&(ai(["offsetX","offsetY"],this.clickHistory[0],t),ai(["offsetX","offsetY"],this.dblclickHistory[2],this.dblclickHistory[0]),ai(["offsetX","offsetY"],this.dblclickHistory[0],t)),this.dragPreStartElement=this.getEventHTMLTarget(t)}recordUp(t){return t instanceof MouseEvent&&ai(["offsetX","offsetY"],this.dblclickHistory[1],t),this.dragPreStartElement=void 0,!!this.dragStartElement&&(this.dragStartElement=void 0,!0)}decideInteractionEventTypes(t){switch(t.type){case"blur":case"focus":case"keydown":case"keyup":return this.keyboardOptions.enabled?t.type:void 0;case"dblclick":case"contextmenu":case"wheel":return t.type;case"mousedown":if(!this.isEventOverElement(t))return;return this.mouseDown=!0,void this.recordDown(t);case"touchstart":if(!this.isEventOverElement(t))return;return this.touchDown=!0,void this.recordDown(t);case"touchmove":case"mousemove":if(!this.mouseDown&&!this.touchDown&&!this.isEventOverElement(t))return;return this.mouseDown||this.touchDown?this.dragStartElement?"drag":(this.dragStartElement=this.dragPreStartElement,this.dragPreStartElement=void 0,["drag-start","drag"]):"hover";case"mouseup":if(!this.mouseDown&&!this.isEventOverElement(t))return;return this.mouseDown=!1,this.recordUp(t)?"drag-end":"click";case"touchend":if(!this.touchDown&&!this.isEventOverElement(t))return;return this.touchDown=!1,this.recordUp(t)?"drag-end":"click";case"mouseleave":case"touchcancel":return"leave";case"mouseenter":return"enter";case"pagehide":return"page-left"}}isEventOverElement(t){return this.domManager.isEventOverElement(t)}calculateCoordinates(e){if(e instanceof MouseEvent)return this.getMouseEventCoords(e);if("undefined"!==typeof TouchEvent&&e instanceof TouchEvent){const i=e.touches[0]??e.changedTouches[0],{clientX:n,clientY:a,pageX:s,pageY:r}=i;return{...t.NULL_COORDS,clientX:n,clientY:a,pageX:s,pageY:r}}if(e instanceof PageTransitionEvent){if(e.persisted)return;return t.NULL_COORDS}}getMouseEventCoords(t){const{clientX:e,clientY:i,pageX:n,pageY:a}=t;let{offsetX:s,offsetY:r}=t;const o=this.getEventHTMLTarget(t),{x:l=0,y:c=0}=o?this.domManager.calculateCanvasPosition(o):{};if(null!=this.dragStartElement&&t.target!==this.dragStartElement){const t=this.domManager.calculateCanvasPosition(this.dragStartElement);s-=t.x-l,r-=t.y-c}else s+=l,r+=c;return{clientX:e,clientY:i,pageX:n,pageY:a,offsetX:s,offsetY:r}}isWheelEvent(t){return"wheel"===t.type}buildPointerEvent(t){const{type:e,event:i,clientX:n,clientY:a}=t;let{offsetX:s,offsetY:r,pageX:o,pageY:l}=t;if(!Ye(s)||!Ye(r)){const t=this.domManager.getBoundingClientRect();s=n-t.left,r=a-t.top}if(!Ye(o)||!Ye(l)){const t=this.rootElement?.getBoundingClientRect();o=n-(t?.left??0),l=a-(t?.top??0)}let[c,u]=[NaN,NaN];if(this.isWheelEvent(i)){const t=0===i.deltaMode?.01:1;c=i.deltaX*t,u=i.deltaY*t}let h=[];"click"===i.type?h=this.clickHistory:"dblclick"===i.type&&(h=this.dblclickHistory);const{relatedElement:d,targetElement:p}=this.extractElements(i),g={type:e,offsetX:s,offsetY:r,pageX:o,pageY:l,deltaX:c,deltaY:u,button:"button"in i?Number(i.button):0,pointerHistory:h,sourceEvent:i,relatedElement:d,targetElement:p};return this.debug("InteractionManager - builtEvent: ",g,this.getState()),g}};Dc.NULL_COORDS={clientX:-1/0,clientY:-1/0,pageX:-1/0,pageY:-1/0,offsetX:-1/0,offsetY:-1/0};var wc=Dc;function Nc(t){return null==t||!isNaN(t)&&t>=0&&t<=2}var Lc=class{constructor(t,e){this.interactionManager=t,this.chartUpdateMutex=e,this.defaultDuration=1e3,this.batch=new gc(1.5*this.defaultDuration),this.debug=ts.create(!0,"animation"),this.events=new Zo,this.rafAvailable="undefined"!==typeof requestAnimationFrame,this.isPlaying=!0,this.requestId=null,this.skipAnimations=!0,this.currentAnonymousAnimationId=0}addListener(t,e){return this.events.on(t,e)}animate(t){const e=this.batch;try{e.checkOverlappingId(t.id)}catch(o){return void this.failsafeOnError(o)}let{id:i}=t;null==i&&(i=`__${this.currentAnonymousAnimationId}`,this.currentAnonymousAnimationId+=1);const n=this.isSkipped()||"none"===t.phase;n&&this.debug("AnimationManager - skipping animation");const{delay:a,duration:s}=t;if(!Nc(a))throw new Error(`Animation delay of ${a} is unsupported (${i})`);if(!Nc(s))throw new Error(`Animation duration of ${s} is unsupported (${i})`);const r=new vi({...t,id:i,skip:n,autoplay:!!this.isPlaying&&t.autoplay,phase:t.phase,defaultDuration:this.defaultDuration});if(!this.forceTimeJump(r,this.defaultDuration))return this.batch.addAnimation(r),r}play(){if(!this.isPlaying){this.isPlaying=!0,this.debug("AnimationManager.play()");try{this.batch.play()}catch(t){this.failsafeOnError(t)}this.requestAnimation()}}pause(){if(this.isPlaying){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.pause()");try{this.batch.pause()}catch(t){this.failsafeOnError(t)}}}stop(){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.stop()"),this.batch.stop()}stopByAnimationId(t){try{this.batch.stopByAnimationId(t)}catch(e){this.failsafeOnError(e)}}stopByAnimationGroupId(t){try{this.batch.stopByAnimationGroupId(t)}catch(e){this.failsafeOnError(e)}}reset(){this.isPlaying?(this.stop(),this.play()):this.stop()}skip(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.skipAnimations=t}isSkipped(){return!this.rafAvailable||this.skipAnimations||this.batch.isSkipped()}isActive(){return this.isPlaying&&this.batch.isActive()}skipCurrentBatch(){this.debug.check()&&this.debug("AnimationManager - skipCurrentBatch()",{stack:(new Error).stack}),this.batch.skip()}isSkippingFrames(){return!0}scheduleAnimationFrame(t){this.requestId=_t().requestAnimationFrame(t)}forceTimeJump(t,e){return!1}requestAnimation(){if(!this.rafAvailable)return;if(!this.batch.isActive()||null!==this.requestId)return;let t;const e=async i=>{const n=async()=>{const e=i-(t??i);t=i,this.debug("AnimationManager - onAnimationFrame()",{controllersCount:this.batch.size,deltaTime:e}),this.interactionManager.pushState(2);try{this.batch.progress(e)}catch(n){this.failsafeOnError(n)}this.events.emit("animation-frame",{type:"animation-frame",deltaMs:e})};this.isSkippingFrames()?await this.chartUpdateMutex.acquireImmediately(n):await this.chartUpdateMutex.acquire(n),this.batch.isActive()?this.scheduleAnimationFrame(e):(this.batch.stop(),this.events.emit("animation-stop",{type:"animation-stop",deltaMs:this.batch.consumedTimeMs}))};this.events.emit("animation-start",{type:"animation-start",deltaMs:0}),this.scheduleAnimationFrame(e)}cancelAnimation(){null!==this.requestId&&(cancelAnimationFrame(this.requestId),this.requestId=null,this.startBatch())}failsafeOnError(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];_.error("Error during animation, skipping animations",t),e&&this.cancelAnimation()}startBatch(t){this.debug(`AnimationManager - startBatch() with skipAnimations=${t}.`),this.reset(),this.batch.destroy(),this.batch=new gc(1.5*this.defaultDuration),!0===t&&this.batch.skip()}endBatch(){this.batch.isActive()?(this.batch.ready(),this.requestAnimation()):(this.interactionManager.popState(2),this.batch.isSkipped()&&this.batch.skip(!1))}onBatchStop(t){this.batch.stoppedCbs.add(t)}destroy(){this.stop(),this.events.clear()}},kc=class extends Jo{legendItemClick(t,e,i,n){const a={type:"legend-item-click",series:t,itemId:e,enabled:i,legendItemName:n};this.listeners.dispatch("legend-item-click",a)}legendItemDoubleClick(t,e,i,n,a){const s={type:"legend-item-double-click",series:t,itemId:e,enabled:i,legendItemName:a,numVisibleItems:n};this.listeners.dispatch("legend-item-double-click",s)}axisHover(t,e){const i={type:"axis-hover",axisId:t,direction:e};this.listeners.dispatch("axis-hover",i)}},Ac=class t{constructor(t){this.defaultActions=[],this.disabledActions=new Set,this.hiddenActions=new Set,this.listeners=new Xo;const{Default:e,ContextMenu:i}=qo;this.destroyFns=[t.listenAll("contextmenu",(t=>this.onContextMenu(t)),e|i)]}destroy(){this.destroyFns.forEach((t=>t()))}onContextMenu(e){"all"===t.toContextType(e.region)&&this.dispatchContext("all",e,{})}static toContextType(t){return"legend"===t||"series"===t?t:"all"}static check(t,e){return e.type===t}static checkCallback(t,e,i){return t===e}dispatchContext(t,e,i,n){const{sourceEvent:a}=e,s=n?.x??e.offsetX,r=n?.y??e.offsetY;a.stopPropagation(),this.listeners.dispatch("",fc({type:t,x:s,y:r,context:i,sourceEvent:a}))}addListener(t){return this.listeners.addListener("",t)}filterActions(t){return this.defaultActions.filter((e=>e.id&&!this.hiddenActions.has(e.id)&&["all",t].includes(e.type)))}registerDefaultAction(t){const e=null!=t.id&&!this.defaultActions.some((e=>{let{id:i}=e;return i===t.id}));return e&&this.defaultActions.push(t),()=>{const i=e?this.defaultActions.findIndex((e=>{let{id:i}=e;return i===t.id})):-1;-1!==i&&this.defaultActions.splice(i,1)}}enableAction(t){this.disabledActions.delete(t)}disableAction(t){this.disabledActions.add(t)}showAction(t){this.hiddenActions.add(t)}hideAction(t){this.hiddenActions.delete(t)}isDisabled(t){return this.disabledActions.has(t)}},Cc=class extends Map{constructor(t,e){super(),this.defaultValue=t,this.defaultState=e}set(t,e){return this.delete(t),"undefined"!==typeof e&&super.set(t,e),this}stateId(){return Array.from(this.keys()).pop()??this.defaultState}stateValue(){return Array.from(this.values()).pop()??this.defaultValue}},Tc=(t=>(t.Auto="auto",t.Default="default",t.Grab="grab",t.Grabbing="grabbing",t.Move="move",t.NotAllowed="not-allowed",t.Pointer="pointer",t.EWResize="ew-resize",t.NSResize="ns-resize",t.ZoomIn="zoom-in",t.ZoomOut="zoom-out",t))(Tc||{}),Ec=class{constructor(t){this.domManager=t,this.stateTracker=new Cc("default")}updateCursor(t,e){this.stateTracker.set(t,e),this.domManager.updateCursor(this.stateTracker.stateValue())}getCursor(){return this.domManager.getCursor()}};function Rc(t,e){return Math.sqrt(function(t,e){const i=t.screenX-e.screenX,n=t.screenY-e.screenY;return i*i+n*n}(t,e))}var Oc=class extends Jo{constructor(t){super(),this.domManager=t,this.touchstart=t=>this.onTouchStart(t),this.touchmove=t=>this.onTouchMove(t),this.touchend=t=>this.onTouchEnd(t),this.touchcancel=t=>this.onTouchCancel(t),this.pinch={finger1:{identifier:NaN,screenX:NaN,screenY:NaN},finger2:{identifier:NaN,screenX:NaN,screenY:NaN},origin:{x:NaN,y:NaN},distance:NaN,status:0},this.domManager.addEventListener("touchstart",this.touchstart,{passive:!0}),this.domManager.addEventListener("touchmove",this.touchmove,{passive:!1}),this.domManager.addEventListener("touchend",this.touchend),this.domManager.addEventListener("touchcancel",this.touchcancel)}destroy(){this.domManager.removeEventListener("touchstart",this.touchstart),this.domManager.removeEventListener("touchmove",this.touchmove),this.domManager.removeEventListener("touchend",this.touchend),this.domManager.removeEventListener("touchcancel",this.touchcancel)}findPinchTouches(t){const{touches:e}=t,{finger1:i,finger2:n}=this.pinch;if(0!==this.pinch.status&&2===e.length){if(e[0].identifier===i.identifier&&e[1].identifier===n.identifier)return[e[0],e[1]];if(e[0].identifier===n.identifier&&e[1].identifier===i.identifier)return[e[1],e[0]]}}copyTouchData(t){const e=["identifier","screenX","screenY"];ai(e,this.pinch.finger1,t.touches[0]),ai(e,this.pinch.finger2,t.touches[1]),this.pinch.distance=Rc(this.pinch.finger1,this.pinch.finger2)}dispatchPinchEvent(t,e,i){const{finger1:n,finger2:a,origin:s}=this.pinch;this.listeners.dispatch(t,fc({sourceEvent:i,type:t,finger1:n,finger2:a,deltaDistance:e,origin:s}))}onTouchStart(t){this.stopPinchTracking(t);const{pinch:e}=this;2===t.touches.length&&(e.status=1,this.copyTouchData(t),e.origin.x=(t.touches[0].clientX+t.touches[1].clientX)/2,e.origin.y=(t.touches[0].clientY+t.touches[1].clientY)/2)}onTouchMove(t){const e=this.findPinchTouches(t);if(void 0!==e){const[i,n]=e,{pinch:a}=this,s=Rc(i,n),r=s-a.distance;1===a.status?Math.abs(r)>1&&(a.status=2,this.copyTouchData(t),this.dispatchPinchEvent("pinch-start",0,t)):2===a.status?(a.distance=s,this.copyTouchData(t),this.dispatchPinchEvent("pinch-move",r,t)):_.error(`unexpected pinch.status: ${a.status}`)}}onTouchEnd(t){this.stopPinchTracking(t)}onTouchCancel(t){this.stopPinchTracking(t)}stopPinchTracking(t){const{pinch:e}=this;2===e.status&&this.dispatchPinchEvent("pinch-end",0,t),this.pinch.status=0}},zc=class extends Jo{constructor(){super(...arguments),this.highlightStates=new Cc}updateHighlight(t,e){const{activeHighlight:i}=this;this.highlightStates.set(t,e),this.activeHighlight=this.highlightStates.stateValue(),this.isEqual(this.activeHighlight,i)||this.listeners.dispatch("highlight-change",{type:"highlight-change",currentHighlight:this.activeHighlight,previousHighlight:i,callerId:t})}getActiveHighlight(){return this.activeHighlight}isEqual(t,e){return t===e||null!=t&&null!=e&&t?.series===e?.series&&t?.itemId===e?.itemId&&t?.datum===e?.datum}},jc=class extends tl{constructor(t,e,i){super(),this.focusIndicator=t,this.interactionManager=e,this.previousInputDevice="keyboard";this.destroyFns.push(e.addListener("click",(()=>this.onClick()),41),e.addListener("hover",(()=>this.onMouse()),41),e.addListener("drag-start",(()=>this.onMouse()),41),e.addListener("blur",(t=>this.onBlur(t)),63),e.addListener("focus",(t=>this.onFocus(t)),63),e.addListener("keydown",(t=>this.onKeyDown(t)),63)),this.focusIndicator.overrideFocusVisible("integrated"!==i&&void 0)}getState(){return this.interactionManager.getState()}destroy(){super.destroy()}onClick(){this.focusIndicator.overrideFocusVisible(!1),this.previousInputDevice="mouse"}onMouse(){this.previousInputDevice="mouse"}onBlur(t){this.focusIndicator.overrideFocusVisible(void 0),this.dispatch("blur",0,t)}onFocus(t){this.dispatch("focus",0,t)}onKeyDown(t){const e=this.getState(),{key:i,code:n,altKey:a,shiftKey:s,metaKey:r,ctrlKey:o}=t.sourceEvent;if(o||r){if("y"===i||"z"===i&&s)return this.focusIndicator.overrideFocusVisible("keyboard"===this.previousInputDevice),this.dispatch("redo",0,t);if("z"===i)return this.focusIndicator.overrideFocusVisible("keyboard"===this.previousInputDevice),this.dispatch("undo",0,t)}if(9&e)this.focusIndicator.overrideFocusVisible(!1);else{switch(i){case"+":return this.dispatch("nav-zoom",1,t);case"-":return this.dispatch("nav-zoom",-1,t)}if(!(a||s||r||o))switch(this.focusIndicator.overrideFocusVisible(!0),n){case"ArrowDown":return this.dispatch("nav-vert",1,t);case"ArrowUp":return this.dispatch("nav-vert",-1,t);case"ArrowLeft":return this.dispatch("nav-hori",-1,t);case"ArrowRight":return this.dispatch("nav-hori",1,t);case"ZoomIn":case"Add":return this.dispatch("nav-zoom",1,t);case"ZoomOut":case"Substract":return this.dispatch("nav-zoom",-1,t);case"Space":case"Enter":return this.dispatch("submit",0,t)}}}dispatch(t,e,i){const{previousInputDevice:n}=this;yc(this.listeners,{type:t,delta:e,sourceEvent:i,previousInputDevice:n});"keydown"!==i.type||["redo","undo","nav-zoom"].includes(t)||(this.previousInputDevice="keyboard")}},Pc=(t=>(t.NAVIGATOR="navigator",t.ROOT="root",t.SERIES="series",t.HORIZONTAL_AXES="horizontal-axes",t.VERTICAL_AXES="vertical-axes",t))(Pc||{}),Bc=class{constructor(t,e){this.node=t,this.overrideId=e}get id(){return this.overrideId??this.node.id}get visible(){return this.node.visible}toCanvasBBox(){return Za.toCanvas(this.node)}fromCanvasPoint(t,e){return Za.fromCanvasPoint(this.node,t,e)}},Fc=class extends Bc{constructor(t,e,i){super(t,i),this.bboxFn=e}toCanvasBBox(){return this.bboxFn()}},Gc=class extends Xo{};function _c(t,e,i,n){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:32;return t?.addListener(i,(t=>{e.getState()&a&&n(t)}))??(()=>{})}function Uc(t){return t instanceof ye?new Bc(t):t instanceof Bc?t:new Bc(t.node,t.id)}function Yc(t){const{type:e,sourceEvent:i}=t,{id:n,className:a,classList:s,ariaHidden:r}=i?.target??{};if(!(s instanceof DOMTokenList))return"leave";const o=mc;return s.contains("ag-charts-annotations__axis-button-icon")&&!o.includes(e)||"ag-charts-series-area"===a||"ag-charts-canvas-proxy"===a||"ag-charts-proxy-elem"===a&&!n?.toString().startsWith("ag-charts-legend-item-")||i?.target instanceof HTMLCanvasElement?"none":function(t){if(null==t||!(t instanceof HTMLElement))return;let e=t;for(;null!=e&&!e?.classList.contains("ag-charts-wrapper");){if(e.classList.contains("ag-chart-tooltip"))return e;e=e.parentElement}}(i.target)&&"true"!==r?"wait":"leave"}var Vc=class{constructor(t){this.interactionManager=t,this.debug=ts.create(!0,"region"),this.isDragging=!1,this.leftCanvas=!1,this.regions=new Map,this.destroyFns=[],this.allRegionsListeners=new Gc,this.destroyFns.push(...xc.map((e=>t.addListener(e,this.processPointerEvent.bind(this),63))))}destroy(){this.destroyFns.forEach((t=>t())),this.current=void 0;for(const t of this.regions.values())t.listeners.destroy();this.regions.clear()}addRegion(t){if(this.regions.has(t))throw new Error(`AG Charts - Region: ${t} already exists`);for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];const a={properties:{name:t,bboxproviders:i.map(Uc)},listeners:new Gc};return this.regions.set(t,a),this.makeObserver(a)}updateRegion(t){const e=this.regions.get(t);if(!e)throw new Error("AG Charts - unknown region: "+t);for(var i=arguments.length,n=new Array(i>1?i-1:0),a=1;a<i;a++)n[a-1]=arguments[a];e.properties.bboxproviders=n.map(Uc)}getRegion(t){return this.makeObserver(this.regions.get(t))}listenAll(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32;return _c(this.allRegionsListeners,this.interactionManager,t,e,i)}makeObserver(t){const{interactionManager:e}=this;return new class{addListener(i,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32;return _c(t?.listeners,e,i,n,a)}}}checkPointerHistory(t,e){for(const i of e.pointerHistory){const{region:e}=this.pickRegion(i.offsetX,i.offsetY)??{};if(t.properties.name!==e?.properties.name)return!1}return!0}dispatch(t,e){if(null==t)return;const i=t.region.properties.bboxproviders[0];let n=0,a=0;if("offsetX"in e&&"offsetY"in e)({x:n,y:a}=i.fromCanvasPoint(e.offsetX,e.offsetY));else{const t=i.toCanvasBBox();n=t.width/2,a=t.height/2}const s=fc({...e,region:t.region.properties.name,bboxProviderId:t.bboxProvider?.id,regionOffsetX:n,regionOffsetY:a});this.debug("Dispatching region event: ",s),this.allRegionsListeners.dispatch(s.type,s),t.region.listeners.dispatch(s.type,s)}handleDragging(t){const{current:e}=this;switch(t.type){case"drag-start":this.isDragging=!0,this.leftCanvas=!1;break;case"leave":return this.leftCanvas=!0,this.isDragging;case"enter":return this.leftCanvas=!1,this.isDragging;case"drag":if(this.isDragging)return this.dispatch(e,t),!0;break;case"drag-end":if(this.isDragging)return this.isDragging=!1,this.dispatch(e,t),this.leftCanvas&&this.dispatch(e,{...t,type:"leave"}),!0}return!1}processPointerEvent(t){if(this.handleDragging(t))return;const{current:e}=this;let i;switch(Yc(t)){case"wait":return;case"none":i=this.pickRegion(t.offsetX,t.offsetY);break;case"leave":i=void 0}const n=i?.region;void 0!==e&&n?.properties.name!==e.region.properties.name&&this.dispatch(e,{...t,type:"leave"}),void 0!==n&&n.properties.name!==e?.region.properties.name&&this.dispatch(i,{...t,type:"enter"}),void 0!==n&&this.checkPointerHistory(n,t)&&this.dispatch(i,t),this.current=i}pickRegion(t,e){let i,n,a=1/0;for(const s of this.regions.values())for(const r of s.properties.bboxproviders){if(!1===r.visible)continue;const o=r.toCanvasBBox(),l=o.width*o.height;l<a&&o.containsPoint(t,e)&&(a=l,i=s,n=r)}return i?{region:i,bboxProvider:n}:void 0}},Wc=["start","center","end"],Zc=["seriesType","annotations","annotationOptions","ranges","zoom"],Hc={seriesType:0,annotations:1,annotationOptions:2,ranges:3,zoom:4},Kc=(t=>(t.Top="top",t.Left="left",t.Right="right",t.Bottom="bottom",t.Floating="floating",t.FloatingTop="floating-top",t.FloatingBottom="floating-bottom",t))(Kc||{}),$c=Object.values(Kc);function Qc(t){return["floating-top","floating-bottom"].includes(t)}var Xc=class extends Jo{static isGroup(t,e){return e.group===t}static isChildElement(t,e){for(const i of $c)if(t.isManagedChildDOMElement(e,"canvas-overlay",`toolbar-${i}`))return!0;return!1}pressButton(t,e,i,n,a){this.listeners.dispatch("button-pressed",{type:"button-pressed",group:t,id:e,value:i,rect:n,sourceEvent:a})}cancel(t){this.listeners.dispatch("cancelled",{type:"cancelled",group:t})}toggleButton(t,e,i){const{active:n=!1,enabled:a=!0,visible:s=!0,checked:r=!1}=i;this.listeners.dispatch("button-toggled",{type:"button-toggled",group:t,id:e,active:n,enabled:a,visible:s,checked:r})}updateButton(t,e,i){this.listeners.dispatch("button-updated",{type:"button-updated",group:t,id:e,...i})}toggleGroup(t,e,i){const{active:n,visible:a}=i;this.listeners.dispatch("group-toggled",{type:"group-toggled",caller:t,group:e,active:n,visible:a})}updateGroup(t){this.listeners.dispatch("group-updated",{type:"group-updated",group:t})}groupMoved(t){this.listeners.dispatch("group-moved",{type:"group-moved",group:t})}changeFloatingAnchor(t,e){this.listeners.dispatch("floating-anchor-changed",{type:"floating-anchor-changed",group:t,anchor:e})}buttonMoved(t,e,i,n){this.listeners.dispatch("button-moved",{type:"button-moved",group:t,value:e,rect:i,groupRect:n})}proxyGroupOptions(t,e,i){this.listeners.dispatch("proxy-group-options",{type:"proxy-group-options",caller:t,group:e,options:i})}},Jc=class{constructor(t,e){this.domManager=t,this.tooltip=e,this.stateTracker=new Cc,this.suppressState=new Cc(!1),this.appliedState=null,e.setup(t),t.addListener("hidden",(()=>this.tooltip.toggle(!1)))}updateTooltip(t,e,i){this.tooltip.enabled&&(i??(i=this.stateTracker.get(t)?.content),this.stateTracker.set(t,{content:i,meta:e}),this.applyStates())}removeTooltip(t){this.tooltip.enabled&&(this.stateTracker.delete(t),this.applyStates())}suppressTooltip(t){this.suppressState.set(t,!0)}unsuppressTooltip(t){this.suppressState.delete(t)}getTooltipMeta(t){return this.stateTracker.get(t)?.meta}destroy(){this.domManager.removeStyles("tooltip")}applyStates(){const t=this.stateTracker.stateId(),e=t?this.stateTracker.get(t):null;if(this.suppressState.stateValue()||null==e?.meta||null==e?.content)return this.appliedState=null,void this.tooltip.toggle(!1);const i=this.domManager.getBoundingClientRect(),n="extended"===this.tooltip.bounds?this.domManager.getOverlayClientRect():i;if(this.appliedState?.content===e?.content){const t=this.tooltip.isVisible();this.tooltip.show(n,i,e?.meta,null,t)}else this.tooltip.show(n,i,e?.meta,e?.content);this.appliedState=e}static makeTooltipMeta(t,e){const{offsetX:i,offsetY:n}=t,a=e.series.properties.tooltip,s={offsetX:i,offsetY:n,enableInteraction:a.interaction?.enabled??!1,lastPointerEvent:{type:t.type,offsetX:i,offsetY:n},showArrow:a.showArrow,position:{type:a.position.type,xOffset:a.position.xOffset,yOffset:a.position.yOffset}},r=e.yBar?.upperPoint??e.midPoint??e.series.datumMidPoint?.(e);if(("node"===a.position.type||"sparkline"===a.position.type)&&r){const{x:t,y:i}=r,n=Za.toCanvasPoint(e.series.contentGroup,t,i);return{...s,offsetX:Math.round(n.x),offsetY:Math.round(n.y)}}return s}},qc=class extends Jo{constructor(){super(...arguments),this.mementoOriginatorKey="zoom",this.axisZoomManagers=new Map,this.state=new Cc(void 0,"initial"),this.rejectCallbacks=new Map}addLayoutListeners(t){this.destroyFns.push(t.addListener("layout:complete",(t=>{this.axes=t.axes})))}createMemento(){const t=this.getDefinedZoom();return{rangeX:this.getRangeDirection(t,"x"),rangeY:this.getRangeDirection(t,"y"),ratioX:{start:t.x.min,end:t.x.max},ratioY:{start:t.y.min,end:t.y.max}}}guardMemento(t){return Be(t)&&(null!=t.ratioX||null!=t.ratioY||null!=t.rangeX||null!=t.rangeY)}restoreMemento(t,e,i){this.listeners.dispatch("restore-zoom",{...i,type:"restore-zoom"})}updateAxes(t){const e=new Map(t.map((t=>[t.id,this.axisZoomManagers.get(t.id)])));this.axisZoomManagers.clear();for(const i of t)this.axisZoomManagers.set(i.id,e.get(i.id)??new tu(i));this.state.size>0&&t.length>0&&this.updateZoom(this.state.stateId(),this.state.stateValue())}updateZoom(t,e){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3?arguments[3]:void 0;if(n&&this.rejectCallbacks.set(t,n),0!==this.axisZoomManagers.size)this.state.set(t,e),this.axisZoomManagers.forEach((i=>{i.updateZoom(t,e?.[i.getDirection()])})),this.applyChanges(t);else{const a=this.state.stateId();"initial"===a||a===t||i?(this.state.set(t,e),a!==t&&this.rejectCallbacks.get(a)?.(t)):n?.(a)}}updateAxisZoom(t,e,i){this.axisZoomManagers.get(e)?.updateZoom(t,i),this.applyChanges(t)}fireZoomPanStartEvent(t){this.listeners.dispatch("zoom-pan-start",{type:"zoom-pan-start",callerId:t})}getZoom(){let t,e;if(this.axisZoomManagers.forEach((i=>{"x"===i.getDirection()?t??(t=i.getZoom()):"y"===i.getDirection()&&(e??(e=i.getZoom()))})),t||e)return{x:t,y:e}}getAxisZoom(t){return this.axisZoomManagers.get(t)?.getZoom()??{min:0,max:1}}getAxisZooms(){const t={};for(const[e,i]of this.axisZoomManagers.entries())t[e]={direction:i.getDirection(),zoom:i.getZoom()};return t}applyChanges(t){if(!Array.from(this.axisZoomManagers.values(),(t=>t.applyChanges())).some(Boolean))return;const e={};for(const[i,n]of this.axisZoomManagers.entries())e[i]=n.getZoom();this.listeners.dispatch("zoom-change",{type:"zoom-change",...this.getZoom(),axes:e,callerId:t})}getRangeDirection(t,e){for(const i of this.axes??[]){if(i.direction!==e)continue;const n=i.scale.getDomain?.(),a=i.scale.convert?.(n?.at(0)),s=i.scale.convert?.(n?.at(-1));if(!Ye(a)||!Ye(s))return;let r,o;if(a<=s){const n=s-a;r=i.scale.invert?.(0),o=i.scale.invert?.(a+n*t[e].max)}else{const n=a-s;r=i.scale.invert?.(a-n*t[e].min),o=i.scale.invert?.(0)}return{start:r,end:o}}}getDefinedZoom(){const t=this.getZoom();return{x:{min:t?.x?.min??0,max:t?.x?.max??1},y:{min:t?.y?.min??0,max:t?.y?.max??1}}}},tu=class{constructor(t){this.axis=t;const[e=0,i=1]=t.visibleRange;this.state=new Cc({min:e,max:i}),this.currentZoom=this.state.stateValue()}getDirection(){return this.axis.direction}updateZoom(t,e){this.state.set(t,e)}getZoom(){return Ys(this.state.stateValue())}applyChanges(){const t=this.currentZoom;return this.currentZoom=this.state.stateValue(),t.min!==this.currentZoom.min||t.max!==this.currentZoom.max}},eu=class{constructor(){this.groups={}}registerSeries(t){let{internalId:e,seriesGrouping:i,visible:n,type:a}=t;var s;i&&((s=this.groups)[a]??(s[a]={}),this.groups[a][e]={grouping:i,visible:n})}updateSeries(t){let{internalId:e,seriesGrouping:i,visible:n,type:a}=t;if(!i)return;const s=this.groups[a]?.[e];s&&(s.grouping=i,s.visible=n)}deregisterSeries(t){let{internalId:e,type:i}=t;this.groups[i]&&delete this.groups[i][e],this.groups[i]&&0===Object.keys(this.groups[i]).length&&delete this.groups[i]}getVisiblePeerGroupIndex(t){let{type:e,seriesGrouping:i,visible:n}=t;if(!i)return{visibleGroupCount:n?1:0,visibleSameStackCount:n?1:0,index:0};const a=new Set,s=new Set;for(const o of Object.values(this.groups[e]??{}))o.visible&&(a.add(o.grouping.groupIndex),o.grouping.groupIndex===i.groupIndex&&s.add(o.grouping.stackIndex));const r=Array.from(a);return r.sort(((t,e)=>t-e)),{visibleGroupCount:r.length,visibleSameStackCount:s.size,index:r.indexOf(i.groupIndex)}}},iu=(t=>(t[t.FULL=0]="FULL",t[t.UPDATE_DATA=1]="UPDATE_DATA",t[t.PROCESS_DATA=2]="PROCESS_DATA",t[t.PERFORM_LAYOUT=3]="PERFORM_LAYOUT",t[t.SERIES_UPDATE=4]="SERIES_UPDATE",t[t.PRE_SCENE_RENDER=5]="PRE_SCENE_RENDER",t[t.SCENE_RENDER=6]="SCENE_RENDER",t[t.NONE=7]="NONE",t))(iu||{}),nu=class extends Xo{constructor(t){super(),this.updateCallback=t}update(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;this.updateCallback(t,e)}dispatchUpdateComplete(t){this.dispatch("update-complete",{type:"update-complete",minRect:t?.minRect,minVisibleRect:t?.minVisibleRect})}dispatchPreDomUpdate(){this.dispatch("pre-dom-update",{type:"pre-dom-update"})}dispatchPreSceneRender(t){this.dispatch("pre-scene-render",{type:"pre-scene-render",...t})}},au=class{constructor(t,e){this.callbackCache=new uc,this.chartEventManager=new kc,this.highlightManager=new zc,this.layoutManager=new Ko,this.localeManager=new $l,this.seriesStateManager=new eu,this.stateManager=new rl,this.toolbarManager=new Xc,this.zoomManager=new qc;const{scene:i,root:n,syncManager:a,container:s,updateCallback:r,updateMutex:o,pixelRatio:l,styleContainer:c}=e;this.chartService=t,this.syncManager=a,this.domManager=new Ll(s,c);const u=this.domManager.addChild("canvas","scene-canvas",i?.canvas.element);this.scene=i??new cc({pixelRatio:l,canvasElement:u}),this.scene.setRoot(n),this.axisManager=new dc(n),this.annotationManager=new hc(t.annotationRoot),this.cursorManager=new Ec(this.domManager),this.interactionManager=new wc(t.keyboard,this.domManager),this.focusIndicator=new Ul(this.domManager),this.keyNavManager=new jc(this.focusIndicator,this.interactionManager,t.mode),this.regionManager=new Vc(this.interactionManager),this.contextMenuRegistry=new Ac(this.regionManager),this.gestureDetector=new Oc(this.domManager),this.updateService=new nu(r),this.proxyInteractionService=new Zl(this.localeManager,this.domManager),this.historyManager=new al(this.keyNavManager),this.animationManager=new Lc(this.interactionManager,o),this.dataService=new pc(this.animationManager),this.tooltipManager=new Jc(this.domManager,t.tooltip),this.zoomManager.addLayoutListeners(this.layoutManager)}destroy(){this.animationManager.destroy(),this.highlightManager.destroy(),this.axisManager.destroy(),this.callbackCache.invalidateCache(),this.chartEventManager.destroy(),this.contextMenuRegistry.destroy(),this.domManager.destroy(),this.highlightManager.destroy(),this.interactionManager.destroy(),this.keyNavManager.destroy(),this.focusIndicator.destroy(),this.proxyInteractionService.destroy(),this.regionManager.destroy(),this.syncManager.destroy(),this.tooltipManager.destroy(),this.zoomManager.destroy()}},su=class extends $i{constructor(){super(...arguments),this.range="tooltip"}};R([Ji(Wn(["tooltip","node"],"a range"))],su.prototype,"range",2);var ru=class t{constructor(){this.domain=new Set}static is(e){return e instanceof t}extend(t){this.domain.add(t)}getDomain(){return Array.from(this.domain)}},ou=class t{constructor(){this.domain=[1/0,-1/0]}static is(e){return e instanceof t}static extendDomain(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1/0,-1/0];for(const i of t)"number"===typeof i&&(e[0]>i&&(e[0]=i),e[1]<i&&(e[1]=i));return e}extend(t){this.domain[0]>t&&(this.domain[0]=t),this.domain[1]<t&&(this.domain[1]=t)}getDomain(){return[...this.domain]}};function lu(t){return t.map((t=>Be(t)?JSON.stringify(t):t)).join("-")}function cu(t){const e=1e4;return Number.isInteger(t)?t:Math.abs(t)>e?Math.trunc(t):Math.round(t*e)/e}function uu(t){if(null==t)return[];const[e,i]=t.map(Number);return 0===e&&0===i?[0,1]:Ye(e)&&Ye(i)?[e,i]:[]}function hu(t,e){return e?.get(t.id)??0}var du=Symbol("invalid");function pu(t){const e=[];let i,n=0;const a=/((?:(?:^|\.)\s*\w+|\[\s*(?:'(?:[^']|\\')*'|"(?:[^"]|\\")*"|-?\d+)\s*\])\s*)/g;for(;i=a.exec(t);){if(i.index!==n)return;n=i.index+i[0].length;const t=i[1].trim();if(t.startsWith("."))e.push(t.slice(1).trim());else if(t.startsWith("[")){const i=t.slice(1,-1).trim();i.startsWith("'")?e.push(i.slice(1,-1).replace(/\\'/g,"'")):i.startsWith('"')?e.push(i.slice(1,-1).replace(/\\"/g,'"')):e.push(i)}else e.push(t)}if(n===t.length)return e}function gu(t){return e=>{let i=e;for(const n of t)i=i[n];return i}}var fu=class{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"standalone";this.opts=t,this.mode=e,this.debug=ts.create(!0,"data-model"),this.scopeCache=new Map,this.keys=[],this.values=[],this.aggregates=[],this.groupProcessors=[],this.propertyProcessors=[],this.reducers=[],this.processors=[];let i=!0;for(const a of t.props){if("key"===a.type&&!i)throw new Error("AG Charts - internal config error: keys must come before values.");"value"===a.type&&i&&(i=!1)}const n=t=>{let{matchGroupIds:e=[]}=t;for(const i of e)if(this.values.every((t=>t.groupId!==i)))throw new Error(`AG Charts - internal config error: matchGroupIds properties must match defined groups (${i}).`)};for(const a of t.props)switch(a.type){case"key":this.keys.push({...a,index:this.keys.length,missing:new Map});break;case"value":if(null==a.property)throw new Error(`AG Charts - internal config error: no properties specified for value definitions: ${JSON.stringify(a)}`);this.values.push({...a,index:this.values.length,missing:new Map});break;case"aggregate":n(a),this.aggregates.push({...a,index:this.aggregates.length});break;case"group-value-processor":n(a),this.groupProcessors.push({...a,index:this.groupProcessors.length});break;case"property-value-processor":this.propertyProcessors.push({...a,index:this.propertyProcessors.length});break;case"reducer":this.reducers.push({...a,index:this.reducers.length});break;case"processor":this.processors.push({...a,index:this.processors.length})}}resolveProcessedDataDefById(t,e){const i=this.scopeCache.get(t.id)?.get(e);if(!i)throw new Error(`AG Charts - didn't find property definition for [${e}, ${t.id}]`);return{index:i.index,def:i}}resolveProcessedDataIndexById(t,e){return this.resolveProcessedDataDefById(t,e).index}resolveProcessedDataDefsByIds(t,e){return e.map((e=>[e,this.resolveProcessedDataDefById(t,e)]))}resolveProcessedDataDefsValues(t,e){let{keys:i,values:n}=e;const a={};for(const[s,{index:r,def:o}]of t){const t="key"===o.type?i:n;a[s]=t[r]}return a}getDomain(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"value",n=arguments.length>3?arguments[3]:void 0;const a=this.getDomainsByType(i,n);return a?.[this.resolveProcessedDataIndexById(t,e)]??[]}getDomainsByType(t,e){switch(t){case"key":return e.domain.keys;case"value":return e.domain.values;case"aggregate":return e.domain.aggValues;case"group-value-processor":return e.domain.groups;default:return null}}processData(t,e){const{opts:{groupByKeys:i,groupByFn:n},aggregates:a,groupProcessors:s,reducers:r,processors:o,propertyProcessors:l}=this,c=performance.now();if(i&&0===this.keys.length)return;let u=this.extractData(t,e);if(i?u=this.groupData(u):n&&(u=this.groupData(u,n(u))),s.length>0&&this.postProcessGroups(u),a.length>0&&this.aggregateData(u),l.length>0&&this.postProcessProperties(u),r.length>0&&this.reduceData(u),o.length>0&&this.postProcessData(u),t.length>0)for(const d of Rt(this.keys,this.values))for(const[e,i]of d.missing)if(i>=t.length){const t=null==e?"":` for ${e}`;_.warnOnce(`the key '${d.property}' was not found in any data element${t}.`)}const h=performance.now();u.time=h-c,this.debug.check()&&function(t){const e=(t,e)=>{e.length>0&&(_.log(`DataModel.processData() - ${t}`),_.table(e))};if(_.log("DataModel.processData() - processedData",t),e("Key Domains",t.domain.keys),e("Group Domains",t.domain.groups??[]),e("Value Domains",t.domain.values),e("Aggregate Domains",t.domain.aggValues??[]),"grouped"===t.type){e("Values",t.data.reduce(((t,e)=>{const i=e.keys??[],n=e.aggValues??[],a=e.keys.map((()=>{})),s=n?.map((()=>{}));return t.push(...e.values.map(((t,e)=>[...0===e?i:a,...t??[],...0==e?n:s]))),t}),[]))}else{e("Values",t.data.reduce(((t,e)=>{const i=e.aggValues??[];return t.push([...e.keys,...e.values,...i]),t}),[]))}}(u),this.scopeCache.clear();for(const d of Rt(this.keys,this.values,this.aggregates))if(d.idsMap)for(const[t,e]of d.idsMap)for(const i of e)if(this.scopeCache.has(t)){if(this.scopeCache.get(t)?.has(i))throw new Error("duplicate definition ids on the same scope are not allowed.");this.scopeCache.get(t).set(i,d)}else this.scopeCache.set(t,new Map([[i,d]]));return u}valueGroupIdxLookup(t){let{matchGroupIds:e}=t;const i=[];for(const[n,a]of this.values.entries())(!e||a.groupId&&e.includes(a.groupId))&&i.push(n);return i}valueIdxLookup(t,e){const i=null==t||0===t.length,n="string"===typeof e?e:e.id,a=this.values.findIndex((e=>(null==e.scopes||i&&!e.scopes.length||e.scopes.some((e=>t?.includes(e))))&&(e.property===n||e.id===n||(e=>{if(e.idsMap)for(const[i,a]of e.idsMap)if(t?.includes(i)&&a.has(n))return!0;return!1})(e))));if(-1===a)throw new Error(`AG Charts - configuration error, unknown property ${JSON.stringify(e)} in scope(s) ${JSON.stringify(t)}`);return a}extractData(t,e){const{dataDomain:i,processValue:n,scopes:a,allScopesHaveSameDefs:s}=this.initDataDomainProcessor(),r=new Map(e?.map((t=>[t.id,t]))),{keys:o,values:l}=this,c=new Array(t.length);let u=0,h=0;for(const[p,g]of t.entries()){const t={},e=a.size>0?new Set(a):void 0,i=new Array(o.length);let d,f=0;for(const a of o){if(d=n(a,g,d),d===du)break;i&&(i[f++]=d)}if(d===du)continue;const y=l.length>0?new Array(l.length):void 0;let m;for(const[o,c]of l.entries()){for(const e of c.scopes??a){const i=r.get(e);if(m=n(c,i?.data[p]??g,m,e),m!==du&&y){if(null!=i&&!1!==c.includeProperty){const i=c.includeProperty&&null!=c.id?c.id:c.property;t[e]??(t[e]={}),t[e][i]=m}y[o]=m}}if(m===du){if(s)break;for(const t of c.scopes??a)e?.delete(t);if(0===e?.size)break}}if(m===du&&s)continue;if(0===e?.size)continue;const x={datum:{...g,...t},keys:i,values:y};!s&&e&&e.size<a.size&&(h++,x.validScopes=new Set(e)),c[u++]=x}c.length=u;const d=t=>{const e=i.get(t),n=e.getDomain();return ou.is(e)&&n[0]>n[1]?[]:n};return{type:"ungrouped",input:{count:t.length},data:c,domain:{keys:o.map(d),values:l.map(d)},defs:{allScopesHaveSameDefs:s,keys:o,values:l},partialValidDataCount:h,time:0}}groupData(t,e){const i=new Map;for(const r of t.data){const{keys:t,values:n,datum:a,validScopes:s}=r,o=e?.(r)??t,l=lu(o);if(i.has(l)){const t=i.get(l);if(t.values.push(n),t.datum.push(a),null!=s&&null!=t.validScopes)for(const e of t.validScopes)s.has(e)||t.validScopes.delete(e)}else i.set(l,{keys:o,values:[n],datum:[a],validScopes:s})}const n=new Array(i.size),a=new Array(i.size);let s=0;for(const{keys:r,values:o,datum:l,validScopes:c}of i.values())0!==c?.size&&(a[s]=r,n[s++]={keys:r,values:o,datum:l,validScopes:c});return{...t,type:"grouped",data:n,domain:{...t.domain,groups:a}}}aggregateData(t){const e="ungrouped"===t.type;t.domain.aggValues=[];for(const[i,n]of this.aggregates.entries()){const a=this.valueGroupIdxLookup(n),s=[1/0,-1/0];for(const r of t.data){if(r.aggValues??(r.aggValues=new Array(this.aggregates.length)),r.validScopes)continue;const t=e?[r.values]:r.values;let o=n.groupAggregateFunction?.()??[1/0,-1/0];for(const e of t){const t=a.map((t=>e[t])),i=n.aggregateFunction(t,r.keys);i&&(o=n.groupAggregateFunction?.(i,o)??ou.extendDomain(i,o))}const l=(n.finalFunction?.(o)??o).map((t=>cu(t)));r.aggValues[i]=l,ou.extendDomain(l,s)}t.domain.aggValues.push(s)}}postProcessGroups(t){const{groupProcessors:e}=this,i=new Set,n=new Map,a=new Map,s=new Map;for(const o of e){const t=this.valueGroupIdxLookup(o);a.set(o,t),s.set(o,o.adjust());for(const e of t){const t="category"===this.values[e].valueType;i.add(e),n.set(e,t?new ru:new ou)}}const r=t=>{for(const e of i)n.get(e)?.extend(t[e])};for(const o of t.data){for(const i of e){if(o.validScopes)continue;const e=a.get(i)??[],n=s.get(i)?.();if(n)if("grouped"===t.type)for(const t of o.values)t&&n(t,e);else o.values&&n(o.values,e)}if("grouped"===t.type)for(const t of o.values)r(t);else r(o.values)}for(const[o,l]of n)t.domain.values[o]=l.getDomain()}postProcessProperties(t){for(const{adjust:e,property:i,scopes:n}of this.propertyProcessors)e()(t,this.valueIdxLookup(n,i))}reduceData(t){t.reduced??(t.reduced={});for(const e of this.reducers){const i=e.reducer();let n=e.initialValue;for(const a of t.data)a.validScopes&&!e.scopes?.some((t=>a.validScopes?.has(t)))||(n=i(n,a));t.reduced[e.property]=n}}postProcessData(t){t.reduced??(t.reduced={});for(const e of this.processors)t.reduced[e.property]=e.calculate(t)}initDataDomainProcessor(){const{keys:t,values:e}=this,i=new Set;for(const l of e)if(l.scopes)for(const t of l.scopes)i.add(t);const n=new Map,a=new Map;let s=!0;const r=()=>{for(const a of Rt(t,e))"category"===a.valueType?n.set(a,new ru):(n.set(a,new ou),s&&(s=(a.scopes??[]).length===i.size))};r();const o=this.buildAccessors(Rt(t,e));return{dataDomain:n,processValue:(t,e,i,s)=>{let l,c;if(o.has(t.property)){try{c=o.get(t.property)(e)}catch(u){}l=null!=c}else l=t.property in e,c=l?e[t.property]:t.missingValue;if(null!=t.forceValue){c=l&&ie(c)?-1*t.forceValue:t.forceValue,l=!0}if(!l&&!("missingValue"in t)){const e=t.missing.get(s)??0;t.missing.set(s,e+1)}if(n.has(t)||r(),l&&!1===t.validation?.(c,e)){if(!("invalidValue"in t))return"integrated"!==this.mode&&_.warnOnce(`invalid value of type [${typeof c}] for [${t.scopes} / ${t.id}] ignored:`,`[${c}]`),du;c=t.invalidValue}return t.processor&&(a.has(t)||a.set(t,t.processor()),c=a.get(t)?.(c,i===du?void 0:i)),n.get(t)?.extend(c),c},initDataDomain:r,scopes:i,allScopesHaveSameDefs:s}}buildAccessors(t){const e=new Map;if("integrated"===this.mode)return e;for(const i of t){if(!(i.property.includes(".")||i.property.includes("[")))continue;const t=pu(i.property);if(null==t){_.warnOnce("Invalid property path [%s]",i.property);continue}const n=gu(t);e.set(i.property,n)}return e}};var yu=class t{constructor(t){this.mode=t,this.debug=ts.create(!0,"data-model"),this.requested=[],this.status="setup"}async request(t,e,i){if("setup"!==this.status)throw new Error("AG Charts - data request after data setup phase.");return new Promise(((n,a)=>{this.requested.push({id:t,opts:i,data:e,resolve:n,reject:a})}))}execute(){if("setup"!==this.status)throw new Error("AG Charts - data request after data setup phase.");this.status="executed",this.debug("DataController.execute() - requested",this.requested);const t=this.validateRequests(this.requested);this.debug("DataController.execute() - validated",t);const e=this.mergeRequested(t);this.debug("DataController.execute() - merged",e),this.debug.check()&&(_t().processedData=[]);const i=this.requested.map((t=>{let{id:e}=t;return e})),n=this.hasMultipleDataSources(t);for(const{opts:s,data:r,resolves:o,rejects:l,ids:c}of e)try{const e=new fu(s,this.mode),a=e.processData(r,t);this.debug.check()&&_t("processedData").push(a),0===a?.partialValidDataCount?o.forEach(((t,s)=>t({dataModel:e,processedData:this.processScopedData(c[s],a,i,n)}))):a?this.splitResult(e,a,c,o):l.forEach((t=>t(new Error("AG Charts - no processed data generated"))))}catch(a){l.forEach((t=>t(a)))}}hasMultipleDataSources(t){if(t.length){const[{data:e},...i]=t;return i.some((t=>e!==t.data))}return!1}processScopedData(t,e,i,n){const a=e=>{if(Array.isArray(e))return e.map(a);const s=n?{...e,...e[t]}:e;for(const t of i)delete s[t];return s},s=e=>Array.isArray(e)?e.map(s):e?.[t]??e;return{...e,data:e.data.map((t=>({...t,datum:a(t.datum),values:n?t.values?.map(s):t.values})))}}validateRequests(t){const e=[];for(const[i,n]of t.entries())i>0&&n.data.length!==t[0].data.length&&!1===n.opts.groupByData?n.reject(new Error("all series[].data arrays must be of the same length and have matching keys.")):e.push(n);return e}mergeRequested(e){const i=[];for(const n of e){const e=i.find(t.groupMatch(n));e?e.push(n):i.push([n])}return i.map(t.mergeRequests)}splitResult(t,e,i,n){for(let a=0;a<i.length;a++){const s=i[a];(0,n[a])({dataModel:t,processedData:{...e,data:e.data.filter((t=>{let{validScopes:e}=t;return e?.has(s)??!0}))}})}}static groupMatch(t){let{data:e,opts:i}=t;function n(t){return t.filter((t=>"key"===t.type)).map((t=>t.property)).join(";")}return t=>{let[a]=t;return(!1===i.groupByData||a.data===e)&&a.opts.groupByKeys===i.groupByKeys&&a.opts.groupByFn===i.groupByFn&&n(a.opts.props)===n(i.props)}}static mergeRequests(e){return e.reduce(((e,i)=>{let{id:n,data:a,resolve:s,reject:r,opts:{props:o,...l}}=i;e.ids.push(n),e.rejects.push(r),e.resolves.push(s),e.data??(e.data=a),e.opts??(e.opts={...l,props:[]});for(const c of o){const i={...c,scopes:[n]};t.createIdsMap(n,i);const a=e.opts.props.find((e=>e.type===i.type&&t.deepEqual(e,i)));a?(a.scopes??(a.scopes=[]),a.scopes.push(...i.scopes??[]),"key"!==a.type&&"value"!==a.type||!i.idsMap?.size||t.mergeIdsMap(i.idsMap,a.idsMap)):e.opts.props.push(i)}return e}),{ids:[],rejects:[],resolves:[],data:null,opts:null})}static mergeIdsMap(t,e){for(const[i,n]of t){const t=e.get(i);if(null!=t)for(const e of n)t.add(e);else e.set(i,new Set(n))}}static createIdsMap(t,e){null!=e.id&&(e.idsMap??(e.idsMap=new Map),e.idsMap.has(t)?e.idsMap.get(t).add(e.id):e.idsMap.set(t,new Set([e.id])))}static deepEqual(e,i){if(e===i)return!0;if(e&&i&&"object"==typeof e&&"object"==typeof i){if(e.constructor!==i.constructor)return!1;let n,a;if(Array.isArray(e)){if(a=e.length,a!==i.length)return!1;for(n=a-1;n>=0;n--)if(!t.deepEqual(e[n],i[n]))return!1;return!0}const s=Object.keys(e);if(a=s.length,a!==Object.keys(i).length)return!1;for(n=a-1;n>=0;n--){const a=s[n];if(!t.skipKeys.has(a)&&(!Object.hasOwn(i,a)||!t.deepEqual(e[a],i[a])))return!1}return!0}return!1}};yu.skipKeys=new Set(["id","idsMap","type","scopes"]);var mu=yu,xu=new class{constructor(){this.axesMap=new Map,this.hidden=new Set,this.themeTemplates=new Map}register(t,e){this.axesMap.set(t,e.moduleFactory),e.themeTemplate&&this.setThemeTemplate(t,e.themeTemplate),e.hidden&&this.hidden.add(t)}create(t,e){const i=this.axesMap.get(t);if(i)return i(e);throw new Error(`AG Charts - unknown axis type: ${t}`)}has(t){return this.axesMap.has(t)}keys(){return this.axesMap.keys()}publicKeys(){return[...this.keys()].filter((t=>!this.hidden.has(t)))}setThemeTemplate(t,e){return this.themeTemplates.set(t,e),this}getThemeTemplate(t){return this.themeTemplates.get(t)}},bu=[{type:"root",optionsKey:"animation",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"]},{type:"root",optionsKey:"annotations",chartTypes:["cartesian"]},{type:"root",optionsKey:"background",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],optionsInnerKey:"image"},{type:"root",optionsKey:"foreground",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],optionsInnerKey:"image"},{type:"root",optionsKey:"chartToolbar",chartTypes:["cartesian"]},{type:"root",optionsKey:"contextMenu",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"]},{type:"root",optionsKey:"statusBar",chartTypes:["cartesian"],identifier:"status-bar"},{type:"root",optionsKey:"dataSource",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"]},{type:"root",optionsKey:"sync",chartTypes:["cartesian"]},{type:"root",optionsKey:"zoom",chartTypes:["cartesian","topology"]},{type:"legend",optionsKey:"gradientLegend",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],identifier:"gradient"},{type:"root",optionsKey:"navigator",chartTypes:["cartesian"],optionsInnerKey:"miniChart"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["cartesian"],identifier:"ordinal-time"},{type:"axis-option",optionsKey:"crosshair",chartTypes:["cartesian"]},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"box-plot"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"candlestick"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"cone-funnel"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"funnel"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"ohlc"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"bullet"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"heatmap"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-area"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-bar"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"waterfall"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"nightingale"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-area"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-line"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-bar"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-column"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"sunburst"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"treemap"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-marker"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape-background"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line-background"},{type:"series",optionsKey:"series[]",chartTypes:["flow-proportion"],identifier:"chord"},{type:"series",optionsKey:"series[]",chartTypes:["flow-proportion"],identifier:"sankey"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"pyramid"},{type:"series",optionsKey:"series[]",chartTypes:["gauge"],identifier:"linear-gauge"},{type:"series",optionsKey:"series[]",chartTypes:["gauge"],identifier:"radial-gauge"},{type:"series-option",optionsKey:"errorBar",chartTypes:["cartesian"],identifier:"error-bars"}];function vu(t){return bu.find((e=>"series"===e.type&&e.identifier===t))?.chartTypes}function Mu(t){if(!function(t){return"enterprise"===t.packageType}(t))throw new Error("AG Charts - internal configuration error, only enterprise modules need verification.");const e=bu.find((e=>e.type===t.type&&e.optionsKey===t.optionsKey&&e.identifier===t.identifier&&t.chartTypes.every((t=>e.chartTypes.includes(t)))));return e&&(e.useCount??(e.useCount=0),e.useCount++),null!=e}var Su=new class{constructor(){this.legendMap=new Map,this.themeTemplates=new Map}register(t,e){let{optionsKey:i,moduleFactory:n,themeTemplate:a}=e;this.legendMap.set(t,{optionsKey:i,moduleFactory:n}),this.themeTemplates.set(i,a)}create(t,e){const i=this.legendMap.get(t)?.moduleFactory;if(i)return i(e);throw new Error(`AG Charts - unknown legend type: ${t}`)}getThemeTemplates(){return Object.fromEntries(this.themeTemplates)}getKeys(){return Array.from(this.legendMap.entries()).reduce(((t,e)=>{let[i,n]=e;return t[i]=n.optionsKey,t}),{})}},Iu=class extends Map{get(t){return super.get(t)??"unknown"}isCartesian(t){return"cartesian"===this.get(t)}isPolar(t){return"polar"===this.get(t)}isHierarchy(t){return"hierarchy"===this.get(t)}isTopology(t){return"topology"===this.get(t)}isFlowProportion(t){return"flow-proportion"===this.get(t)}isStandalone(t){return"standalone"===this.get(t)}isGauge(t){return"gauge"===this.get(t)}get seriesTypes(){return Array.from(this.keys())}get cartesianTypes(){return this.seriesTypes.filter((t=>this.isCartesian(t)))}get polarTypes(){return this.seriesTypes.filter((t=>this.isPolar(t)))}get hierarchyTypes(){return this.seriesTypes.filter((t=>this.isHierarchy(t)))}get topologyTypes(){return this.seriesTypes.filter((t=>this.isTopology(t)))}get flowProportionTypes(){return this.seriesTypes.filter((t=>this.isFlowProportion(t)))}get standaloneTypes(){return this.seriesTypes.filter((t=>this.isStandalone(t)))}get gaugeTypes(){return this.seriesTypes.filter((t=>this.isGauge(t)))}},Du=class extends Map{set(t,e){return super.set(t,Xe(e,this.get(t)))}},wu=new Iu,Nu=new Iu,Lu=new Du,ku=new class{constructor(){this.seriesMap=new Map,this.themeTemplates=new Map}register(t,e){let{chartTypes:[i],moduleFactory:n,tooltipDefaults:a,defaultAxes:s,themeTemplate:r,paletteFactory:o,solo:l,stackable:c,groupable:u,stackedByDefault:h,hidden:d}=e;this.setThemeTemplate(t,r),this.seriesMap.set(t,{moduleFactory:n,tooltipDefaults:a,defaultAxes:s,paletteFactory:o,solo:l,stackable:c,groupable:u,stackedByDefault:h}),wu.set(t,i),d||Nu.set(t,i)}create(t,e){const i=this.seriesMap.get(t)?.moduleFactory;if(i)return i(e);throw new Error(`AG Charts - unknown series type: ${t}`)}cloneDefaultAxes(t,e){const i=this.seriesMap.get(t)?.defaultAxes;if(null==i)return null;return{axes:Ys("function"===typeof i?i(e):i)}}setThemeTemplate(t,e){const i=this.themeTemplates.get(t);this.themeTemplates.set(t,Xe(e,i))}getThemeTemplate(t){return this.themeTemplates.get(t)}getPaletteFactory(t){return this.seriesMap.get(t)?.paletteFactory}getTooltipDefauls(t){return this.seriesMap.get(t)?.tooltipDefaults}isSolo(t){return this.seriesMap.get(t)?.solo??!1}isGroupable(t){return this.seriesMap.get(t)?.groupable??!1}isStackable(t){return this.seriesMap.get(t)?.stackable??!1}isStackedByDefault(t){return this.seriesMap.get(t)?.stackedByDefault??!1}},Au=class t extends Jo{constructor(t){super(),this.chart=t}subscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.DEFAULT_GROUP,i=this.get(e);return i||(i=new Set,t.chartsGroups.set(e,i)),i.add(this.chart),this}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.DEFAULT_GROUP;return this.get(e)?.delete(this.chart),this}getChart(){return this.chart}getGroup(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.DEFAULT_GROUP;const i=this.get(e);return i?Array.from(i):[]}getGroupSiblings(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.DEFAULT_GROUP;return this.getGroup(e).filter((t=>t!==this.chart))}get(e){return t.chartsGroups.get(e)}};Au.chartsGroups=new Map,Au.DEFAULT_GROUP=Symbol("sync-group-default");var Cu=Au,Tu=class extends $i{constructor(){super(...arguments),this.enabled=!1}};R([Ji(sn)],Tu.prototype,"enabled",2),R([Ji(ln)],Tu.prototype,"tabIndex",2);var Eu=["top","right","bottom","left"];var Ru=["direction","xKey","yKey","sizeKey","angleKey","radiusKey","normalizedTo"];function Ou(t){const{series:e}=t;if(e)return e[0]?.type??"line"}function zu(t){const e=Ou(t);return null!=e&&(wu.isCartesian(e)||function(t){const e=vu(t)?.find((t=>"cartesian"===t));return"cartesian"===e}(e))}function ju(t){const e=Ou(t);return null!=e&&("polar"===e?(_.warnOnce(`type '${e}' is deprecated, use a series type instead`),!0):wu.isPolar(e)||function(t){const e=vu(t)?.find((t=>"polar"===t));return"polar"===e}(e))}function Pu(t){const e=Ou(t);return null!=e&&("hierarchy"===e?(_.warnOnce(`type '${e}' is deprecated, use a series type instead`),!0):wu.isHierarchy(e)||function(t){const e=vu(t)?.find((t=>"hierarchy"===t));return"hierarchy"===e}(e))}function Bu(t){const e=Ou(t);return null!=e&&("topology"===e?(_.warnOnce(`type '${e}' is deprecated, use a series type instead`),!0):wu.isTopology(e)||function(t){const e=vu(t)?.find((t=>"topology"===t));return"topology"===e}(e))}function Fu(t){const e=Ou(t);return null!=e&&("flow-proportion"===e?(_.warnOnce(`type '${e}' is deprecated, use a series type instead`),!0):wu.isFlowProportion(e)||function(t){const e=vu(t)?.find((t=>"flow-proportion"===t));return"flow-proportion"===e}(e))}function Gu(t){const e=Ou(t);return null!=e&&("standalone"===e?(_.warnOnce(`type '${e}' is deprecated, use a series type instead`),!0):wu.isStandalone(e)||function(t){const e=vu(t)?.find((t=>"standalone"===t));return"standalone"===e}(e))}function _u(t){const e=Ou(t);return null!=e&&("gauge"===e?(_.warnOnce(`type '${e}' is deprecated, use a series type instead`),!0):wu.isGauge(e)||function(t){const e=vu(t)?.find((t=>"gauge"===t));return"gauge"===e}(e))}var Uu=class extends qn{applyOptions(t){for(const e of this.moduleMap.values())e.module.optionsKey in t&&Xi(e.moduleInstance)&&e.moduleInstance.set(t[e.module.optionsKey])}*legends(){for(const{module:t,moduleInstance:e}of this.moduleMap.values())"legend"===t.type&&(yield{legendType:t.identifier,legend:e})}},Yu="ag-chart-overlay",Vu="ag-chart-dark-overlay",Wu=class extends $i{constructor(t,e){super(),this.className=t,this.defaultMessageId=e}getText(t){return t.t(this.text??this.defaultMessageId)}getElement(t,e,i){if(this.content?.remove(),this.focusBox=i,this.renderer){const t=this.renderer();if(t instanceof HTMLElement)this.content=t;else{const e=Ut("div");e.innerHTML=t,this.content=e.firstElementChild}}else{const i=Ut("div",{display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",height:"100%",margin:"8px",font:"12px Verdana, sans-serif"});i.innerText=this.getText(e),this.content=i,t?.animate({from:0,to:1,id:"overlay",phase:"add",groupId:"opacity",onUpdate(t){i.style.opacity=String(t)},onStop(){i.style.opacity="1"}})}return this.content}removeElement(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>this.content?.remove(),e=arguments.length>1?arguments[1]:void 0;if(this.content){if(e){const{content:i}=this;e.animate({from:1,to:0,phase:"remove",id:"overlay",groupId:"opacity",onUpdate(t){i.style.opacity=String(t)},onStop(){t?.()}})}else t?.();this.content=void 0,this.focusBox=void 0}}};R([Ji(on,{optional:!0})],Wu.prototype,"text",2),R([Ji(rn,{optional:!0})],Wu.prototype,"renderer",2);var Zu=class extends $i{constructor(){super(...arguments),this.darkTheme=!1,this.loading=new Wu("ag-chart-loading-overlay","overlayLoadingData"),this.noData=new Wu("ag-chart-no-data-overlay","overlayNoData"),this.noVisibleSeries=new Wu("ag-chart-no-visible-series","overlayNoVisibleSeries")}getFocusInfo(t){for(const e of[this.loading,this.noData,this.noVisibleSeries])if(void 0!==e.focusBox)return{text:e.getText(t),rect:e.focusBox}}destroy(){this.loading.removeElement(),this.noData.removeElement(),this.noVisibleSeries.removeElement()}};R([Ji(sn)],Zu.prototype,"darkTheme",2),R([Ji(nn)],Zu.prototype,"loading",2),R([Ji(nn)],Zu.prototype,"noData",2),R([Ji(nn)],Zu.prototype,"noVisibleSeries",2);var Hu=(t=>(t[t.EXACT_SHAPE_MATCH=0]="EXACT_SHAPE_MATCH",t[t.NEAREST_NODE=1]="NEAREST_NODE",t[t.AXIS_ALIGNED=2]="AXIS_ALIGNED",t))(Hu||{}),Ku=class{constructor(t,e,i,n){let{datum:a}=i;this.type=t,this.event=e,this.datum=a,this.seriesId=n.id}},$u=class{constructor(t,e,i){this.series=t,this.seriesGrouping=e,this.oldGrouping=i,this.type="groupingChanged"}},Qu=class extends Yo{constructor(t){super(),this.destroyFns=[],this.seriesGrouping=void 0,this.NodeEvent=Ku,this.internalId=Tt(this),this.rootGroup=new Ka({name:"seriesRoot",isVirtual:!0}),this.axes={x:void 0,y:void 0},this.directions=["x","y"],this.nodeDataRefresh=!0,this.moduleMap=new qn,this._declarationOrder=-1,this.seriesListeners=new Xo,this._pickNodeCache=new Ls;const{moduleCtx:e,pickModes:i,directionKeys:n={},directionNames:a={},contentGroupVirtual:s=!0,canHaveAxes:r=!1}=t;this.ctx=e,this.directionKeys=n,this.directionNames=a,this.canHaveAxes=r,this.contentGroup=this.rootGroup.appendChild(new Xa({name:`${this.internalId}-content`,isVirtual:s,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("data")})),this.highlightGroup=new Xa({name:`${this.internalId}-highlight`,isVirtual:s,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("highlight")}),this.highlightNode=this.highlightGroup.appendChild(new Ka({name:"highlightNode",zIndex:0})),this.highlightLabel=this.highlightGroup.appendChild(new Ka({name:"highlightLabel",zIndex:10})),this.pickModes=i,this.labelGroup=this.rootGroup.appendChild(new Xa({name:`${this.internalId}-series-labels`,zIndex:14})),this.annotationGroup=new Ka({name:`${this.id}-annotation`,isVirtual:s,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("annotation")})}get pickModeAxis(){return"main"}get id(){return this.properties?.id??this.internalId}get type(){return this.constructor.type??""}get data(){return this._data??this._chartData}set visible(t){this.properties.visible=t,this.visibleMaybeChanged()}get visible(){return this.properties.visible}get hasData(){return null!=this.data&&this.data.length>0}get tooltipEnabled(){return this.properties.tooltip?.enabled??!1}onDataChange(){this.nodeDataRefresh=!0,this._pickNodeCache.clear()}setOptionsData(t){this._data=t,this.onDataChange()}setChartData(t){this._chartData=t,this.data===t&&this.onDataChange()}onSeriesGroupingChange(t,e){const{internalId:i,type:n,visible:a}=this;t&&this.ctx.seriesStateManager.deregisterSeries(this),e&&this.ctx.seriesStateManager.registerSeries({internalId:i,type:n,visible:a,seriesGrouping:e}),this.fireEvent(new $u(this,e,t))}getBandScalePadding(){return{inner:1,outer:0}}getGroupZIndexSubOrder(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=0;switch(t){case"data":case"paths":break;case"labels":i+=2e4;break;case"marker":i+=1e4;break;case"highlight":e+=15e3;break;case"annotation":i+=15e3}return[()=>this._declarationOrder+i,e]}addListener(t,e){return this.seriesListeners.addListener(t,e)}dispatch(t,e){this.seriesListeners.dispatch(t,e)}addChartEventListeners(){}destroy(){this.destroyFns.forEach((t=>t())),this.destroyFns=[],this.ctx.seriesStateManager.deregisterSeries(this)}getDirectionValues(t,e){const i=this.resolveKeyDirection(t),n=e?.[i],a=[];if(!n)return a;const s=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];for(const n of e)Array.isArray(n)?s(...n):"object"===typeof n?s(...Object.values(n)):a.push(n)};return s(...n.map((t=>this.properties[t]))),a}getKeys(t){return this.getDirectionValues(t,this.directionKeys)}getKeyProperties(t){return this.directionKeys[this.resolveKeyDirection(t)]??[]}getNames(t){return this.getDirectionValues(t,this.directionNames)}resolveKeyDirection(t){return t}getDomain(t){const e=this.getSeriesDomain(t),i=this.moduleMap.mapModules((e=>e.getDomain(t)));return e.concat(i.flat())}markNodeDataDirty(){this.nodeDataRefresh=!0,this._pickNodeCache.clear(),this.visibleMaybeChanged()}visibleMaybeChanged(){this.ctx.seriesStateManager.updateSeries(this)}getOpacity(){const{dimOpacity:t=1,enabled:e=!0}=this.properties.highlightStyle.series;if(!e||1===t)return 1;switch(this.isItemIdHighlighted()){case 0:case 1:return 1;default:return t}}getStrokeWidth(t){const{strokeWidth:e,enabled:i=!0}=this.properties.highlightStyle.series;if(!i||void 0===e)return t;switch(this.isItemIdHighlighted()){case 1:return e;case 0:case 2:return t}}isItemIdHighlighted(){const t=this.ctx.highlightManager?.getActiveHighlight()?.series;return null==t?0:t!==this?2:1}getModuleTooltipParams(){return this.moduleMap.mapModules((t=>t.getTooltipParams())).reduce(((t,e)=>Object.assign(t,e)),{})}pickNode(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{pickModes:n,pickModeAxis:a,visible:s,rootGroup:r}=this;if(!s||!r.visible)return;if("highlight"===e&&!this.properties.highlight.enabled)return;if("highlight-tooltip"===e&&!this.properties.highlight.enabled)return;let o=1/0;if("tooltip"===e||"highlight-tooltip"===e){const{tooltip:t}=this.properties;o="number"===typeof t.range?t.range:1/0,i||(i="exact"===t.range)}else if("event"===e||"context-menu"===e){const{nodeClickRange:t}=this.properties;o="number"===typeof t?t:1/0,i||(i="exact"===t)}const l=n.filter((t=>!i||0===t)),{x:c,y:u}=t,h=JSON.stringify({x:c,y:u,maxDistance:o,selectedPickModes:l});if(this._pickNodeCache.has(h))return this._pickNodeCache.get(h);for(const d of l){let e;switch(d){case 0:e=this.pickNodeExactShape(t);break;case 1:e=this.pickNodeClosestDatum(t);break;case 2:e=null!=d?this.pickNodeMainAxisFirst(t,"main-category"===a):void 0}if(e&&e.distance<=o)return this._pickNodeCache.set(h,{pickMode:d,match:e.datum,distance:e.distance})}return this._pickNodeCache.set(h,void 0)}pickNodeExactShape(t){const e=this.contentGroup.pickNode(t.x,t.y);if(e&&!0!==e.datum.missing)return{datum:e.datum,distance:0}}pickNodeClosestDatum(t){throw new Error("AG Charts - Series.pickNodeClosestDatum() not implemented")}pickNodeNearestDistantObject(t,e){const i=Pt(t.x,t.y,e);if(void 0!==i.nearest&&!0!==i.nearest.datum.missing)return{datum:i.nearest.datum,distance:Math.sqrt(i.distanceSquared)}}pickNodeMainAxisFirst(t,e){throw new Error("AG Charts - Series.pickNodeMainAxisFirst() not implemented")}fireNodeClickEvent(t,e){this.fireEvent(new this.NodeEvent("nodeClick",t,e,this))}fireNodeDoubleClickEvent(t,e){this.fireEvent(new this.NodeEvent("nodeDoubleClick",t,e,this))}createNodeContextMenuActionEvent(t,e){return new this.NodeEvent("nodeContextMenuAction",t,e,this)}toggleSeriesItem(t,e){this.visible=e,this.nodeDataRefresh=!0,this._pickNodeCache.clear(),this.dispatch("visibility-changed",{itemId:t,enabled:e})}isEnabled(){return this.visible}getModuleMap(){return this.moduleMap}createModuleContext(){return{...this.ctx,series:this}}getLabelText(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:String;return t.formatter?this.ctx.callbackCache.call(t.formatter,{seriesId:this.id,...e})??i(e.value):i(e.value)}getMarkerStyle(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.getStyle();const n=Xe({size:e.datum.point?.size??0},i);if(t.itemStyler){return Xe(this.ctx.callbackCache.call(t.itemStyler,{seriesId:this.id,...n,...e,datum:e.datum.datum}),n)}return n}updateMarkerStyle(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.getStyle(),{applyTranslation:a=!0,selected:s=!0}=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const{point:r}=i.datum,o=this.getMarkerStyle(e,i,n),l=this.visible&&o.size>0&&r&&!isNaN(r.x)&&!isNaN(r.y);if(a?t.setProperties({visible:l,...o,translationX:r?.x,translationY:r?.y}):t.setProperties({visible:l,...o}),s||(t.fillOpacity*=.25,t.strokeOpacity*=.125),"function"===typeof e.shape&&!t.dirtyPath){t.path.clear(!0),t.updatePath(),t.checkPathDirty();const e=t.getBBox();if(void 0!==r&&e.isFinite()){const t=e.computeCenter(),[i,n]=["x","y"].map((e=>(o.strokeWidth??0)+Math.abs(t[e]-r[e]))),a=Math.max(e.width+i,e.height+n);r.focusSize=a}}}getMinRects(t,e){}get nodeDataDependencies(){return this._nodeDataDependencies??{seriesRectWidth:NaN,seriesRectHeight:NaN}}checkResize(t){const{width:e,height:i}=t??{width:NaN,height:NaN},n=t?{seriesRectWidth:e,seriesRectHeight:i}:void 0,a=null!=Us(this.nodeDataDependencies,n);return a&&(this._nodeDataDependencies=n,this.markNodeDataDirty()),a}pickFocus(t){}};function Xu(t,e){!function(t,e){const{bounds:i,showFocusBox:n}=e;n&&t?.updateBounds(i)}(t,e);const{x:i,y:n}=function(t){if(null!=t)return t instanceof ue?t.computeCenter():Za.toCanvas(t).computeCenter()}(e.bounds)??{};if(void 0!==i&&void 0!==n)return{type:"keyboard",offsetX:i,offsetY:n}}function Ju(t){let{defs:e,values:i,xAxis:n,yAxis:a}=t;if(!n||!a)throw new Error("Axes must be defined");const s={};for(const[r,{def:o}]of e)if(Object.hasOwn(i,r)){const{scale:t}="key"===o.type?n:a;s[r]=Math.round(t.convert(i[r]))}return s}function qu(t,e,i,n){const a=[...t].reverse();let s;for(const r of a){if(!r.visible||!r.rootGroup.visible)continue;const{match:t,distance:a}=r.pickNode(e,i,n)??{};if(t&&null!=a&&((!s||s.distance>a)&&(s={series:r,distance:a,datum:t}),0===a))break}return s}Qu.highlightedZIndex=1e12,R([Js({changeValue:function(t,e){this.onSeriesGroupingChange(e,t)}})],Qu.prototype,"seriesGrouping",2);var th=class{constructor(t,e){this.element=t,this.id=e,t.id=e,t.style.display="none",rr(t.parentElement,"aria-labelledby",e)}layoutComplete(t){this.element.parentElement.style.width=`${t.chart.width}px`,this.element.parentElement.style.height=`${t.chart.height}px`}set text(t){this.element.textContent=t}},eh=class extends Jo{constructor(t){super(),this.chart=t,this.id=Tt(this),this.series=[],this.highlight={pendingHoverEvent:void 0,appliedHoverEvent:void 0,stashedHoverEvent:void 0},this.tooltip={lastHover:void 0},this.hoverDevice="mouse",this.focus={sortedSeries:[],series:void 0,seriesIndex:0,datumIndex:0,datum:void 0},this.hoverScheduler=Wo(((t,e)=>_t().requestAnimationFrame(t)),(()=>{(this.tooltip.lastHover||this.highlight.pendingHoverEvent)&&(this.chart.getUpdateType()<=4?this.hoverScheduler.schedule():(this.highlight.pendingHoverEvent&&this.handleHoverHighlight(!1),this.tooltip.lastHover&&this.handleHoverTooltip(this.tooltip.lastHover,!1)))}));const e=t.ctx.regionManager.getRegion("series"),i=t.ctx.regionManager.getRegion("horizontal-axes"),n=t.ctx.regionManager.getRegion("vertical-axes"),a=t.ctx.domManager.addChild("series-area","series-area-aria-label");this.ariaLabel=new th(a,`${this.id}-aria-label`),this.destroyFns.push((()=>t.ctx.domManager.removeChild("series-area","series-area-aria-label")),e.addListener("contextmenu",(t=>this.onContextMenu(t)),63),e.addListener("drag",(t=>this.onHoverLikeEvent(t)),41),e.addListener("hover",(t=>this.onHover(t)),41),e.addListener("leave",(()=>this.onLeave()),41),i.addListener("hover",(t=>this.onHover(t)),41),i.addListener("leave",(()=>this.onLeave())),n.addListener("hover",(t=>this.onHover(t)),41),n.addListener("leave",(()=>this.onLeave())),t.ctx.animationManager.addListener("animation-start",(()=>this.clearAll())),t.ctx.domManager.addListener("resize",(()=>this.clearAll())),t.ctx.highlightManager.addListener("highlight-change",(t=>this.changeHighlightDatum(t))),t.ctx.keyNavManager.addListener("blur",(()=>this.onBlur())),t.ctx.keyNavManager.addListener("focus",(t=>this.onFocus(t)),34),t.ctx.keyNavManager.addListener("nav-hori",(t=>this.onNavHori(t)),34),t.ctx.keyNavManager.addListener("nav-vert",(t=>this.onNavVert(t)),34),t.ctx.keyNavManager.addListener("submit",(t=>this.onSubmit(t)),34),t.ctx.layoutManager.addListener("layout:complete",(t=>this.layoutComplete(t))),t.ctx.regionManager.listenAll("click",(t=>this.onClick(t))),t.ctx.regionManager.listenAll("dblclick",(t=>this.onClick(t))),t.ctx.updateService.addListener("pre-scene-render",(()=>this.preSceneRender())),t.ctx.zoomManager.addListener("zoom-change",(()=>this.clearAll())),t.ctx.zoomManager.addListener("zoom-pan-start",(()=>this.clearAll())))}dataChanged(){var t;(t=this.highlight).stashedHoverEvent??(t.stashedHoverEvent=this.highlight.appliedHoverEvent),this.chart.ctx.tooltipManager.removeTooltip(this.id),this.chart.ctx.focusIndicator.updateBounds(void 0),this.clearHighlight()}preSceneRender(){this.refreshFocus(),null!=this.highlight.stashedHoverEvent&&(this.highlight.pendingHoverEvent=this.highlight.stashedHoverEvent,this.highlight.stashedHoverEvent=void 0,this.handleHoverHighlight(!0)),null!=this.tooltip.lastHover&&this.handleHoverTooltip(this.tooltip.lastHover,!0)}update(t,e){this.chart.ctx.updateService.update(t,e)}seriesChanged(t){this.focus.sortedSeries=[...t].sort(((t,e)=>{let i=t.properties.focusPriority??1/0,n=e.properties.focusPriority??1/0;return i===n&&([i,n]=[t._declarationOrder,e._declarationOrder]),i<n?-1:i>n?1:0})),this.series=t}layoutComplete(t){this.seriesRect=t.series.rect,this.hoverRect=t.series.paddedRect,this.ariaLabel.layoutComplete(t)}onContextMenu(t){const{Default:e,ContextMenu:i}=qo;let n,a;if(this.chart.ctx.focusIndicator.isFocusVisible())n=this.chart.ctx.highlightManager.getActiveHighlight(),n&&this.seriesRect&&n.midPoint&&(a=Za.toCanvasPoint(n.series.contentGroup,n.midPoint.x,n.midPoint.y));else if(this.chart.ctx.interactionManager.getState()&(e|i)){const e=qu(this.series,{x:t.regionOffsetX,y:t.regionOffsetY},"context-menu");e&&(this.chart.ctx.highlightManager.updateHighlight(this.id),n=e.datum)}this.clearAll(),this.chart.ctx.contextMenuRegistry.dispatchContext("series",t,{pickedNode:n},a)}onLeave(){this.chart.ctx.cursorManager.updateCursor(this.id),this.chart.ctx.focusIndicator.isFocusVisible()||this.clearAll()}onHover(t){this.hoverDevice="mouse",this.onHoverLikeEvent(t)}onHoverLikeEvent(t){if(Ke(t,"drag")&&(this.tooltip.lastHover=t),this.highlight.pendingHoverEvent=t,this.hoverScheduler.schedule(),32===this.chart.ctx.interactionManager.getState()){const{regionOffsetX:e,regionOffsetY:i}=t,n=qu(this.series,{x:e,y:i},"event");n?.series.hasEventListener("nodeClick")||n?.series.hasEventListener("nodeDoubleClick")?this.chart.ctx.cursorManager.updateCursor(this.id,"pointer"):this.chart.ctx.cursorManager.updateCursor(this.id)}}onClick(t){if(this.hoverDevice="mouse",this.onHoverLikeEvent(t),this.seriesRect?.containsPoint(t.offsetX,t.offsetY)&&this.checkSeriesNodeClick(t))return this.update(4),void t.preventDefault();const e={type:"click"===t.type?"click":"doubleClick",event:t.sourceEvent};this.chart.fireEvent(e)}onFocus(t){this.hoverDevice=this.chart.ctx.focusIndicator.isFocusVisible()?"keyboard":"mouse",this.handleFocus(0,0),t.preventDefault()}onBlur(){this.hoverDevice="mouse",this.clearAll()}onNavVert(t){this.hoverDevice="keyboard",this.focus.seriesIndex+=t.delta,this.handleFocus(t.delta,0),t.preventDefault()}onNavHori(t){this.hoverDevice="keyboard",this.focus.datumIndex+=t.delta,this.handleFocus(0,t.delta),t.preventDefault()}onSubmit(t){const{series:e,datum:i}=this.focus,n=t.sourceEvent.sourceEvent;void 0!==e&&void 0!==i?e.fireNodeClickEvent(n,i):this.chart.fireEvent({type:"click",event:n}),t.preventDefault()}checkSeriesNodeClick(t){let e={x:t.regionOffsetX,y:t.regionOffsetY};"series"!==t.region&&(e=Za.fromCanvasPoint(this.chart.seriesRoot,t.offsetX,t.offsetY));const i=qu(this.series,e,"event");return null!=i&&("click"===t.type?(i.series.fireNodeClickEvent(t.sourceEvent,i.datum),!0):"dblclick"===t.type&&(t.preventZoomDblClick=0===i.distance,i.series.fireNodeDoubleClickEvent(t.sourceEvent,i.datum),!0))}refreshFocus(){this.chart.ctx.focusIndicator.isFocusVisible()&&this.handleSeriesFocus(0,0)}handleFocus(t,e){const i=this.chart.overlays.getFocusInfo(this.chart.ctx.localeManager);null==i?this.handleSeriesFocus(t,e):this.chart.ctx.focusIndicator.updateBounds(i.rect)}handleSeriesFocus(t,e){if("hierarchy"===this.chart.chartType)return void this.handleHierarchySeriesFocus(t,e);const{focus:i,seriesRect:n}=this,a=i.sortedSeries.filter((t=>t.visible));if(0===a.length)return;i.seriesIndex=Xt(0,i.seriesIndex,a.length-1),i.series=a[i.seriesIndex];const{datumIndex:s,seriesIndex:r}=i,o=i.series.pickFocus({datumIndex:s,datumIndexDelta:e,otherIndex:r,otherIndexDelta:t,seriesRect:n});this.updatePickedFocus(o)}handleHierarchySeriesFocus(t,e){this.focus.series=this.focus.sortedSeries[0];const{focus:{series:i,seriesIndex:n,datumIndex:a},seriesRect:s}=this;if(void 0===i)return;const r=i.pickFocus({datumIndex:a,datumIndexDelta:e,otherIndex:n,otherIndexDelta:t,seriesRect:s});this.updatePickedFocus(r)}updatePickedFocus(t){const{focus:e}=this;if(void 0===t||void 0===e.series)return;const{datum:i,datumIndex:n}=t;e.datumIndex=n,e.datum=i,this.chart.ctx.focusIndicator.isFocusVisible()&&this.chart.ctx.animationManager.reset();const a=Xu(this.chart.ctx.focusIndicator,t);if(void 0!==a&&"keyboard"===this.hoverDevice){this.tooltip.lastHover=void 0,this.highlight.appliedHoverEvent=void 0,this.highlight.pendingHoverEvent=void 0,this.highlight.stashedHoverEvent=void 0;const t=e.series.getTooltipHtml(i),n=Jc.makeTooltipMeta(a,i);this.chart.ctx.highlightManager.updateHighlight(this.id,i),this.chart.ctx.tooltipManager.updateTooltip(this.id,n,t),this.ariaLabel.text=this.getDatumAriaText(i,t)}}getDatumAriaText(t,e){const i=e.ariaLabel;return this.chart.ctx.localeManager.t("ariaAnnounceHoverDatum",{datum:t.series.getDatumAriaText?.(t,i)??i})}clearHighlight(){this.highlight.pendingHoverEvent=void 0,this.highlight.appliedHoverEvent=void 0,this.chart.ctx.highlightManager.updateHighlight(this.id)}clearTooltip(){this.chart.ctx.tooltipManager.removeTooltip(this.id),this.tooltip.lastHover=void 0}clearAll(){this.clearHighlight(),this.clearTooltip(),this.chart.ctx.focusIndicator.updateBounds(void 0)}handleHoverHighlight(t){this.highlight.appliedHoverEvent=this.highlight.pendingHoverEvent,this.highlight.pendingHoverEvent=void 0;const e=this.highlight.appliedHoverEvent;if(!e)return;const i=this.chart.ctx.interactionManager.getState();if(32!==i&&8!==i&&1!==i)return;const{offsetX:n,offsetY:a}=e;if(t?this.chart.ctx.animationManager.isActive():!this.hoverRect?.containsPoint(n,a))return void this.clearHighlight();let s={x:e.regionOffsetX,y:e.regionOffsetY};"series"!==e.region&&(s=Za.fromCanvasPoint(this.chart.seriesRoot,n,a));const{range:r}=this.chart.highlight,o="tooltip"===r?"highlight-tooltip":"highlight",l=qu(this.series,s,o);if(l)return this.chart.ctx.highlightManager.updateHighlight(this.id,l.datum),void(this.hoverDevice="mouse");this.chart.ctx.highlightManager.updateHighlight(this.id)}handleHoverTooltip(t,e){const i=this.chart.ctx.interactionManager.getState();if(32!==i&&8!==i&&1!==i)return;const{offsetX:n,offsetY:a,targetElement:s,regionOffsetX:r,regionOffsetY:o}=t;if(e?this.chart.ctx.animationManager.isActive():!this.hoverRect?.containsPoint(n,a))return void("mouse"==this.hoverDevice&&this.clearTooltip());if(s&&this.chart.tooltip.interactive&&this.chart.ctx.domManager.isManagedChildDOMElement(s,"canvas-overlay",hr))return;let l={x:r,y:o};"series"!==t.region&&(l=Za.fromCanvasPoint(this.chart.seriesRoot,n,a));const c=qu(this.series,l,"tooltip");if(!c)return void("mouse"==this.hoverDevice&&this.clearTooltip());this.hoverDevice="mouse";const u=c.series.getTooltipHtml(c.datum);if(this.chart.tooltip.enabled&&c.series.tooltipEnabled&&null!=u){const e=Jc.makeTooltipMeta(t,c.datum);this.chart.ctx.tooltipManager.updateTooltip(this.id,e,u)}}changeHighlightDatum(t){const e=new Set,{series:i,datum:n}=t.currentHighlight??{},{series:a,datum:s}=t.previousHighlight??{};a&&e.add(a),i&&e.add(i),a?.properties.cursor&&s&&this.chart.ctx.cursorManager.updateCursor(a.id),i?.properties.cursor&&"default"!==i?.properties.cursor&&n&&this.chart.ctx.cursorManager.updateCursor(i.id,i.properties.cursor);null==i||null==a?this.update(4):this.update(4,{seriesToUpdate:e})}},ih=class{constructor(t,e,i){this.seriesRoot=t,this.highlightRoot=e,this.annotationRoot=i,this.groups={},this.series={},this.expectedSeriesCount=1,this.mode="normal"}setSeriesCount(t){this.expectedSeriesCount=t}requestGroup(t){var e,i;const{internalId:n,type:a,rootGroup:s,highlightGroup:r,annotationGroup:o,seriesGrouping:l}=t,{groupIndex:c=n}=l??{};if(null!=this.series[n])throw new Error(`AG Charts - series already has an allocated layer: ${this.series[n]}`);0===Object.keys(this.series).length&&(this.mode=this.expectedSeriesCount>=30?"aggressive-grouping":"normal"),(e=this.groups)[a]??(e[a]={});const u=this.lookupIdx(c),h=(i=this.groups[a])[u]??(i[u]={type:a,id:u,seriesIds:[],group:this.seriesRoot.appendChild(new vr({name:`${a}-content`,zIndex:4,zIndexSubOrder:t.getGroupZIndexSubOrder("data")})),highlight:this.highlightRoot.appendChild(new Ka({name:`${a}-highlight`,zIndex:4,zIndexSubOrder:t.getGroupZIndexSubOrder("highlight")})),annotation:this.annotationRoot.appendChild(new Ka({name:`${a}-annotation`,zIndex:4,zIndexSubOrder:t.getGroupZIndexSubOrder("annotation")}))});return this.series[n]={layerState:h,seriesConfig:t},h.seriesIds.push(n),h.group.appendChild(s),h.highlight.appendChild(r),h.annotation.appendChild(o),h.group}changeGroup(t){const{internalId:e,seriesGrouping:i,type:n,rootGroup:a,highlightGroup:s,annotationGroup:r,oldGrouping:o}=t,{groupIndex:l=e}=i??{};this.groups[n]?.[l]?.seriesIds.includes(e)||(null!=this.series[e]&&this.releaseGroup({internalId:e,seriesGrouping:o,type:n,rootGroup:a,highlightGroup:s,annotationGroup:r}),this.requestGroup(t))}releaseGroup(t){const{internalId:e,rootGroup:i,highlightGroup:n,annotationGroup:a,type:s}=t;if(null==this.series[e])throw new Error(`AG Charts - series doesn't have an allocated layer: ${e}`);const r=this.series[e]?.layerState;if(r&&(r.seriesIds=r.seriesIds.filter((t=>t!==e)),r.group.removeChild(i),r.highlight.removeChild(n),r.annotation.removeChild(a)),0===r?.seriesIds.length)this.seriesRoot.removeChild(r.group),this.highlightRoot.removeChild(r.highlight),this.annotationRoot.removeChild(r.annotation),delete this.groups[r.type][r.id],delete this.groups[s][e];else if(r?.seriesIds.length>0){const t=this.series[r?.seriesIds?.[0]]?.seriesConfig;r.group.zIndexSubOrder=t?.getGroupZIndexSubOrder("data"),r.highlight.zIndexSubOrder=t?.getGroupZIndexSubOrder("highlight"),r.annotation.zIndexSubOrder=t?.getGroupZIndexSubOrder("annotation")}delete this.series[e]}lookupIdx(t){return"normal"===this.mode?t:"string"!==typeof t||(t=Number(t.split("-").at(-1)))?Math.floor(30*Xt(0,t/this.expectedSeriesCount,1)):0}destroy(){for(const t of Object.values(this.groups))for(const e of Object.values(t))this.seriesRoot.removeChild(e.group),this.highlightRoot.removeChild(e.highlight),this.annotationRoot.removeChild(e.annotation);this.groups={},this.series={}}},nh=class{constructor(t,e,i,n){this.chart=t,this.dataService=e,this.updateService=i,this.zoomManager=n,this.dirtyZoom=!1,this.dirtyDataSource=!1,this.lastAxisZooms=new Map,this.destroyFns=[],this.destroyFns.push(this.dataService.addListener("data-source-change",(()=>this.onDataSourceChange())),this.dataService.addListener("data-load",(()=>this.onDataLoad())),this.dataService.addListener("data-error",(()=>this.onDataError())),this.updateService.addListener("update-complete",(()=>this.onUpdateComplete())),this.zoomManager.addListener("zoom-change",(()=>this.onZoomChange())))}destroy(){this.destroyFns.forEach((t=>t()))}onDataLoad(){this.updateService.update(1)}onDataError(){this.updateService.update(3)}onDataSourceChange(){this.dirtyDataSource=!0}onUpdateComplete(){(this.dirtyZoom||this.dirtyDataSource)&&this.updateWindow().catch((t=>_.errorOnce(t)))}onZoomChange(){this.dirtyZoom=!0}async updateWindow(){if(!this.dataService.isLazy())return;const t=this.getValidAxis();let e,i=!0;if(t){const n=this.zoomManager.getAxisZoom(t.id);e=this.getAxisWindow(t,n),i=this.shouldRefresh(t,n)}this.dirtyZoom=!1,this.dirtyDataSource=!1,i&&this.dataService.load({windowStart:e?.min,windowEnd:e?.max})}getValidAxis(){return this.chart.axes.find((t=>"time"===t.type))}shouldRefresh(t,e){if(this.dirtyDataSource)return!0;if(!this.dirtyZoom)return!1;const i=this.lastAxisZooms.get(t.id);return(!i||e.min!==i.min||e.max!==i.max)&&(this.lastAxisZooms.set(t.id,e),!0)}getAxisWindow(t,e){const i=t.scale.getDomain?.();if(!e||!i||0===i.length||isNaN(Number(i[0])))return;const n=Number(i[1])-Number(i[0]);return{min:new Date(Number(i[0])+n*e.min),max:new Date(Number(i[0])+n*e.max)}}},ah=class{constructor(t,e,i,n,a,s,r){this.chartLike=t,this.overlays=e,this.dataService=i,this.layoutManager=n,this.localeManager=a,this.animationManager=s,this.domManager=r,this.destroyFns=[],this.overlayElem=this.domManager.addChild("canvas-overlay","overlay"),this.overlayElem.role="status",this.overlayElem.ariaAtomic="false",this.overlayElem.ariaLive="polite",this.overlayElem.classList.toggle(Yu),this.destroyFns.push(this.layoutManager.addListener("layout:complete",(t=>this.onLayoutComplete(t))))}destroy(){this.destroyFns.forEach((t=>t())),this.domManager.removeStyles("overlays"),this.domManager.removeChild("canvas-overlay","overlay")}onLayoutComplete(t){let{series:{rect:e}}=t;const i=this.dataService.isLoading(),n=this.chartLike.series.some((t=>t.hasData)),a=this.chartLike.series.some((t=>t.visible));this.overlays.darkTheme?this.overlayElem.classList.add(Vu):this.overlayElem.classList.remove(Vu),this.overlayElem.style.left=`${e.x}px`,this.overlayElem.style.top=`${e.y}px`,this.overlayElem.style.width=`${e.width}px`,this.overlayElem.style.height=`${e.height}px`;const s=i,r=!i&&!n,o=n&&!a;s?this.showOverlay(this.overlays.loading,e):this.hideOverlay(this.overlays.loading),r?this.showOverlay(this.overlays.noData,e):this.hideOverlay(this.overlays.noData),o?this.showOverlay(this.overlays.noVisibleSeries,e):this.hideOverlay(this.overlays.noVisibleSeries);const l=s||r||o;rr(this.overlayElem,"aria-hidden",!l)}showOverlay(t,e){const i=t.getElement(this.animationManager,this.localeManager,e);this.overlayElem.appendChild(i)}hideOverlay(t){t.removeElement((()=>{this.overlayElem.innerText="\xa0"}),this.animationManager)}},sh=ts.create(!0,"opts"),rh=class extends $i{constructor(){super(...arguments),this.padding=new Vo(0)}};R([Ji(sn,{optional:!0})],rh.prototype,"clip",2),R([Ji(nn)],rh.prototype,"padding",2);var oh=class t extends Yo{constructor(t,e){var i,n;super(),i=this,this.id=Tt(this),this.seriesRoot=new Xa({name:`${this.id}-series-root`}),this.highlightRoot=new Mr({name:`${this.id}-highlight-root`,zIndex:5,deriveZIndexFromChildren:!0}),this.annotationRoot=new Mr({name:`${this.id}-annotation-root`,zIndex:10}),this.debug=ts.create(),this.extraDebugStats={},this.data=[],this._firstAutoSize=!0,this.padding=new Vo(20),this.seriesArea=new rh,this.keyboard=new Tu,this.mode="standalone",this.chartCaptions=new Qo,this.destroyed=!1,this._destroyFns=[],this.skipSync=!1,this.chartAnimationPhase="initial",this.modulesManager=new Uu,this.processors=[],this.queuedUserOptions=[],this._pendingFactoryUpdatesCount=0,this._performUpdateNoRenderCount=0,this._performUpdateSkipAnimations=!1,this.performUpdateType=7,this.updateShortcutCount=0,this.seriesToUpdate=new Set,this.updateMutex=new Uo,this.updateRequestors={},this.performUpdateTrigger=Wo((function(t){return setTimeout(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)}),(async t=>{let{count:e}=t;this.destroyed||this.updateMutex.acquire((async()=>{try{await this.performUpdate(e)}catch(t){_.error("update error",t)}})).catch((t=>_.errorOnce(t)))})),this._performUpdateSplits={},this.axes=[],this.series=[],this.onSeriesNodeClick=t=>{this.fireEvent({...t,type:"seriesNodeClick"})},this.onSeriesNodeDoubleClick=t=>{this.fireEvent({...t,type:"seriesNodeDoubleClick"})},this.seriesGroupingChanged=t=>{if(!(t instanceof $u))return;const{series:e,seriesGrouping:i,oldGrouping:n}=t;e.rootGroup.isRoot()||this.seriesLayerManager.changeGroup({internalId:e.internalId,type:e.type,rootGroup:e.rootGroup,highlightGroup:e.highlightGroup,annotationGroup:e.annotationGroup,getGroupZIndexSubOrder:t=>e.getGroupZIndexSubOrder(t),seriesGrouping:i,oldGrouping:n})},this.chartOptions=t;const a=e?.scene,s=e?.container??t.processedOptions.container??void 0,r=e?.styleContainer??t.specialOverrides.styleContainer,o=new Ka({name:"root"}),l=new vr({name:"titles",zIndex:14});o.visible=!1,o.append(l),o.append(this.seriesRoot),o.append(this.highlightRoot),o.append(this.annotationRoot),l.append(this.title.node),l.append(this.subtitle.node),l.append(this.footnote.node),this.tooltip=new mr,this.seriesLayerManager=new ih(this.seriesRoot,this.highlightRoot,this.annotationRoot),this.mode=t.userOptions.mode??this.mode;const c=this.ctx=new au(this,{scene:a,root:o,container:s,styleContainer:r,syncManager:new Cu(this),pixelRatio:t.specialOverrides.overrideDevicePixelRatio,updateCallback:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return i.update(t,e)},updateMutex:this.updateMutex});this._destroyFns.push(c.domManager.addListener("resize",(()=>this.parentResize(c.domManager.containerSize)))),this.overlays=new Zu,(n=this.overlays.loading).renderer??(n.renderer=()=>function(t,e){const{animationDuration:i}=yi.add,n=Ut("div",`${Yu}--loading`,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",height:"100%",boxSizing:"border-box",font:"13px Verdana, sans-serif",userSelect:"none",animation:`ag-charts-loading ${i*e}ms linear 50ms both`}),a=Ut("span",{width:"45px",height:"40px",backgroundImage:["linear-gradient(#0000 calc(1 * 100% / 6), #ccc 0 calc(3 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(2 * 100% / 6), #ccc 0 calc(4 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(3 * 100% / 6), #ccc 0 calc(5 * 100% / 6), #0000 0)"].join(""),backgroundSize:"10px 400%",backgroundRepeat:"no-repeat",animation:"ag-charts-loading-matrix 1s infinite linear"}),s=Ut("p",{marginTop:"1em"});s.innerText=t;const r=Ut("div",`${Yu}__loading-background`,{position:"absolute",inset:"0",opacity:"0.5",zIndex:"-1"}),o=Ut("style");return o.innerText=["@keyframes ag-charts-loading { from { opacity: 0 } to { opacity: 1 } }","@keyframes ag-charts-loading-matrix {","0% { background-position: 0% 0%, 50% 0%, 100% 0%; }","100% { background-position: 0% 100%, 50% 100%, 100% 100%; }","}"].join(" "),n.replaceChildren(o,a,s,r),n}(this.overlays.loading.getText(c.localeManager),c.animationManager.defaultDuration)),this.processors=[new nh(this,c.dataService,c.updateService,c.zoomManager),new ah(this,this.overlays,c.dataService,c.layoutManager,c.localeManager,c.animationManager,c.domManager)],this.highlight=new su,this.container=s;const u=this.getModuleContext();c.regionManager.addRegion("series",this.seriesRoot,new Fc(this.seriesRoot,(()=>this.seriesRect??ue.zero)),this.ctx.axisManager.axisGridGroup),c.regionManager.addRegion("horizontal-axes"),c.regionManager.addRegion("vertical-axes"),c.regionManager.addRegion("root",o),c.domManager.setDataBoolean("animating",!1),this.seriesAreaManager=new eh(this.initSeriesAreaDependencies()),this._destroyFns.push(c.layoutManager.registerElement(0,(t=>{t.layoutBox.shrink(this.padding.toJson()),this.chartCaptions.positionCaptions(t)})),c.layoutManager.addListener("layout:complete",(t=>this.chartCaptions.positionAbsoluteCaptions(t))),c.dataService.addListener("data-load",(t=>{this.data=t.data})),this.title.registerInteraction(u,"beforebegin"),this.subtitle.registerInteraction(u,"beforebegin"),this.footnote.registerInteraction(u,"afterend"),c.interactionManager.addListener("page-left",(()=>this.destroy())),c.animationManager.addListener("animation-frame",(()=>{this.update(6)})),c.animationManager.addListener("animation-start",(()=>c.domManager.setDataBoolean("animating",!0))),c.animationManager.addListener("animation-stop",(()=>c.domManager.setDataBoolean("animating",!1))),c.zoomManager.addListener("zoom-change",(()=>{this.series.forEach((t=>t.animationState?.transition("updateData")));const t="initial"!==this.chartAnimationPhase;this.update(3,{forceNodeDataRefresh:!0,skipAnimations:t})}))),this.parentResize(c.domManager.containerSize)}static getInstance(e){return t.chartsInstances.get(e)}get canvasElement(){return this.ctx.scene.canvas.element}download(t,e){this.ctx.scene.download(t,e)}getCanvasDataURL(t){return this.ctx.scene.getDataURL(t)}toSVG(){return this.ctx.scene.toSVG()}getOptions(){return this.queuedUserOptions.at(-1)??this.chartOptions.userOptions}initSeriesAreaDependencies(){const{ctx:t,tooltip:e,highlight:i,overlays:n,seriesRoot:a}=this,s=this.getChartType();return{fireEvent:this.fireEvent.bind(this),getUpdateType:()=>this.performUpdateType,chartType:s,ctx:t,tooltip:e,highlight:i,overlays:n,seriesRoot:a}}getModuleContext(){return this.ctx}getCaptionText(){return[this.title,this.subtitle,this.footnote].filter((t=>t.enabled&&t.text)).map((t=>t.text)).join(". ")}getAriaLabel(){return this.ctx.localeManager.t("ariaAnnounceChart",{seriesCount:this.series.length})}resetAnimations(){this.chartAnimationPhase="initial";for(const t of this.series)t.resetAnimation(this.chartAnimationPhase);for(const t of this.axes)t.resetAnimation(this.chartAnimationPhase);this.animationRect=void 0,this.ctx.animationManager.reset()}skipAnimations(){this.ctx.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0}destroy(t){if(this.destroyed)return;const e=t?.keepTransferableResources;let i;return this.performUpdateType=7,this._destroyFns.forEach((t=>t())),this.processors.forEach((t=>t.destroy())),this.tooltip.destroy(this.ctx.domManager),this.overlays.destroy(),this.modulesManager.destroy(),e?(this.ctx.scene.strip(),i={container:this.container,scene:this.ctx.scene}):(this.ctx.scene.destroy(),this.container=void 0),this.destroySeries(this.series),this.seriesLayerManager.destroy(),this.axes.forEach((t=>t.destroy())),this.axes=[],this.animationRect=void 0,this.ctx.destroy(),this.destroyed=!0,Object.freeze(this),i}requestFactoryUpdate(t){this.destroyed||(this._pendingFactoryUpdatesCount++,this.updateMutex.acquire((async()=>{this.destroyed||(await t(this),this.destroyed||this._pendingFactoryUpdatesCount--)})).catch((t=>_.errorOnce(t))))}update(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;const{forceNodeDataRefresh:i=!1,skipAnimations:n,seriesToUpdate:a=this.series,newAnimationBatch:s}=e??{};i&&this.series.forEach((t=>t.markNodeDataDirty()));for(const r of a)this.seriesToUpdate.add(r);if(n&&(this.ctx.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0),s&&this.ctx.animationManager.isActive()&&(this._performUpdateSkipAnimations=!0),this.skipSync=e?.skipSync??!1,this.debug.check()){let e=(new Error).stack??"<unknown>";e=e.replace(/\([^)]*/g,""),this.updateRequestors[e]=t}t<this.performUpdateType&&(this.performUpdateType=t,this.ctx.domManager.setDataBoolean("updatePending",!0),this.performUpdateTrigger.schedule(e?.backOffMs))}async performUpdate(t){const{performUpdateType:e,extraDebugStats:i,_performUpdateSplits:n,ctx:a}=this,s=[...this.seriesToUpdate];this.performUpdateType=7,this.seriesToUpdate.clear(),0===this.updateShortcutCount&&e<6&&(a.animationManager.startBatch(this._performUpdateSkipAnimations),a.animationManager.onBatchStop((()=>this.chartAnimationPhase="ready"))),this.debug("Chart.performUpdate() - start",iu[e]);let r=performance.now();n.start??(n.start=r);const o=t=>{n[t]??(n[t]=0),n[t]+=performance.now()-r,r=performance.now()};let l=!1;switch(e){case 0:this.ctx.updateService.dispatchPreDomUpdate(),this.updateDOM();case 1:await this.updateData(),o("\u2b07\ufe0f");case 2:await this.processData(),this.seriesAreaManager.dataChanged(),o("\ud83c\udfed");case 3:if(this.checkUpdateShortcut(3))break;if(!this.checkFirstAutoSize(s)){l=!0;break}await this.processLayout(),o("\u2316");case 4:{if(this.checkUpdateShortcut(4))break;const{seriesRect:t}=this;await Promise.all(s.map((e=>e.update({seriesRect:t})))),o("\ud83e\udd14"),this.updateAriaLabels()}case 5:if(this.checkUpdateShortcut(5))break;a.updateService.dispatchPreSceneRender(this.getMinRects()),o("\u2196");case 6:if(this.checkUpdateShortcut(6))break;a.animationManager.endBatch(),i.updateShortcutCount=this.updateShortcutCount,await a.scene.render({debugSplitTimes:n,extraDebugStats:i,seriesRect:this.seriesRect}),this.extraDebugStats={};for(const t in n)delete n[t];this.ctx.domManager.incrementDataCounter("sceneRenders");case 7:this.updateShortcutCount=0,this.updateRequestors={},this._performUpdateSkipAnimations=!1,a.animationManager.endBatch()}l||(a.updateService.dispatchUpdateComplete(this.getMinRects()),this.ctx.domManager.setDataBoolean("updatePending",!1));const c=performance.now();this.debug("Chart.performUpdate() - end",{chart:this,durationMs:Math.round(100*(c-n.start))/100,count:t,performUpdateType:iu[e]})}updateThemeClassName(){const{theme:t}=this.chartOptions.processedOptions,e="ag-charts-theme-",i=[`${e}default`,`${e}default-dark`];let n=i[0],a=!1;"string"===typeof t?(n=t.replace("ag-",e),a=t.includes("-dark")):"string"===typeof t?.baseTheme&&(n=t.baseTheme.replace("ag-",e),a=t.baseTheme.includes("-dark")),i.includes(n)||(n=a?i[1]:i[0]),this.ctx.domManager.setThemeClass(n)}updateDOM(){this.updateThemeClassName();const{enabled:t,tabIndex:e}=this.keyboard;this.ctx.domManager.setTabIndex(t?e??0:-1)}updateAriaLabels(){this.ctx.domManager.updateCanvasLabel(this.getAriaLabel())}checkUpdateShortcut(t){return this.updateShortcutCount>3?(_.warn("exceeded the maximum number of simultaneous updates (4), discarding changes and rendering",this.updateRequestors),!1):this.performUpdateType<=t&&(this.updateShortcutCount++,!0)}checkFirstAutoSize(t){if(null!=this.width&&null!=this.height);else if(!this._lastAutoSize){const e=this._performUpdateNoRenderCount++,i=(e+1)**2*40;if(e<8)return this.update(3,{seriesToUpdate:t,backOffMs:i}),this.debug("Chart.checkFirstAutoSize() - backing off until first size update",i),!1;this.debug("Chart.checkFirstAutoSize() - timeout for first size update.")}return this._performUpdateNoRenderCount=0,!0}onAxisChange(t,e){null==e&&0===t.length||this.ctx.axisManager.updateAxes(e??[],t)}onSeriesChange(t,e){const i=e?.filter((e=>!t.includes(e)))??[];this.destroySeries(i),this.seriesLayerManager?.setSeriesCount(t.length);for(const n of t){if(e?.includes(n))continue;n.rootGroup.isRoot()&&this.seriesLayerManager.requestGroup(n);const t=this;n.chart={get mode(){return t.mode},get isMiniChart(){return!1},get seriesRect(){return t.seriesRect},placeLabels:e=>t.placeLabels(e)},n.resetAnimation(this.chartAnimationPhase),this.addSeriesListeners(n),n.addChartEventListeners()}this.seriesAreaManager?.seriesChanged(t)}destroySeries(t){t?.forEach((t=>{t.removeEventListener("nodeClick",this.onSeriesNodeClick),t.removeEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),t.removeEventListener("groupingChanged",this.seriesGroupingChanged),t.destroy(),this.seriesLayerManager.releaseGroup(t),t.chart=void 0}))}addSeriesListeners(t){this.hasEventListener("seriesNodeClick")&&t.addEventListener("nodeClick",this.onSeriesNodeClick),this.hasEventListener("seriesNodeDoubleClick")&&t.addEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),t.addEventListener("groupingChanged",this.seriesGroupingChanged)}assignSeriesToAxes(){for(const t of this.axes)t.boundSeries=this.series.filter((e=>e.axes[t.direction]===t))}assignAxesToSeries(){const t=Ri(this.axes,(t=>t.direction));this.series.forEach((e=>{e.directions.forEach((i=>{const n=t[i];if(!n)return void _.warnOnce(`no available axis for direction [${i}]; check series and axes configuration.`);const a=e.getKeys(i),s=n.find((t=>!t.keys.length||a.some((e=>t.keys.includes(e)))));s?e.axes[i]=s:_.warnOnce(`no matching axis for direction [${i}] and keys [${a}]; check series and axes configuration.`)}))}))}parentResize(t){if(null==t||null!=this.width&&null!=this.height)return;let{width:e,height:i}=t;if(e=Math.floor(e),i=Math.floor(i),0===e&&0===i)return;const[n=0,a=0]=this._lastAutoSize??[];n===e&&a===i||(this._lastAutoSize=[e,i],this.resize("SizeMonitor",{}))}resize(t,e){const{scene:i,animationManager:n}=this.ctx,{inWidth:a,inHeight:s,inMinWidth:r,inMinHeight:o}=e;this.ctx.domManager.setSizeOptions(r??this.minWidth,o??this.minHeight,a??this.width,s??this.height);const l=a??this.width??this._lastAutoSize?.[0],c=s??this.height??this._lastAutoSize?.[1];if(this.debug(`Chart.resize() from ${t}`,{width:l,height:c,stack:(new Error).stack}),null!=l&&null!=c&&Ye(l)&&Ye(c)&&i.resize(l,c)){n.reset();let t=!0;null!=this.width&&null!=this.height||!this._firstAutoSize||(t=!1,this._firstAutoSize=!1),this.update(3,{forceNodeDataRefresh:!0,skipAnimations:t})}}async updateData(){this.series.forEach((t=>t.setChartData(this.data)));const t=this.modulesManager.mapModules((t=>t.updateData?.(this.data)));await Promise.all(t)}async processData(){this.series.some((t=>t.canHaveAxes))&&(this.assignAxesToSeries(),this.assignSeriesToAxes());const t=new mu(this.mode),e=this.series.map((e=>e.processData(t))),i=this.modulesManager.mapModules((e=>e.processData?.(t)));t.execute(),await Promise.all([...e,...i]);for(const{legendType:n,legend:a}of this.modulesManager.legends())a.data=this.getLegendData(n,"integrated"!==this.mode)}placeLabels(t){const e=[],i=[];for(const u of this.series){if(!u.visible)continue;const t=u.getLabelData();n=t?.[0],null!=n&&"object"===typeof n.point&&"object"===typeof n.label&&(i.push(t),e.push(u))}var n;const{seriesRect:a}=this,{top:s,right:r,bottom:o,left:l}=this.seriesArea.padding,c=a&&i.length>0?function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;const n=[];t=t.map((t=>t.slice().sort(((t,e)=>e.point.size-t.point.size))));for(let l=0;l<t.length;l++){const c=n[l]=[],u=t[l];if(u?.length&&u[0].label)for(let l=0,h=u.length;l<h;l++){const h=u[l],{point:d,label:p,marker:g}=h,{text:f,width:y,height:m}=p,x=.5*d.size;let b=0,v=0;if(x>0&&null!=h.placement){const t=Bs[h.placement];b=(.5*y+x+i)*t.x,v=(.5*m+x+i)*t.y}const M=d.x-.5*y+b-((g?.center.x??.5)-.5)*d.size,S=d.y-.5*m+v-((g?.center.y??.5)-.5)*d.size;(!e||(r=S,o=m,(s=M)+y<(a=e).x+a.width&&s>a.x&&r>a.y&&r+o<a.y+a.height))&&(t.some((t=>t.some((t=>js(t.point,t.marker?.center,M,S,y,m)))))||n.some((t=>t.some((t=>Ps(t,M,S,y,m)))))||c.push({index:l,text:f,x:M,y:S,width:y,height:m,datum:h}))}}var a,s,r,o;return n}(i,{x:-l,y:-s,width:a.width+l+r,height:a.height+s+o},t):[];return new Map(c.map(((t,i)=>[e[i],t])))}getLegendData(t,e){var i;const n=this.series.filter((t=>t.properties.showInLegend)).flatMap((e=>e.getLegendData(t)));if(e&&n.every((t=>"category"===t.legendType))){const t={},e=new Map(this.series.map((t=>[t.id,t.type])));for(const{seriesId:a,symbols:[{marker:s}],label:r}of n){if(null==s.fill)continue;const n=e.get(a),o=t[n]??(t[n]={});o[i=r.text]??(o[i]=s.fill),o[r.text]!==s.fill&&_.warnOnce(`legend item '${r.text}' has multiple fill colors, this may cause unexpected behaviour.`)}}return n}async processLayout(){const t=this.animationRect,{width:e,height:i}=this.ctx.scene,n=this.ctx.layoutManager.createContext(e,i);await this.performLayout(n),t&&!this.animationRect?.equals(t)&&this.ctx.animationManager.skipCurrentBatch(),this.debug("Chart.performUpdate() - seriesRect",this.seriesRect)}async waitForUpdate(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e4,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=performance.now();for(this._pendingFactoryUpdatesCount>0&&await this.updateMutex.waitForClearAcquireQueue();7!==this.performUpdateType;){if(performance.now()-i>t){const i=`Chart.waitForUpdate() timeout of ${t} reached - first chart update taking too long.`;if(e)throw new Error(i);_.warnOnce(i)}await _o(50)}await this.updateMutex.waitForClearAcquireQueue()}getMinRects(){const{width:t,height:e}=this.ctx.scene,i=this.series.map((i=>i.getMinRects(t,e))).filter(Te);if(0===i.length)return;let n=0,a=0,s=0,r=0;for(const{minRect:c,minVisibleRect:u}of i)n=Math.max(n,c.width),a=Math.max(a,c.height),s=Math.max(s,u.width),r=Math.max(r,u.height);const o=new ue(0,0,n,a);let l=o.clone();return s>0&&r>0&&(l=new ue(0,0,s,r)),{minRect:o,minVisibleRect:l}}filterMiniChartSeries(t){return t?.filter((t=>!1!==t.showInMiniChart))}applyOptions(t){const e=t!==this.chartOptions?this.chartOptions.processedOptions:{},i=t.processedOptions,n=t.diffOptions(e);if(null==n)return;sh("Chart.applyOptions() - applying delta",n);const a=this.applyModules(i);n.listeners&&this.registerListeners(this,n.listeners),Zs(this,n,{skip:["type","data","series","listeners","preset","theme","legend.listeners","navigator.miniChart.series","navigator.miniChart.label","locale.localeText","axes","topology","nodes","initialState","styleContainer"]});let s=!1,r="no-op";null!=n.series&&(r=this.applySeries(this,n.series,e?.series),s=!0),"replaced"===r&&this.resetAnimations(),this.applyAxes(this,i,e,r,[],!0)&&(s=!0),n.data&&(this.data=n.data),n.legend?.listeners&&this.modulesManager.isEnabled("legend")&&Object.assign(this.legend.listeners,n.legend.listeners),n.locale?.localeText&&(this.modulesManager.getModule("locale").localeText=n.locale?.localeText),this.chartOptions=t;const o=this.modulesManager.getModule("navigator"),l=this.modulesManager.getModule("zoom");o?.enabled||l?.enabled||this.ctx.zoomManager.updateZoom("chart");const c=o?.miniChart,u=i.navigator?.miniChart?.series??i.series;!0===c?.enabled&&null!=u?this.applyMiniChartOptions(c,u,i,e):!1===c?.enabled&&(c.series=[],c.axes=[]),this.ctx.annotationManager.setAnnotationStyles(t.annotationThemes),s||(s=this.shouldForceNodeDataRefresh(n,r));const h=s||a?0:3;this.maybeResetAnimations(r),sh("Chart.applyOptions() - update type",iu[h],{seriesStatus:r,forceNodeDataRefresh:s}),this.update(h,{forceNodeDataRefresh:s,newAnimationBatch:!0}),(n.initialState||n.theme)&&this.applyInitialState(t.userOptions.initialState)}applyInitialState(t){const{ctx:{annotationManager:e,historyManager:i,stateManager:n}}=this;if(null!=t?.annotations){const i=t.annotations.map((t=>Xe(t,e.getAnnotationTypeStyles(t.type))));n.setState(e,i)}null!=t&&i.clear()}maybeResetAnimations(t){if("standalone"===this.mode)switch(t){case"series-grouping-change":case"replaced":this.resetAnimations()}}shouldForceNodeDataRefresh(t,e){const i=!!t.data||"data-change"===e||"replaced"===e,n=Su.getKeys(),a=Object.values(n).some((e=>null!=t[e])),s=null!=t.title&&null!=t.subtitle;return i||a||s}applyMiniChartOptions(t,e,i,n){const a=n?.navigator?.miniChart?.series??n?.series,s=this.applySeries(t,this.filterMiniChartSeries(e),this.filterMiniChartSeries(a));this.applyAxes(t,i,n,s,["axes[].tick","axes[].thickness","axes[].title","axes[].crosshair","axes[].gridLine","axes[].label"]);const r=t.series;for(const c of r)c.properties.id=void 0;const o=t.axes,l=o.find((t=>"x"===t.direction));for(const c of o)c.gridLine.enabled=!1,c.label.enabled=c===l,c.tick.enabled=!1,c.interactionEnabled=!1;if(null!=l){const t=i.navigator?.miniChart,e=t?.label,n=t?.label?.interval;l.line.enabled=!1,l.label.set(ti(e,["interval","rotation","minSpacing","autoRotate","autoRotateAngle"])),l.tick.set(ti(n,["enabled","width","size","color","interval","step"]));const a=n?.step;null!=a&&(l.interval.step=a)}}applyModules(t){const{type:e}=this.constructor;let i=!1;for(const n of Go.byType("root","legend")){const a=null!=t[n.optionsKey]&&n.chartTypes.includes(e);a!==this.modulesManager.isEnabled(n)&&(a?(this.modulesManager.addModule(n,(t=>t.moduleFactory(this.getModuleContext()))),"legend"===n.type&&this.modulesManager.getModule(n)?.attachLegend(this.ctx.scene),this[n.optionsKey]=this.modulesManager.getModule(n)):(this.modulesManager.removeModule(n),delete this[n.optionsKey]),i=!0)}return i}initSeriesDeclarationOrder(t){for(let e=0;e<t.length;e++)t[e]._declarationOrder=e}applySeries(t,e,i){if(!e)return"no-change";const n=function(t,e,i){const n=(t,e,i)=>{const n=[t];for(const a of Ru)a in e&&null!=e[a]&&n.push(`${a}=${e[a]}`);return i?.seriesGrouping&&n.push(`seriesGrouping.groupId=${i?.seriesGrouping.groupId}`),n.join(";")},a=new Map;let s=0;for(const c of t){const t=n(c.type,c.properties,i?.[s]);a.has(t)||a.set(t,[]),a.get(t)?.push([c,s++])}const r=new Map;for(const c of e){const t=n(c.type,c,c);r.has(t)||r.set(t,[]),r.get(t)?.push(c)}if(![...a.keys()].some((t=>r.has(t))))return{status:"no-overlap",oldKeys:a.keys(),newKeys:r.keys()};const o=[];let l=-1;for(const[c,u]of r.entries())for(const t of u){l++;const e=a.get(c);if(null==e||e.length<1){o.push({opts:t,idx:l,status:"add"}),a.delete(c);continue}const[n,s]=e.shift(),r=Us(i?.[s]??{},t??{}),{groupIndex:u,stackIndex:h}=r?.seriesGrouping??{};null!=u||null!=h?o.push({opts:t,series:n,diff:r,idx:s,status:"series-grouping"}):r?o.push({opts:t,series:n,diff:r,idx:s,status:"update"}):o.push({opts:t,series:n,idx:s,status:"no-op"}),0===e.length&&a.delete(c)}for(const c of a.values())for(const[t,e]of c)o.push({series:t,idx:e,status:"remove"});return{status:"overlap",changes:o}}(t.series,e,i);if("no-overlap"===n.status)return sh(`Chart.applySeries() - creating new series instances, status: ${n.status}`,n),t.series=e.map((t=>this.createSeries(t))),this.initSeriesDeclarationOrder(t.series),"replaced";sh("Chart.applySeries() - matchResult",n);const a=[];let s=!1,r=!1,o=!1;for(const l of n.changes)switch(r||(r="series-grouping"===l.status),s||(s=null!=l.diff?.data),o||(o="no-op"!==l.status),l.status){case"add":{const t=this.createSeries(l.opts);a.push(t),sh("Chart.applySeries() - created new series",t);break}case"remove":sh(`Chart.applySeries() - removing series at previous idx ${l.idx}`,l.series);break;case"no-op":a.push(l.series),sh(`Chart.applySeries() - no change to series at previous idx ${l.idx}`,l.series);break;default:{const{series:t,diff:e,idx:i}=l;sh(`Chart.applySeries() - applying series diff previous idx ${i}`,e,t),this.applySeriesValues(t,e),t.markNodeDataDirty(),a.push(t)}}return this.initSeriesDeclarationOrder(a),sh("Chart.applySeries() - final series instances",a),t.series=a,r?"series-grouping-change":s?"data-change":o?"updated":"no-op"}applyAxes(t,e,i,n){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(!("axes"in e)||!e.axes)return!1;a=["axes[].type",...a];const{axes:r}=e;if(!("replaced"===n)&&t.axes.length===r.length&&t.axes.every(((t,e)=>t.type===r[e].type))&&zu(i))return t.axes.forEach(((t,e)=>{const n=Us(i.axes?.[e]??{},r[e]);sh(`Chart.applyAxes() - applying axis diff idx ${e}`,n);Zs(t,n,{path:`axes[${e}]`,skip:a})})),!0;sh(`Chart.applyAxes() - creating new axes instances; seriesStatus: ${n}`),t.axes=this.createAxis(r,a);const o={x:[],y:[]};return t.axes.forEach((t=>{const{id:e}=t,i=t.getRegionNode();null!=i&&o[t.direction].push({id:e,node:i})})),s&&(this.ctx.regionManager.updateRegion("horizontal-axes",...o.x),this.ctx.regionManager.updateRegion("vertical-axes",...o.y)),!0}createSeries(t){const e=ku.create(t.type,this.getModuleContext());return this.applySeriesOptionModules(e,t),this.applySeriesValues(e,t),e}applySeriesOptionModules(t,e){const i=t.createModuleContext(),n=t.getModuleMap();for(const a of Go.byType("series-option"))a.optionsKey in e&&a.seriesTypes.includes(t.type)&&n.addModule(a,(t=>t.moduleFactory(i)))}applySeriesValues(t,e){const i=t.getModuleMap(),{type:n,data:a,listeners:s,seriesGrouping:r,showInMiniChart:o,...l}=e;for(const c of bu)if("series-option"===c.type&&c.optionsKey in l){const t=i.getModule(c.optionsKey);if(t){const e=l[c.optionsKey];delete l[c.optionsKey],t.properties.set(e)}}t.properties.set(l),"data"in e&&t.setOptionsData(a),s&&this.registerListeners(t,s),"seriesGrouping"in e&&(t.seriesGrouping=null==r?void 0:{...t.seriesGrouping,...r})}createAxis(t,e){const i=[],n=this.getModuleContext();for(let a=0;a<t.length;a++){const s=t[a],r=xu.create(s.type,n);this.applyAxisModules(r,s),Zs(r,s,{path:`axes[${a}]`,skip:e}),i.push(r)}return function(t){const e=[],i=[],n=[...Eu];for(const s of t)s instanceof Io&&("string"===typeof(a=s.position)&&Eu.includes(a)?i.push(s.position):e.push(s));var a;for(const s of e){let t;do{t=n.pop()}while(t&&i.includes(t));if(null==t)break;s.position=t}}(i),i}applyAxisModules(t,e){const i=t.createModuleContext(),n=t.getModuleMap();for(const a of Go.byType("axis-option")){const s=null!=e[a.optionsKey];s!==n.isEnabled(a)&&(s?(n.addModule(a,(t=>t.moduleFactory(i))),t[a.optionsKey]=n.getModule(a)):(n.removeModule(a),delete t[a.optionsKey]))}}registerListeners(t,e){t.clearEventListeners();for(const[i,n]of Object.entries(e))Pe(n)&&t.addEventListener(i,n)}};oh.chartsInstances=new WeakMap,R([Js({newValue(t){this.destroyed||(this.ctx.domManager.setContainer(t),oh.chartsInstances.set(t,this))},oldValue(t){oh.chartsInstances.delete(t)}})],oh.prototype,"container",2),R([Js({newValue(t){this.resize("width option",{inWidth:t})}})],oh.prototype,"width",2),R([Js({newValue(t){this.resize("height option",{inHeight:t})}})],oh.prototype,"height",2),R([Js({newValue(t){this.resize("minWidth option",{inMinWidth:t})}})],oh.prototype,"minWidth",2),R([Js({newValue(t){this.resize("minHeight option",{inMinHeight:t})}})],oh.prototype,"minHeight",2),R([Ji(nn)],oh.prototype,"padding",2),R([Ji(nn)],oh.prototype,"seriesArea",2),R([Ji(nn)],oh.prototype,"keyboard",2),R([Ji(Wn(["standalone","integrated"],"a chart mode"))],oh.prototype,"mode",2),R([$s("chartCaptions.title")],oh.prototype,"title",2),R([$s("chartCaptions.subtitle")],oh.prototype,"subtitle",2),R([$s("chartCaptions.footnote")],oh.prototype,"footnote",2),R([Js({changeValue(t,e){this.onAxisChange(t,e)}})],oh.prototype,"axes",2),R([Js({changeValue(t,e){this.onSeriesChange(t,e)}})],oh.prototype,"series",2);var lh=oh,ch=class{constructor(t,e,i){this.root=new dh(t,e,i)}clear(t){this.root.clear(t)}addValue(t,e){const i={hitTester:t,value:e,distanceSquared:(e,i)=>t.distanceSquared(e,i)};this.root.addElem(i)}find(t,e){const i={best:{nearest:void 0,distanceSquared:1/0}};return this.root.find(t,e,i),i.best}},uh=class{constructor(t,e,i,n){this.nw=t,this.ne=e,this.sw=i,this.se=n}addElem(t){this.nw.addElem(t),this.ne.addElem(t),this.sw.addElem(t),this.se.addElem(t)}find(t,e,i){this.nw.find(t,e,i),this.ne.find(t,e,i),this.sw.find(t,e,i),this.se.find(t,e,i)}},hh=class{constructor(t,e,i){this.capacity=t,this.maxdepth=e,this.boundary=i??ue.NaN,this.elems=[],this.subdivisions=void 0}clear(t){this.elems.length=0,this.boundary=t,this.subdivisions=void 0}addElem(t){this.addCondition(t)&&(void 0===this.subdivisions?0===this.maxdepth||this.elems.length<this.capacity?this.elems.push(t):this.subdivide(t):this.subdivisions.addElem(t))}find(t,e,i){this.findCondition(t,e,i)&&(void 0===this.subdivisions?this.findAction(t,e,i):this.subdivisions.find(t,e,i))}subdivide(t){this.subdivisions=this.makeSubdivisions();for(const e of this.elems)this.subdivisions.addElem(e);this.subdivisions.addElem(t),this.elems.length=0}makeSubdivisions(){const{x:t,y:e,width:i,height:n}=this.boundary,{capacity:a}=this,s=this.maxdepth-1,r=i/2,o=n/2,l=new ue(t,e,r,o),c=new ue(t+r,e,r,o),u=new ue(t,e+o,r,o),h=new ue(t+r,e+o,r,o);return new uh(this.child(a,s,l),this.child(a,s,c),this.child(a,s,u),this.child(a,s,h))}},dh=class t extends hh{addCondition(t){const{x:e,y:i}=t.hitTester.midPoint;return this.boundary.containsPoint(e,i)}findCondition(t,e,i){const{best:n}=i;return 0!==n.distanceSquared&&this.boundary.distanceSquared(t,e)<n.distanceSquared}findAction(t,e,i){const n=Pt(t,e,this.elems,i.best.distanceSquared);void 0!==n.nearest&&n.distanceSquared<i.best.distanceSquared&&(i.best=n)}child(e,i,n){return new t(e,i,n)}},ph=["ArrowDown","ArrowUp","Circle","Cross","Diamond","Heart","MapPin","Plus","Square","Star","Triangle"],gh=Object.freeze({x:.5,y:.5}),fh=class extends Gl{constructor(){super(...arguments),this.x=0,this.y=0,this.size=12}isBuiltIn(){return ph.includes(this.constructor.className??"")}computeBBox(){if(!this.isBuiltIn())return this.path.computeBBox();const{x:t,y:e,size:i}=this,{center:n}=this.constructor;return new ue(t-i*n.x,e-i*n.y,i,i)}applyPath(t,e){const{path:i}=this;let{x:n,y:a}=this;i.clear();for(const{x:s,y:r,t:o}of e)n+=s*t,a+=r*t,"move"===o?i.moveTo(n,a):i.lineTo(n,a);i.closePath()}executeFill(t,e){if(e)return super.executeFill(t,e)}executeStroke(t,e){if(e)return super.executeStroke(t,e)}};R([Fl()],fh.prototype,"x",2),R([Fl()],fh.prototype,"y",2),R([Fl({convertor:Math.abs})],fh.prototype,"size",2);var yh=class extends(Ya(Va(Wa(fh)))){};yh.center=gh;var mh=class extends yh{updatePath(){const{x:t,y:e,path:i,size:n}=this,a=n/2;i.clear(),i.arc(t,e,a,0,2*Math.PI),i.closePath()}};mh.className="Circle";var xh=class t extends yh{updatePath(){const e=this.size/4.2;super.applyPath(e,t.moves)}};xh.className="Cross",xh.moves=[{x:-1,y:0,t:"move"},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:-1,y:1},{x:-1,y:-1}];var bh=xh,vh=class t extends yh{updatePath(){const e=this.size/2;super.applyPath(e,t.moves)}};vh.className="Diamond",vh.moves=[{x:0,y:-1,t:"move"},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:1,y:-1}];var Mh=vh,Sh=class extends yh{rad(t){return t/180*Math.PI}updatePath(){const{x:t,path:e,size:i,rad:n}=this,a=i/4,s=this.y+a/2;e.clear(),e.arc(t-a,s-a,a,n(130),n(330)),e.arc(t+a,s-a,a,n(220),n(50)),e.lineTo(t,s+a),e.closePath()}};Sh.className="Heart";var Ih=class extends yh{updatePath(){const{path:t,x:e,y:i}=this,n=this.size,a=.5;t.clear(),t.moveTo(e+-.34375*n,i+-.65625*n),t.cubicCurveTo(e+-.34375*n,i+-.848509*n,e+-.192259*n,i+-1*n,e+0*n,i+-1*n),t.cubicCurveTo(e+(.692259-a)*n,i+-1*n,e+.34375*n,i+-.848509*n,e+.34375*n,i+-.65625*n),t.cubicCurveTo(e+.34375*n,i+-.506176*n,e+.284625*n,i+(.600181-1)*n,e+(.716461-a)*n,i+(.695393-1)*n),t.cubicCurveTo(e+.199009*n,i+-.280231*n,e+(.681271-a)*n,i+-.256896*n,e+(.663785-a)*n,i+(.766105-1)*n),t.cubicCurveTo(e+(.611893-a)*n,i+(.834367-1)*n,e+(.562228-a)*n,i+(.899699-1)*n,e+(.528896-a)*n,i+(.980648-1)*n),t.cubicCurveTo(e+(.524075-a)*n,i+(.992358-1)*n,e+(.512663-a)*n,i+0*n,e+0*n,i+0*n),t.cubicCurveTo(e+(.487337-a)*n,i+0*n,e+(.475925-a)*n,i+(.992358-1)*n,e+(.471104-a)*n,i+(.980648-1)*n),t.cubicCurveTo(e+(.487337-a)*n,i+0*n,e+(.475925-a)*n,i+(.992358-1)*n,e+(.471104-a)*n,i+(.980648-1)*n),t.cubicCurveTo(e+(.437772-a)*n,i+(.899699-1)*n,e+(.388107-a)*n,i+(.834367-1)*n,e+(.336215-a)*n,i+(.766105-1)*n),t.cubicCurveTo(e+(.318729-a)*n,i+-.256896*n,e+-.199009*n,i+-.280231*n,e+(.283539-a)*n,i+(.695393-1)*n),t.cubicCurveTo(e+-.284625*n,i+(.600181-1)*n,e+-.34375*n,i+-.506176*n,e+-.34375*n,i+-.65625*n),t.closePath()}};Ih.className="MapPin",Ih.center={x:.5,y:1};var Dh=class t extends yh{updatePath(){const e=this.size/3;super.applyPath(e,t.moves)}};Dh.className="Plus",Dh.moves=[{x:-.5,y:-.5,t:"move"},{x:0,y:-1},{x:1,y:0},{x:0,y:1},{x:1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:-1},{x:-1,y:0},{x:0,y:-1}];var wh=Dh,Nh=class extends yh{updatePath(){const{path:t,x:e,y:i}=this,n=this.size/2;t.clear(),t.moveTo(this.align(e-n),this.align(i-n)),t.lineTo(this.align(e+n),this.align(i-n)),t.lineTo(this.align(e+n),this.align(i+n)),t.lineTo(this.align(e-n),this.align(i+n)),t.closePath()}};Nh.className="Square";var Lh=class extends yh{updatePath(){const{x:t,y:e,path:i,size:n}=this,a=n/2,s=Math.PI/2;i.clear();for(let r=0;r<10;r++){const o=r%2===0?n:a,l=r*Math.PI/5-s,c=t+Math.cos(l)*o,u=e+Math.sin(l)*o;i.lineTo(c,u)}i.closePath()}};Lh.className="Star";var kh=class t extends yh{updatePath(){const e=1.1*this.size;super.applyPath(e,t.moves)}};kh.className="Triangle",kh.moves=[{x:0,y:-.48,t:"move"},{x:.5,y:.87},{x:-1,y:0}];var Ah=kh,Ch={circle:mh,cross:bh,diamond:Mh,heart:Sh,pin:Ih,plus:wh,square:Nh,star:Lh,triangle:Ah},Th=Object.keys(Ch);function Eh(t){return"string"===typeof t&&Th.includes(t)}function Rh(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nh;return Eh(t)?Ch[t]:"function"===typeof t?t:Nh}var Oh=class extends Qu{constructor(){super(...arguments),this.showFocusBox=!0}getScaleInformation(t){let{xScale:e,yScale:i}=t;return{isContinuousX:Li.is(e),isContinuousY:Li.is(i),xScaleType:e?.type,yScaleType:i?.type}}getModulePropertyDefinitions(){const t=this.axes.x?.scale,e=this.axes.y?.scale;return this.moduleMap.mapModules((i=>i.getPropertyDefinitions(this.getScaleInformation({xScale:t,yScale:e})))).flat()}async requestDataModel(t,e,i){i.props.push(...this.getModulePropertyDefinitions());const{dataModel:n,processedData:a}=await t.request(this.id,e??[],i);return this.dataModel=n,this.processedData=a,this.dispatch("data-processed",{dataModel:n,processedData:a}),{dataModel:n,processedData:a}}isProcessedDataAnimatable(){const t=this.processedData?.reduced?.animationValidation;if(!t)return!0;const{orderedKeys:e,uniqueKeys:i}=t;return e&&i}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}pickFocus(t){const e=this.getNodeData();if(void 0===e||0===e.length)return;const i=this.computeFocusDatumIndex(t,e);if(void 0===i)return;const{showFocusBox:n}=this,a=e[i],s={...t,datumIndex:i},r=this.computeFocusBounds(s);return void 0!==r?{bounds:r,showFocusBox:n,datum:a,datumIndex:i}:void 0}computeFocusDatumIndex(t,e){const i=t=>{const{missing:i=!1,enabled:n=!0,focusable:a=!0}=e[t];return!i&&n&&a},n=t=>{for(;t>=0&&!i(t);)t--;return-1===t?void 0:t},a=t=>{for(;t<e.length&&!i(t);)t++;return t===e.length?void 0:t};let s;const r=Xt(0,t.datumIndex,e.length-1);return s=t.datumIndexDelta<0?n(r):t.datumIndexDelta>0?a(r):a(r)??n(r),void 0===s?0===t.datumIndexDelta?void 0:t.datumIndex-t.datumIndexDelta:s}},zh=class extends $i{constructor(){super(...arguments),this.fill="rgba(255,255,255, 0.33)",this.stroke="rgba(0, 0, 0, 0.4)",this.strokeWidth=2}};R([Ji(In,{optional:!0})],zh.prototype,"fill",2),R([Ji(dn,{optional:!0})],zh.prototype,"fillOpacity",2),R([Ji(In,{optional:!0})],zh.prototype,"stroke",2),R([Ji(hn,{optional:!0})],zh.prototype,"strokeWidth",2),R([Ji(dn,{optional:!0})],zh.prototype,"strokeOpacity",2),R([Ji(Rn,{optional:!0})],zh.prototype,"lineDash",2),R([Ji(hn,{optional:!0})],zh.prototype,"lineDashOffset",2);var jh=class extends $i{};R([Ji(hn,{optional:!0})],jh.prototype,"strokeWidth",2),R([Ji(dn,{optional:!0})],jh.prototype,"dimOpacity",2),R([Ji(sn,{optional:!0})],jh.prototype,"enabled",2);var Ph=class extends $i{constructor(){super(...arguments),this.color="black"}};R([Ji(In,{optional:!0})],Ph.prototype,"color",2);var Bh=class extends $i{constructor(){super(...arguments),this.enabled=!0}};R([Ji(sn,{optional:!0})],Bh.prototype,"enabled",2);var Fh=class extends $i{constructor(){super(...arguments),this.item=new zh,this.series=new jh,this.text=new Ph}};R([Ji(nn)],Fh.prototype,"item",2),R([Ji(nn)],Fh.prototype,"series",2),R([Ji(nn)],Fh.prototype,"text",2);var Gh=class extends $i{constructor(){super(...arguments),this.visible=!0,this.focusPriority=1/0,this.showInLegend=!0,this.cursor="default",this.nodeClickRange="exact",this.highlight=new Bh,this.highlightStyle=new Fh}};R([Ji(on,{optional:!0})],Gh.prototype,"id",2),R([Ji(sn)],Gh.prototype,"visible",2),R([Ji(cn,{optional:!0})],Gh.prototype,"focusPriority",2),R([Ji(sn)],Gh.prototype,"showInLegend",2),R([Ji(on)],Gh.prototype,"cursor",2),R([Ji(Yn)],Gh.prototype,"nodeClickRange",2),R([Ji(nn)],Gh.prototype,"highlight",2),R([Ji(nn)],Gh.prototype,"highlightStyle",2);var _h={x:["xKey"],y:["yKey"]},Uh={x:["xName"],y:["yName"]},Yh=class extends Ku{constructor(t,e,i,n){super(t,e,i,n),this.xKey=n.properties.xKey,this.yKey=n.properties.yKey}},Vh=class extends Gh{constructor(){super(...arguments),this.pickOutsideVisibleMinorAxis=!1}};R([Ji(on,{optional:!0})],Vh.prototype,"legendItemName",2),R([Ji(sn,{optional:!0})],Vh.prototype,"pickOutsideVisibleMinorAxis",2);var Wh=class extends Oh{constructor(t){let{pathsPerSeries:e=["path"],hasMarkers:i=!1,hasHighlightedLabels:n=!1,pathsZIndexSubOrderOffset:a=[],datumSelectionGarbageCollection:s=!0,markerSelectionGarbageCollection:r=!0,animationAlwaysUpdateSelections:o=!1,animationResetFns:l,directionKeys:c,directionNames:u,...h}=t;if(super({directionKeys:c,directionNames:u,canHaveAxes:!0,...h}),this.NodeEvent=Yh,this.dataNodeGroup=this.contentGroup.appendChild(new Ka({name:`${this.id}-series-dataNodes`,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("data")})),this.markerGroup=this.contentGroup.appendChild(new Ka({name:`${this.id}-series-markers`,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("marker")})),this.labelGroup=this.contentGroup.appendChild(new Xa({name:`${this.id}-series-labels`,zIndex:14,zIndexSubOrder:this.getGroupZIndexSubOrder("labels")})),this.labelSelection=es.select(this.labelGroup,Rs),this.highlightSelection=es.select(this.highlightNode,(()=>this.opts.hasMarkers?this.markerFactory():this.nodeFactory())),this.highlightLabelSelection=es.select(this.highlightLabel,Rs),this.annotationSelections=new Set,this.minRectsCache={dirtyNodeData:!0},this.debug=ts.create(),!c||!u)throw new Error(`Unable to initialise series type ${this.type}`);this.opts={pathsPerSeries:e,hasMarkers:i,hasHighlightedLabels:n,pathsZIndexSubOrderOffset:a,directionKeys:c,directionNames:u,animationResetFns:l,animationAlwaysUpdateSelections:o,datumSelectionGarbageCollection:s,markerSelectionGarbageCollection:r},this.paths=[];for(let d=0;d<e.length;d++)this.paths[d]=new Gl({name:`${this.id}-${e[d]}`}),this.paths[d].zIndex=4,this.paths[d].zIndexSubOrder=this.getGroupZIndexSubOrder("paths",d),this.contentGroup.appendChild(this.paths[d]);this.datumSelection=es.select(this.dataNodeGroup,(()=>this.nodeFactory()),s),this.markerSelection=es.select(this.markerGroup,(()=>this.markerFactory()),r),this.animationState=new nr("empty",{empty:{update:{target:"ready",action:t=>this.animateEmptyUpdateReady(t)},reset:"empty",skip:"ready",disable:"disabled"},ready:{updateData:"waiting",clear:"clearing",highlight:t=>this.animateReadyHighlight(t),highlightMarkers:t=>this.animateReadyHighlightMarkers(t),resize:t=>this.animateReadyResize(t),reset:"empty",skip:"ready",disable:"disabled"},waiting:{update:{target:"ready",action:t=>{this.ctx.animationManager.isSkipped()?this.resetAllAnimation(t):this.animateWaitingUpdateReady(t)}},reset:"empty",skip:"ready",disable:"disabled"},disabled:{update:t=>this.resetAllAnimation(t),reset:"empty"},clearing:{update:{target:"empty",action:t=>this.animateClearingUpdateEmpty(t)},reset:"empty",skip:"ready"}},(()=>this.checkProcessedDataAnimatable()))}get contextNodeData(){return this._contextNodeData}getNodeData(){return this.contextNodeData?.nodeData}resetAnimation(t){"initial"===t?this.animationState.transition("reset"):"ready"===t?this.animationState.transition("skip"):"disabled"===t&&this.animationState.transition("disable")}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager.addListener("legend-item-click",(t=>this.onLegendItemClick(t))),this.ctx.chartEventManager.addListener("legend-item-double-click",(t=>this.onLegendItemDoubleClick(t))))}destroy(){super.destroy(),this._contextNodeData=void 0}async update(t){let{seriesRect:e}=t;const{visible:i,_contextNodeData:n}=this,a=this.ctx.highlightManager?.getActiveHighlight()?.series,s=a===this,r=this.checkResize(e),o=await this.updateHighlightSelection(s);await this.updateSelections(i),await this.updateNodes(o,s,i);const l=this.getAnimationData(e,n);l&&(r&&this.animationState.transition("resize",l),this.animationState.transition("update",l))}async updateSelections(t){var e;const i=!this.opts.animationAlwaysUpdateSelections&&this.ctx.animationManager.isSkipped();if((t||!i)&&(this.nodeDataRefresh||this.isPathOrSelectionDirty())){if(this.nodeDataRefresh){this.nodeDataRefresh=!1,this.debug("CartesianSeries.updateSelections() - calling createNodeData() for",this.id),this.markQuadtreeDirty(),this._contextNodeData=await this.createNodeData();const t=this.isProcessedDataAnimatable();this._contextNodeData&&((e=this._contextNodeData).animationValid??(e.animationValid=t)),this.minRectsCache.dirtyNodeData=!0;const{dataModel:i,processedData:n}=this;void 0!==i&&void 0!==n&&this.dispatch("data-update",{dataModel:i,processedData:n})}await this.updateSeriesSelections()}}async updateSeriesSelections(t){const{datumSelection:e,labelSelection:i,markerSelection:n,paths:a}=this,s=this._contextNodeData;if(!s)return;const{nodeData:r,labelData:o,itemId:l}=s;await this.updatePaths({seriesHighlighted:t,itemId:l,contextData:s,paths:a}),this.datumSelection=await this.updateDatumSelection({nodeData:r,datumSelection:e}),this.labelSelection=await this.updateLabelSelection({labelData:o,labelSelection:i}),this.opts.hasMarkers&&(this.markerSelection=await this.updateMarkerSelection({nodeData:r,markerSelection:n}))}markerFactory(){return new(Rh())}getGroupZIndexSubOrder(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const i=super.getGroupZIndexSubOrder(t,e);if("paths"===t){const[t]=i,n=this.opts.pathsZIndexSubOrderOffset[e]??0;i[0]=Pe(t)?()=>Number(t())+n:Number(t)+n}return i}async updateNodes(t,e,i){const{highlightSelection:n,highlightLabelSelection:a,opts:{hasMarkers:s,hasHighlightedLabels:r}}=this,o=!this.ctx.animationManager.isSkipped(),l=this.visible&&null!=this._contextNodeData&&i;this.rootGroup.visible=o||l,this.contentGroup.visible=o||l,this.highlightGroup.visible=(o||l)&&e;const c=this.getOpacity();s?(await this.updateMarkerNodes({markerSelection:n,isHighlight:!0}),this.animationState.transition("highlightMarkers",n)):(await this.updateDatumNodes({datumSelection:n,isHighlight:!0}),this.animationState.transition("highlight",n)),r&&await this.updateLabelNodes({labelSelection:a});const{dataNodeGroup:u,markerGroup:h,datumSelection:d,labelSelection:p,markerSelection:g,paths:f,labelGroup:y}=this,{itemId:m}=this.contextNodeData??{};u.opacity=c,u.visible=o||l,y.visible=l,s&&(h.opacity=c,h.zIndex=u.zIndex>=4?u.zIndex:u.zIndex+1,h.visible=l),y&&(y.opacity=c),await this.updatePathNodes({seriesHighlighted:e,itemId:m,paths:f,opacity:c,visible:l,animationEnabled:o}),u.visible&&(await this.updateDatumNodes({datumSelection:d,highlightedItems:t,isHighlight:!1}),await this.updateLabelNodes({labelSelection:p}),s&&await this.updateMarkerNodes({markerSelection:g,isHighlight:!1}))}getHighlightLabelData(t,e){const i=t.filter((t=>t.datum===e.datum&&t.itemId===e.itemId));return 0===i.length?void 0:i}getHighlightData(t,e){return e?[e]:void 0}async updateHighlightSelection(t){const{highlightSelection:e,highlightLabelSelection:i,_contextNodeData:n}=this;if(!n)return;const a=this.ctx.highlightManager?.getActiveHighlight(),s=t&&a?.datum?a:void 0;let r,o;if(null!=s){const t=this.isLabelEnabled(),{labelData:e,nodeData:i}=n;o=this.getHighlightData(i,s),r=t?this.getHighlightLabelData(e,s):void 0}return this.highlightSelection=await this.updateHighlightSelectionItem({items:o,highlightSelection:e}),this.highlightLabelSelection=await this.updateHighlightSelectionLabel({items:r,highlightLabelSelection:i}),o}markQuadtreeDirty(){this.quadtree=void 0}*datumNodesIter(){for(const{node:t}of this.datumSelection)!0!==t.datum.missing&&(yield t)}getQuadTree(){if(void 0===this.quadtree){const{width:t,height:e}=this.ctx.scene.canvas,i=new ue(0,0,t,e);this.quadtree=new ch(100,10,i),this.initQuadTree(this.quadtree)}return this.quadtree}initQuadTree(t){}pickNodeExactShape(t){const e=super.pickNodeExactShape(t);if(e)return e;const{x:i,y:n}=t,{opts:{hasMarkers:a}}=this;let s;const{dataNodeGroup:r,markerGroup:o}=this;if(s=r.pickNode(i,n),!s&&a&&(s=o?.pickNode(i,n)),s&&!0!==s.datum.missing)return{datum:s.datum,distance:0};for(const l of this.moduleMap.modules()){const{datum:e}=l.pickNodeExact(t)??{};if(null!=e&&!0!==e?.missing)return{datum:e,distance:0}}}pickNodeClosestDatum(t){const{x:e,y:i}=t,{axes:n,_contextNodeData:a}=this;if(!a)return;const s=n.x,r=n.y,o=e,l=i;let c,u=1/0;for(const h of a.nodeData){const{point:{x:t=NaN,y:e=NaN}={}}=h;if(isNaN(t)||isNaN(e))continue;if(!(s?.inRange(t)&&r?.inRange(e)))continue;const i=Math.max((o-t)**2+(l-e)**2,0);i<u&&(u=i,c=h)}for(const h of this.moduleMap.modules()){const e=h.pickNodeNearest(t);if(void 0!==e&&e.distanceSquared<u){u=e.distanceSquared,c=e.datum;break}}if(c){return{datum:c,distance:Math.max(Math.sqrt(u)-(c.point?.size??0),0)}}}pickNodeMainAxisFirst(t,e){const{x:i,y:n}=t,{axes:a,_contextNodeData:s}=this,{pickOutsideVisibleMinorAxis:r}=this.properties;if(!s)return;const o=a.x,l=a.y,c=[o,l].filter(wo.is).map((t=>t.direction));if(e&&0===c.length)return;const[u="x"]=c,h=[i,n];"x"!==u&&h.reverse();const d=[1/0,1/0];let p;for(const g of s.nodeData){const{x:t=NaN,y:e=NaN}=g.point??g.midPoint??{};if(isNaN(t)||isNaN(e)||!0===g.missing)continue;const i=[o?.inRange(t),l?.inRange(e)];if("x"!==u&&i.reverse(),!i[0]||!r&&!i[1])continue;const n=[t,e];"x"!==u&&n.reverse();let a=!0;for(let s=0;s<n.length;s++){const t=Math.abs(n[s]-h[s]);if(t>d[s]){a=!1;break}t<d[s]&&(d[s]=t,d.fill(1/0,s+1,d.length))}a&&(p=g)}if(p){let e=Math.max(d[0]**2+d[1]**2-(p.point?.size??0),0);for(const i of this.moduleMap.modules()){const n=i.pickNodeMainAxisFirst(t);if(void 0!==n&&n.distanceSquared<e){p=n.datum,e=n.distanceSquared;break}}return{datum:p,distance:Math.sqrt(e)}}}onLegendItemClick(t){const{legendItemName:e}=this.properties,{enabled:i,itemId:n,series:a}=t,s=null!=e&&e===t.legendItemName;(a.id===this.id||s)&&this.toggleSeriesItem(n,i)}onLegendItemDoubleClick(t){const{enabled:e,itemId:i,series:n,numVisibleItems:a}=t,{legendItemName:s}=this.properties,r=null!=s&&s===t.legendItemName;n.id===this.id||r||e&&1===a?this.toggleSeriesItem(i,!0):this.toggleSeriesItem(i,!1)}isPathOrSelectionDirty(){return!1}getLabelData(){return[]}shouldFlipXY(){return!1}getMinRects(t,e){const{dirtyNodeData:i,sizeCache:n,minRect:a,minVisibleRect:s}=this.minRectsCache,r=JSON.stringify({width:t,height:e});if(!(r!==n)&&!i&&a&&s)return{minRect:a,minVisibleRect:s};const o=this.computeMinRects(t,e);return this.minRectsCache={dirtyNodeData:!1,sizeCache:r,minRect:o?.minRect,minVisibleRect:o?.minVisibleRect},o}computeMinRects(t,e){const i=this._contextNodeData;if(!i?.nodeData.length)return;const{nodeData:n}=i,a=Array(n.length),s=Array(n.length);for(const[y,{midPoint:m}]of n.entries())a[y]=m?.x??0,s[y]=m?.y??0;let r,o,l,c;a.sort(((t,e)=>t-e)),s.sort(((t,e)=>t-e));let u=0,h=0;for(let y=1;y<n.length;y++)a[y]>=0&&(r??(r=y)),a[y]>t&&(o??(o=y)),s[y]>=0&&(l??(l=y)),s[y]>e&&(c??(c=y)),u=Math.max(u,a[y]-a[y-1]),h=Math.max(h,s[y]-s[y-1]);o??(o=n.length),c??(c=n.length);const d=null!=r&&null!=o?a.slice(r,o):[],p=null!=l&&null!=c?s.slice(l,c):[];let g=0,f=0;for(let y=1;y<Math.max(d.length,p.length);y++){const t=d[y],e=d[y-1],i=p[y],n=p[y-1];null!=t&&null!=e&&(g=Math.max(g,t-e)),null!=i&&null!=n&&(f=Math.max(f,i-n))}return{minRect:new ue(0,0,u,h),minVisibleRect:new ue(0,0,g,f)}}updateHighlightSelectionItem(t){const{opts:{hasMarkers:e}}=this,{items:i,highlightSelection:n}=t,a=i??[];if(e){const t=n;return this.updateMarkerSelection({nodeData:a,markerSelection:t})}return this.updateDatumSelection({nodeData:a,datumSelection:n})}updateHighlightSelectionLabel(t){return this.updateLabelSelection({labelData:t.items??[],labelSelection:t.highlightLabelSelection})}async updateDatumSelection(t){return t.datumSelection}async updateDatumNodes(t){}async updateMarkerSelection(t){return t.markerSelection}async updateMarkerNodes(t){}async updatePaths(t){t.paths.forEach((t=>t.visible=!1))}async updatePathNodes(t){const{paths:e,opacity:i,visible:n}=t;for(const a of e)a.opacity=i,a.visible=n}resetPathAnimation(t){const{path:e}=this.opts?.animationResetFns??{};e&&t.paths.forEach((t=>{ea([t],e)}))}resetDatumAnimation(t){const{datum:e}=this.opts?.animationResetFns??{};e&&ea([t.datumSelection],e)}resetLabelAnimation(t){const{label:e}=this.opts?.animationResetFns??{};e&&ea([t.labelSelection],e)}resetMarkerAnimation(t){const{marker:e}=this.opts?.animationResetFns??{};e&&this.opts.hasMarkers&&ea([t.markerSelection],e)}resetAllAnimation(t){this.ctx.animationManager.stopByAnimationGroupId(this.id),this.resetPathAnimation(t),this.resetDatumAnimation(t),this.resetLabelAnimation(t),this.resetMarkerAnimation(t),!1===t.contextData?.animationValid&&this.ctx.animationManager.skipCurrentBatch()}animateEmptyUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}animateWaitingUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}animateReadyHighlight(t){const{datum:e}=this.opts?.animationResetFns??{};e&&ea([t],e)}animateReadyHighlightMarkers(t){const{marker:e}=this.opts?.animationResetFns??{};e&&ea([t],e)}animateReadyResize(t){this.resetAllAnimation(t)}animateClearingUpdateEmpty(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}animationTransitionClear(){const t=this.getAnimationData();t&&this.animationState.transition("clear",t)}getAnimationData(t,e){const{_contextNodeData:i}=this;if(!i)return;return{datumSelection:this.datumSelection,markerSelection:this.markerSelection,labelSelection:this.labelSelection,annotationSelections:[...this.annotationSelections],contextData:i,previousContextData:e,paths:this.paths,seriesRect:t}}calculateScaling(){const t={};for(const e of Object.values(Jn)){const i=this.axes[e];if(i)if(i.scale instanceof Na){const{range:n,domain:a}=i.scale;t[e]={type:"log",convert:t=>i.scale.convert(t),domain:[a[0],a[1]],range:[n[0],n[1]]}}else if(i.scale instanceof Li){const{range:n}=i.scale,a=i.scale.getDomain();t[e]={type:"continuous",domain:[a[0],a[1]],range:[n[0],n[1]]}}else if(i.scale){const{domain:n}=i.scale;t[e]={type:"category",domain:n,range:n.map((t=>i.scale.convert(t)))}}}return t}},Zh=["top","right","bottom","left"],Hh=class extends lh{constructor(t,e){super(t,e),this.paired=!0,this.firstSeriesTranslation=!0,this.lastUpdateClipRect=void 0,this._lastCrossLineIds=void 0,this._lastAxisAreaWidths=new Map,this._lastClipSeries=!1,this._lastVisibility={crossLines:!0,series:!0}}onAxisChange(t,e){super.onAxisChange(t,e),this.ctx?.zoomManager.updateAxes(t)}destroySeries(t){super.destroySeries(t),this.firstSeriesTranslation=!0}getChartType(){return"cartesian"}setRootClipRects(t){const{seriesRoot:e,annotationRoot:i,highlightRoot:n}=this;e.setClipRect(t),n.setClipRect(t),i.setClipRect(t)}performLayout(t){const{firstSeriesTranslation:e,seriesRoot:i,annotationRoot:n,highlightRoot:a}=this,{seriesRect:s,visibility:r,clipSeries:o}=this.updateAxes(t.layoutBox);this.seriesRoot.visible=r.series,this.seriesRect=s,this.animationRect=t.layoutBox;const{x:l,y:c}=s;if(e){for(const t of[i,n,a])t.translationX=Math.floor(l),t.translationY=Math.floor(c);this.firstSeriesTranslation=!1}else{const{translationX:t,translationY:e}=i;Ii(this.id,"seriesRect",this.ctx.animationManager,[i,a,n],{translationX:t,translationY:e},{translationX:Math.floor(l),translationY:Math.floor(c)},{phase:"update"})}const u=s.clone().grow(this.seriesArea.padding),h=this.seriesArea.clip||o?u:void 0,{lastUpdateClipRect:d}=this;this.lastUpdateClipRect=h,this.ctx.animationManager.isActive()&&null!=d?this.ctx.animationManager.animate({id:this.id,groupId:"clip-rect",phase:"update",from:d,to:u,onUpdate:t=>this.setRootClipRects(t),onComplete:()=>this.setRootClipRects(h)}):this.setRootClipRects(h),this.ctx.layoutManager.emitLayoutComplete(t,{axes:this.axes.map((t=>t.getLayoutState())),series:{rect:s,paddedRect:u,visible:r.series,shouldFlipXY:this.shouldFlipXY()},clipSeries:o})}updateAxes(t){const e=this.axes.flatMap((t=>t.crossLines??[])).map((t=>t.id));let i,n,a;null!=this._lastCrossLineIds&&this._lastCrossLineIds.length===e.length&&this._lastCrossLineIds.every(((t,i)=>e[i]===t))?(i=new Map(this._lastAxisAreaWidths.entries()),n=this._lastClipSeries,a={...this._lastVisibility}):(i=new Map,n=!1,a={crossLines:!0,series:!0},this._lastCrossLineIds=e);const s=new Set(this.axes.map((t=>t.position)));for(const p of i.keys())s.has(p)||i.delete(p);const r=(t,e,s)=>{if([...t.keys()].some((t=>!i.has(t))))return!1;if(a.crossLines!==s.crossLines||a.series!==s.series||n!==e)return!1;for(const[n,a]of i.entries()){const e=t.get(n);if((null!=a||null!=e)&&a!==e)return!1}return!0},o=t=>{for(const[e,i]of t.entries())i&&Math.abs(i)===1/0?t.set(e,0):t.set(e,null!=i?Math.ceil(i):i);return t};let l=new Map,c={},u=!1,h=this.seriesRect?.clone(),d=0;do{i=new Map(l.entries()),n=u,Object.assign(a,c);const e=this.updateAxesPass(i,t.clone(),h);if(l=o(e.axisAreaWidths),c=e.visibility,u=e.clipSeries,({seriesRect:h}=e),d++>10){_.warn("unable to find stable axis layout.");break}}while(!r(l,u,c));this.axes.forEach((t=>{t.update()}));return this.axes.forEach((e=>{if(e.setCrossLinesVisible(a.crossLines),h)switch(e.clipGrid(h.x,h.y,h.width+5,h.height+5),e.position){case"left":case"right":e.clipTickLines(t.x,h.y,t.width+5,h.height+5);break;case"top":case"bottom":e.clipTickLines(h.x,t.y,h.width+5,t.height+5)}})),this._lastAxisAreaWidths=i,this._lastVisibility=a,this._lastClipSeries=n,{seriesRect:h,visibility:a,clipSeries:n}}updateAxesPass(t,e,i){const n=new Map,a=new Map,s={series:!0,crossLines:!0};let r=!1;const o={},l=this.applySeriesPadding(e),c=i?this.buildCrossLinePadding(t):{},u=this.buildAxisBound(l,t,c,s),h=this.buildSeriesRect(u,t);for(const g of this.axes){const{position:t="left"}=g,{clipSeries:e,axisThickness:i}=this.calculateAxisDimensions({axis:g,seriesRect:h,primaryTickCounts:o,clipSeries:r});n.set(g.id,i),a.has(t)||a.set(t,[]),a.get(t)?.push(g),r=r||e}const d=new Map,p=new Map;for(const[g,f]of a.entries()){const t="left"===g||"right"===g;d.set(g,this.calculateAxisArea(f,n,p,t))}for(const[g,f]of a.entries())this.positionAxes({axes:f,position:g,axisWidths:n,axisOffsets:p,axisAreaWidths:d,axisBound:u,seriesRect:h});return{clipSeries:r,seriesRect:h,axisAreaWidths:d,visibility:s}}buildCrossLinePadding(t){const e={};this.axes.forEach((t=>{t.crossLines?.forEach((t=>{t.calculatePadding?.(e)}))}));for(const[i,n=0]of Object.entries(e))e[i]=Math.max(n-(t.get(i)??0),0);return e}applySeriesPadding(t){const e=t.clone();return Zh.forEach((t=>{const i=this.seriesArea.padding[t],n=this.axes.findLast((e=>e.position===t));n?n.seriesAreaPadding=i:e.shrink(i,t)})),e}buildAxisBound(t,e,i,n){const a=t.clone(),{top:s=0,right:r=0,bottom:o=0,left:l=0}=i,c=l+r,u=s+o,h=(e.get("left")??0)+(e.get("right")??0)+c,d=(e.get("top")??0)+(e.get("bottom")??0)+u;return a.width<=h||a.height<=d?(n.crossLines=!1,n.series=!1,a):(a.x+=l,a.y+=s,a.width-=c,a.height-=u,a)}buildSeriesRect(t,e){const i=t.clone();return i.x+=e.get("left")??0,i.y+=e.get("top")??0,i.width-=(e.get("left")??0)+(e.get("right")??0),i.height-=(e.get("top")??0)+(e.get("bottom")??0),i.width=Math.max(0,i.width),i.height=Math.max(0,i.height),i}clampToOutsideSeriesRect(t,e,i,n){const{x:a,y:s,width:r,height:o}=t,l=[a,s,a+r,s+o][("x"===i?0:1)+(1===n?0:2)];return(1===n?Math.min:Math.max)(e,l)}calculateAxisDimensions(t){const{axis:e,seriesRect:i,primaryTickCounts:n}=t;let{clipSeries:a}=t;const{position:s="left",direction:r}=e;this.sizeAxis(e,i,s);const o=this.getSyncedDomain(e),l=e.calculateLayout(o,e.nice?n[r]:void 0),c="y"===r;let u;return n[r]??(n[r]=l.primaryTickCount),a||(a=e.dataDomain.clipped||e.visibleRange[0]>0||e.visibleRange[1]<1),u=null!=e.thickness&&e.thickness>0?e.thickness:c?l.bbox.width:l.bbox.height,u=Math.ceil(u),{clipSeries:a,axisThickness:u}}getSyncedDomain(t){const e=this.modulesManager.getModule("sync");if(!e?.enabled)return;const i=e.getSyncedDomain(t);if(i&&t.dataDomain.domain.length){let n;const{domain:a}=t.scale;if(Li.is(t.scale)){const[t,e]=qt(i);n=t!==a[0]||e!==a[1]}else n=!Ci(i,a);n&&!this.skipSync&&e.updateSiblings()}return i}sizeAxis(t,e,i){const n=t instanceof wo||t instanceof Po,a="left"===i||"right"===i;let{min:s,max:r}=this.ctx.zoomManager.getAxisZoom(t.id);const{width:o,height:l}=e,c=a?l:o;let u=0,h=c;const{width:d,unit:p,align:g}=t.layoutConstraints;h="px"===p?u+d:h*d/100,"end"===g&&(u=c-(h-u),h=c),n&&a?[s,r]=[1-r,1-s]:a&&([u,h]=[h,u]),t.range=[u,h],t.visibleRange=[s,r],t.gridLength=a?o:l}calculateAxisArea(t,e,i,n){const{width:a,height:s,canvas:r}=this.ctx.scene;let o=n?s%r.pixelRatio:a%r.pixelRatio,l=0;for(const c of t){i.set(c.id,o);const t=e.get(c.id)??0;l=Math.max(l,o+t),c.layoutConstraints.stacked&&(o+=t+15)}return l}positionAxes(t){const{axes:e,axisBound:i,axisWidths:n,axisOffsets:a,axisAreaWidths:s,seriesRect:r,position:o}=t,l=s.get(o)??0;let c="x",u="y",h=1,d=0;"top"!==o&&"bottom"!==o||(c="y",u="x",d+=1),d+=i[c],"right"!==o&&"bottom"!==o||(h=-1,d+="x"===c?i.width:i.height);for(const p of e){const t=s.get("x"===u?"left":"top")??0;p.translation[u]=i[u]+t;const e=n.get(p.id)??0,o=a.get(p.id)??0;p.translation[c]=this.clampToOutsideSeriesRect(r,d+h*(o+e),c,h),p.gridPadding=l-o-e,p.updatePosition()}}shouldFlipXY(){return this.series.every((t=>t instanceof Wh&&t.shouldFlipXY()))}};Hh.className="CartesianChart",Hh.type="cartesian";var Kh=class t{constructor(t,e,i){this.factoryApi=e,this.licenseManager=i,this.chart=t}static isInstance(e){return e instanceof t||("AgChartInstanceProxy"===e.constructor?.name&&null!=e.chart||null!=e.chart&&this.validateImplementation(e))}static validateImplementation(t){const e=Object.keys(Object.getPrototypeOf(t)??{});return["getOptions","destroy"].every((t=>e.includes(t)))}async update(t){this.factoryApi.update(t,this),await this.chart.waitForUpdate()}async updateDelta(t){this.factoryApi.updateUserDelta(this,t),await this.chart.waitForUpdate()}getOptions(){const t=Ys(this.chart.getOptions());for(const e in t)e.startsWith("_")&&delete t[e];return t}waitForUpdate(){return this.chart.waitForUpdate()}async download(t){const e=await this.prepareResizedChart(this,t);try{e.chart.download(t?.fileName,t?.fileFormat)}finally{e.destroy()}}async __toSVG(t){const e=await this.prepareResizedChart(this,{width:600,height:300,...t});try{return e.chart.toSVG()}finally{e.destroy()}}async getImageDataURL(t){const e=await this.prepareResizedChart(this,t);try{return e.chart.getCanvasDataURL(t?.fileFormat)}finally{e.destroy()}}getState(){const{factoryApi:{caretaker:t},chart:{ctx:{annotationManager:e}}}=this;return t.save(e)}async setState(t){const{factoryApi:{caretaker:e},chart:{ctx:{annotationManager:i}}}=this;e.restore(t,i),await this.chart.waitForUpdate()}resetAnimations(){this.chart.resetAnimations()}skipAnimations(){this.chart.skipAnimations()}destroy(){this.chart.publicApi=void 0,this.chart.destroy()}async prepareResizedChart(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{chart:i}=t,n=e.width??i.width??i.ctx.scene.canvas.width,a=e.height??i.height??i.ctx.scene.canvas.height,s=t.getState(),r=Go.hasEnterpriseModules(),o={...i.chartOptions.processedOverrides,container:document.createElement("div"),width:n,height:a},l=i.getOptions();r&&(o.animation={enabled:!1},zu(l)&&(o.toolbar={enabled:!1}),this.licenseManager?.isDisplayWatermark()&&(o.foreground={text:this.licenseManager.getWatermarkMessage(),image:{url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjU4IiBoZWlnaHQ9IjQwIiB2aWV3Qm94PSIwIDAgMjU4IDQwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMjUuNzc5IDI4LjY1N0gxMy4zNTlMMTEuMTczIDM0LjAxMkg1LjY3Mjk3TDE3LjE4MiA3LjA1OTk5SDIxLjk1M0wzMy40NjIgMzQuMDEySDI3Ljk2MkwyNS43NzYgMjguNjU3SDI1Ljc3OVpNMjQuMDY4IDI0LjM5N0wxOS41ODggMTMuNDM0TDE1LjEwNyAyNC4zOTdIMjQuMDY4Wk02Mi4wOTIgMTguODIzSDQ5LjgxN1YyMy4wODZINTYuNzc1QzU2LjU1NSAyNS4yMjIgNTUuNzU1IDI2LjkyNyA1NC4zNzIgMjguMjAyQzUyLjk4OSAyOS40NzYgNTEuMTY2IDMwLjExNSA0OC45MDkgMzAuMTE1QzQ3LjYyMiAzMC4xMTUgNDYuNDUgMjkuODg1IDQ1LjM5MyAyOS40MjNDNDQuMzU4MyAyOC45NzgxIDQzLjQzMjYgMjguMzEzOCA0Mi42OCAyNy40NzZDNDEuOTI3IDI2LjYzOSA0MS4zNDQgMjUuNjMxIDQwLjkzMSAyNC40NTNDNDAuNTE5IDIzLjI3NSA0MC4zMTEgMjEuOTcgNDAuMzExIDIwLjUzN0M0MC4zMTEgMTkuMTA1IDQwLjUxNiAxNy44IDQwLjkzMSAxNi42MjFDNDEuMzQ0IDE1LjQ0MyA0MS45MjcgMTQuNDM2IDQyLjY4IDEzLjU5OEM0My40Mzc2IDEyLjc1NzcgNDQuMzY5NiAxMi4wOTMyIDQ1LjQxMSAxMS42NTFDNDYuNDc4IDExLjE4OSA0Ny42NTYgMTAuOTYgNDguOTQ2IDEwLjk2QzUxLjYxMiAxMC45NiA1My42MzcgMTEuNjAyIDU1LjAyIDEyLjg4NUw1OC4zIDkuNjA0OTlDNTUuODE3IDcuNjY5OTkgNTIuNjc2IDYuNjk5OTkgNDguODcyIDYuNjk5OTlDNDYuNzYgNi42OTk5OSA0NC44NTMgNy4wMzQ5OSA0My4xNTQgNy43MDA5OUM0MS40NTUgOC4zNjc5OSAzOS45OTggOS4zMDM5OSAzOC43ODMgMTAuNTA0QzM3LjU2NyAxMS43MDcgMzYuNjM0IDEzLjE1OCAzNS45NzcgMTQuODU3QzM1LjMxOSAxNi41NTYgMzQuOTk0IDE4LjQ1MSAzNC45OTQgMjAuNTRDMzQuOTk0IDIyLjYzIDM1LjMyOSAyNC40OTQgMzUuOTk1IDI2LjIwNUMzNi42NjIgMjcuOTE2IDM3LjYwNSAyOS4zNzQgMzguODE3IDMwLjU3N0M0MC4wMzIgMzEuNzggNDEuNDg2IDMyLjcxMyA0My4xODggMzMuMzgzQzQ0Ljg4OCAzNC4wNDkgNDYuNzgyIDM0LjM4NCA0OC44NzIgMzQuMzg0QzUwLjk2MSAzNC4zODQgNTIuNzUgMzQuMDQ5IDU0LjM5IDMzLjM4M0M1Ni4wMzEgMzIuNzE2IDU3LjQyNiAzMS43OCA1OC41NzkgMzAuNTc3QzU5LjczMyAyOS4zNzQgNjAuNjE5IDI3LjkxNiA2MS4yMzkgMjYuMjA1QzYxLjg2IDI0LjQ5NCA2Mi4xNyAyMi42MDUgNjIuMTcgMjAuNTRDNjIuMTY5NiAxOS45Njg4IDYyLjE0NDUgMTkuMzk4IDYyLjA5NSAxOC44MjlMNjIuMDkyIDE4LjgyM1pNMTUxLjgxIDE2Ljk4MUMxNTMuNDEgMTQuNjA5IDE1Ny40MTkgMTQuMzU4IDE1OS4wMjIgMTQuMzU4VjE4LjkxQzE1Ni45NTcgMTguOTEgMTU0Ljk4NSAxOC45OTYgMTUzLjc1NyAxOS44OTJDMTUyLjUyOSAyMC43OTIgMTUxLjkxOSAyMS45ODIgMTUxLjkxOSAyMy40NjRWMzMuOTlIMTQ2Ljk2NFYxNC4zNThIMTUxLjczNkwxNTEuODEgMTYuOTgxWk0xNDMuMDExIDE0LjM2MVYzNC4wMzFIMTM4LjI0TDEzOC4xMzEgMzEuMDQ1QzEzNy40NjYgMzIuMDc2IDEzNi41NTEgMzIuOTIxOSAxMzUuNDcxIDMzLjUwNEMxMzQuMzc2IDM0LjA5OSAxMzMuMDY4IDM0LjM5NiAxMzEuNTM2IDM0LjM5NkMxMzAuMiAzNC4zOTYgMTI4Ljk2MyAzNC4xNTIgMTI3LjgyMiAzMy42NjhDMTI2LjcgMzMuMTk2NCAxMjUuNjg5IDMyLjQ5NSAxMjQuODU1IDMxLjYwOUMxMjQuMDE4IDMwLjcyMiAxMjMuMzU0IDI5LjY2MiAxMjIuODcxIDI4LjQyMkMxMjIuMzg0IDI3LjE4NSAxMjIuMTQyIDI1LjgxMSAxMjIuMTQyIDI0LjMwNEMxMjIuMTQyIDIyLjc5OCAxMjIuMzg0IDIxLjM3OCAxMjIuODcxIDIwLjExNkMxMjMuMzU3IDE4Ljg1NCAxMjQuMDE4IDE3Ljc3MiAxMjQuODU1IDE2Ljg3M0MxMjUuNjg4IDE1Ljk3NjQgMTI2LjY5OCAxNS4yNjM2IDEyNy44MjIgMTQuNzhDMTI4Ljk2MyAxNC4yODEgMTMwLjIwMyAxNC4wMzMgMTMxLjUzNiAxNC4wMzNDMTMzLjA0MyAxNC4wMzMgMTM0LjMzIDE0LjMxOCAxMzUuMzk3IDE0Ljg4OEMxMzYuNDYyIDE1LjQ1ODkgMTM3LjM3NSAxNi4yNzggMTM4LjA1NyAxNy4yNzZWMTQuMzYxSDE0My4wMTFaTTEzMi42MzEgMzAuMTMzQzEzNC4yNTYgMzAuMTMzIDEzNS41NjcgMjkuNTk0IDEzNi41NjUgMjguNTEyQzEzNy41NjEgMjcuNDMgMTM4LjA2IDI1Ljk5MSAxMzguMDYgMjQuMTk2QzEzOC4wNiAyMi40MDEgMTM3LjU2MSAyMC45OSAxMzYuNTY1IDE5Ljg5OUMxMzUuNTcgMTguODA3IDEzNC4yNTkgMTguMjU4IDEzMi42MzEgMTguMjU4QzEzMS4wMDMgMTguMjU4IDEyOS43MjkgMTguODA0IDEyOC43MzQgMTkuODk5QzEyNy43MzggMjAuOTkzIDEyNy4yMzkgMjIuNDM4IDEyNy4yMzkgMjQuMjMzQzEyNy4yMzkgMjYuMDI4IDEyNy43MzUgMjcuNDMzIDEyOC43MzQgMjguNTE1QzEyOS43MjkgMjkuNTk0IDEzMS4wMjggMzAuMTM2IDEzMi42MzEgMzAuMTM2VjMwLjEzM1pNOTMuNjk4IDI3Ljg3NkM5My41Nzk1IDI4LjAwMjUgOTMuNDU2NCAyOC4xMjQ2IDkzLjMyOSAyOC4yNDJDOTEuOTQ3IDI5LjUxNiA5MC4xMjMgMzAuMTU1IDg3Ljg2NiAzMC4xNTVDODYuNTggMzAuMTU1IDg1LjQwOCAyOS45MjYgODQuMzUgMjkuNDY0QzgzLjMxNTUgMjkuMDE4OSA4Mi4zODk4IDI4LjM1NDYgODEuNjM3IDI3LjUxN0M4MC44ODQgMjYuNjc5IDgwLjMwMSAyNS42NzIgNzkuODg5IDI0LjQ5NEM3OS40NzYgMjMuMzE1IDc5LjI2OSAyMi4wMSA3OS4yNjkgMjAuNTc4Qzc5LjI2OSAxOS4xNDUgNzkuNDczIDE3Ljg0IDc5Ljg4OSAxNi42NjJDODAuMzAxIDE1LjQ4NCA4MC44ODQgMTQuNDc2IDgxLjYzNyAxMy42MzlDODIuMzk0OSAxMi43OTg3IDgzLjMyNzMgMTIuMTM0MiA4NC4zNjkgMTEuNjkyQzg1LjQzNiAxMS4yMyA4Ni42MTQgMTEgODcuOTAzIDExQzkwLjU3IDExIDkyLjU5NSAxMS42NDIgOTMuOTc3IDEyLjkyNkw5Ny4yNTggOS42NDQ5OUM5NC43NzQgNy43MTA5OSA5MS42MzMgNi43Mzk5OSA4Ny44MjkgNi43Mzk5OUM4NS43MTggNi43Mzk5OSA4My44MTEgNy4wNzQ5OSA4Mi4xMTIgNy43NDE5OUM4MC40MTMgOC40MDc5OSA3OC45NTYgOS4zNDQ5OSA3Ny43NCAxMC41NDVDNzYuNTI1IDExLjc0NyA3NS41OTIgMTMuMTk5IDc0LjkzNCAxNC44OThDNzQuMjc3IDE2LjU5NyA3My45NTEgMTguNDkxIDczLjk1MSAyMC41ODFDNzMuOTUxIDIyLjY3IDc0LjI4NiAyNC41MzQgNzQuOTUzIDI2LjI0NUM3NS42MTkgMjcuOTU3IDc2LjU2MiAyOS40MTQgNzcuNzc0IDMwLjYxN0M3OC45OSAzMS44MiA4MC40NDQgMzIuNzUzIDgyLjE0NiAzMy40MjNDODMuODQ1IDM0LjA5IDg1LjczOSAzNC40MjQgODcuODI5IDM0LjQyNEM4OS45MTkgMzQuNDI0IDkxLjcwOCAzNC4wOSA5My4zNDggMzMuNDIzQzk0LjcxOCAzMi44NjUgOTUuOTE4IDMyLjEyMSA5Ni45NDggMzEuMTkxQzk3LjE0OSAzMS4wMDggOTcuMzQ4IDMwLjgxNSA5Ny41MzcgMzAuNjJMOTMuNzAxIDI3Ljg4NUw5My42OTggMjcuODc2Wk0xMTAuODAyIDE0LjAxNUMxMDkuMTk5IDE0LjAxNSAxMDYuODM2IDE0LjQ3MSAxMDUuNjExIDE2LjE1OEwxMDUuNTM3IDYuMDE1OTlIMTAwLjc2NVYzMy45MzlIMTA1LjcyVjIyLjY0MUMxMDUuNzcxIDIxLjQ2MDcgMTA2LjI4OCAyMC4zNDg4IDEwNy4xNTcgMTkuNTQ4OUMxMDguMDI3IDE4Ljc0OTEgMTA5LjE3OCAxOC4zMjY2IDExMC4zNTggMTguMzc0QzExMy4zOTcgMTguMzc0IDExNC4yNjggMjEuMTU5IDExNC4yNjggMjIuNjQxVjMzLjkzOUgxMTkuMjIzVjIxLjA1OUMxMTkuMjIzIDIxLjA1OSAxMTkuMTQyIDE0LjAxNSAxMTAuODAyIDE0LjAxNVpNMTczLjc2MyAxNC4zNThIMTY5Ljk5OVY4LjcxNDk5SDE2NS4wNDhWMTQuMzU4SDE2MS4yODRWMTguOTE2SDE2NS4wNDhWMzQuMDAzSDE2OS45OTlWMTguOTE2SDE3My43NjNWMTQuMzU4Wk0xOTAuNzg3IDI1LjI2MkMxOTAuMTI5IDI0LjUwMTQgMTg5LjMwNyAyMy44OTk0IDE4OC4zODQgMjMuNTAxQzE4Ny40ODggMjMuMTE3IDE4Ni4zMzEgMjIuNzMyIDE4NC45NDggMjIuMzY0QzE4NC4xNjUgMjIuMTQzOSAxODMuMzkgMjEuODk3OCAxODIuNjIzIDIxLjYyNkMxODIuMTYzIDIxLjQ2MjEgMTgxLjc0MSAyMS4yMDY2IDE4MS4zODMgMjAuODc1QzE4MS4yMzUgMjAuNzQyMSAxODEuMTE4IDIwLjU3ODkgMTgxLjAzOSAyMC4zOTY0QzE4MC45NjEgMjAuMjE0IDE4MC45MjIgMjAuMDE2NiAxODAuOTI3IDE5LjgxOEMxODAuOTI3IDE5LjI3MiAxODEuMTU2IDE4Ljg0NCAxODEuNjI1IDE4LjUxQzE4Mi4xMjEgMTguMTU2IDE4Mi44NjIgMTcuOTc2IDE4My44MjYgMTcuOTc2QzE4NC43OSAxNy45NzYgMTg1LjU4NyAxOC4yMDkgMTg2LjE0OCAxOC42NjhDMTg2LjcwNiAxOS4xMjQgMTg3LjAwNyAxOS43MjUgMTg3LjA3MiAyMC41TDE4Ny4wOTQgMjAuNzgySDE5MS42MzNMMTkxLjYxNyAyMC40NkMxOTEuNTIxIDE4LjQ4NSAxOTAuNzcxIDE2LjkgMTg5LjM4NSAxNS43NUMxODguMDEyIDE0LjYxMiAxODYuMTg1IDE0LjAzMyAxODMuOTYyIDE0LjAzM0MxODIuNDc3IDE0LjAzMyAxODEuMTQxIDE0LjI4NyAxNzkuOTk0IDE0Ljc4NkMxNzguODMxIDE1LjI5MSAxNzcuOTI2IDE1Ljk5NSAxNzcuMjk2IDE2Ljg4MkMxNzYuNjczIDE3Ljc0NTUgMTc2LjMzOCAxOC43ODQgMTc2LjM0MSAxOS44NDlDMTc2LjM0MSAyMS4xNjcgMTc2LjY5OCAyMi4yNDkgMTc3LjM5OSAyMy4wNjRDMTc4LjA2IDIzLjg0MzIgMTc4Ljg5OCAyNC40NTM0IDE3OS44NDIgMjQuODQ0QzE4MC43NDQgMjUuMjE2IDE4MS45MjggMjUuNjA3IDE4My4zNjEgMjZDMTg0LjgwNiAyNi40MSAxODUuODcyIDI2Ljc4NSAxODYuNTMgMjcuMTIzQzE4Ny4xIDI3LjQxNCAxODcuMzc5IDI3Ljg0NSAxODcuMzc5IDI4LjQ0NEMxODcuMzc5IDI5LjA0MiAxODcuMTIyIDI5LjQ2NyAxODYuNTk1IDI5LjgzOUMxODYuMDQzIDMwLjIyNiAxODUuMjM3IDMwLjQyNSAxODQuMjAxIDMwLjQyNUMxODMuMTY2IDMwLjQyNSAxODIuMzk0IDMwLjE3NCAxODEuNzQ5IDI5LjY3NEMxODEuMTEzIDI5LjE4MSAxODAuNzcyIDI4LjU4OSAxODAuNzEgMjcuODY0TDE4MC42ODUgMjcuNTgySDE3Ni4wMTNMMTc2LjAyNSAyNy45MDFDMTc2LjA2NyAyOS4wOTU1IDE3Ni40NzIgMzAuMjQ4NyAxNzcuMTg4IDMxLjIwNkMxNzcuOTA3IDMyLjE4IDE3OC44OTMgMzIuOTU4IDE4MC4xMTggMzMuNTE5QzE4MS4zMzYgMzQuMDc3IDE4Mi43MzIgMzQuMzYyIDE4NC4yNjYgMzQuMzYyQzE4NS44MDEgMzQuMzYyIDE4Ny4xMDkgMzQuMTA4IDE4OC4yMzggMzMuNjA5QzE4OS4zNzYgMzMuMTA0IDE5MC4yNzIgMzIuMzk0IDE5MC45MDEgMzEuNDk0QzE5MS41MzQgMzAuNTkyIDE5MS44NTMgMjkuNTU0IDE5MS44NTMgMjguNDAzQzE5MS44MjggMjcuMTEgMTkxLjQ2NiAyNi4wNTMgMTkwLjc3NyAyNS4yNjJIMTkwLjc4N1oiIGZpbGw9IiM5QjlCOUIiLz4KPHBhdGggZD0iTTI0MS45ODIgMjUuNjU4MlYxNy43MTE3SDIyOC40NDFMMjIwLjQ5NCAyNS42NTgySDI0MS45ODJaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNTcuMjM5IDUuOTUwODFIMjQwLjI2NUwyMzIuMjU1IDEzLjg5NzNIMjU3LjIzOVY1Ljk1MDgxWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjEyLjYxMSAzMy42MDQ4TDIxNi42OCAyOS41MzYxSDIzMC40MTJWMzcuNDgyN0gyMTIuNjExVjMzLjYwNDhaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yMTUuNTk5IDIxLjc4MDNIMjI0LjM3MkwyMzIuMzgyIDEzLjgzMzdIMjE1LjU5OVYyMS43ODAzWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjA2IDMzLjYwNDdIMjEyLjYxMUwyMjAuNDk0IDI1LjY1ODJIMjA2VjMzLjYwNDdaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNDAuMjY1IDUuOTUwODFMMjM2LjE5NyAxMC4wMTk0SDIxMC4yNTlWMi4wNzI4OEgyNDAuMjY1VjUuOTUwODFaIiBmaWxsPSIjOUI5QjlCIi8+Cjwvc3ZnPgo=",width:170,height:25,right:25,bottom:50,opacity:.7}}));const c={...i.chartOptions.specialOverrides},u={...i.chartOptions.optionMetadata};null!=e.width&&null!=e.height&&(c.overrideDevicePixelRatio=1);const h=await this.factoryApi.create(l,o,c,u);return await h.setState(s),h.chart.ctx.zoomManager.updateZoom("chartProxy",i.ctx.zoomManager.getZoom()),i.series.forEach(((t,e)=>{t.visible||(h.chart.series[e].visible=!1)})),h.chart.update(0,{forceNodeDataRefresh:!0}),await h.waitForUpdate(),h}};Kh.chartInstances=new WeakMap,R([Js({oldValue(t){t.destroyed||(t.publicApi=void 0),Kh.chartInstances.delete(t)},newValue(t){t.publicApi=this,Kh.chartInstances.set(t,this)}})],Kh.prototype,"chart",2);var $h=Kh,Qh=class extends Bo{constructor(t){super(),this.ctx=t,this.localeText=void 0}};R([qs((t=>{t.ctx.localeManager.setLocaleText(t.localeText)})),Ji(an,{optional:!0})],Qh.prototype,"localeText",2),R([qs((t=>{t.ctx.localeManager.setLocaleTextFormatter(t.getLocaleText)})),Ji(rn,{optional:!0})],Qh.prototype,"getLocaleText",2);var Xh={type:"root",optionsKey:"locale",packageType:"community",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],moduleFactory:t=>new Qh(t)},Jh=class extends Li{constructor(){super([0,1],[0,1]),this.type="number"}toDomain(t){return t}ticks(){const t=this.tickCount??Li.defaultTickCount;if(!this.domain||this.domain.length<2||t<1||!this.domain.every(isFinite))return[];this.refresh();const[e,i]=this.getDomain();if(this.interval){const t=Math.abs(this.interval);if(!Da((i-e)/t,this.getPixelRange()))return Ia(e,i,t)}return xa(e,i,t,this.minTickCount,this.maxTickCount)}update(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()}getTickStep(t,e){return this.interval??va(t,e,this.tickCount,this.minTickCount,this.maxTickCount)}updateNiceDomain(){const t=this.tickCount;if(t<1)return void(this.niceDomain=[...this.domain]);let[e,i]=this.domain;if(1===t)[e,i]=function(t,e){const i=Math.abs(e-t),n=10**Math.floor(Math.log10(i));let a=1/0,s=[t,e];for(const r of ya){const o=r*n,l=Math.floor(t/o)*o,c=Math.ceil(e/o)*o,u=1-i/Math.abs(c-l);a>u&&(a=u,s=[l,c])}return s}(e,i);else{const t=e>i?Math.ceil:Math.floor,n=i<e?Math.floor:Math.ceil,a=4;for(let s=0;s<a;s++){const a=e,s=i,r=this.getTickStep(e,i),[o,l]=this.domain;if(r>=1)e=t(o/r)*r,i=n(l/r)*r;else{const a=1/r;e=t(o*a)/a,i=n(l*a)/a}if(e===a&&i===s)break}}this.niceDomain=[e,i]}tickFormat(t){let{ticks:e,specifier:i}=t;return Sa(e??this.ticks(),i)}};function qh(t,e,i){let[n,a]=qt(t);n=function(t,e,i){const n=Math.abs(e-t)/(i-1),a=Math.floor(Math.log10(n)),s=Math.pow(10,a);return Math.floor(t/s)*s}(Math.floor(n),a,e);const s=function(t,e,i){const n=i-1,a=(e-t)/n;return function(t){const e=Math.floor(Math.log10(t)),i=Math.pow(10,e),n=t/i*10;if(n>0&&n<=1)return i/10;if(n>1&&n<=2)return 2*i/10;if(n>1&&n<=5)return 5*i/10;if(n>5&&n<=10)return 10*i/10;if(n>10&&n<=20)return 20*i/10;if(n>20&&n<=40)return 40*i/10;if(n>40&&n<=50)return 50*i/10;if(n>50&&n<=100)return 100*i/10;return n}(a)}(n,a,e);a=n+(e-1)*s;const r=i?[a,n]:[n,a],o=function(t,e,i){const n=Math.floor(Math.log10(e)),a=e>0&&e<1?Math.abs(n):0,s=Math.pow(10,a),r=[];for(let o=0;o<i;o++){const i=t+e*o;r[o]=Math.round(i*s)/s}return r}(n,s,e);return{domain:r,ticks:o}}var td=class extends Io{constructor(t){super(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Jh),this.min=NaN,this.max=NaN}normaliseDataDomain(t){const{min:e,max:i}=this,{extent:n,clipped:a}=Ai(t,e,i);return{domain:n,clipped:a}}updateSecondaryAxisTicks(t){if(null==this.dataDomain)throw new Error("AG Charts - dataDomain not calculated, cannot perform tick calculation.");if(0===this.dataDomain.domain.length)return[];const{domain:e,ticks:i}=qh(this.dataDomain.domain,t??0,this.reverse);return this.scale.nice=!1,this.scale.domain=e,this.scale.update(),i}};td.className="NumberAxis",td.type="number",R([Ji(tn(gn,xn("max"))),io(NaN)],td.prototype,"min",2),R([Ji(tn(gn,bn("min"))),io(NaN)],td.prototype,"max",2);var ed=Kn((t=>Ue(t)&&0!==t),"a non-zero number"),id=class extends td{constructor(t){super(t,new Na),this.min=NaN,this.max=NaN}normaliseDataDomain(t){const{min:e,max:i}=this,{extent:n,clipped:a}=Ai(t,e,i),s=n[0]>n[1],r=n[0]<0&&n[1]>0,o=0===n[0]&&0===n[1];return(s||r||o)&&(r?_.warn("the data domain crosses zero, the chart data cannot be rendered. See log axis documentation for more information."):o&&_.warn("the data domain has 0 extent, no data is rendered.")),0===n[0]&&(n[0]=1),0===n[1]&&(n[1]=-1),{domain:n,clipped:a}}set base(t){this.scale.base=t}get base(){return this.scale.base}};id.className="LogAxis",id.type="log",R([Ji(tn(gn,ed,xn("max"))),io(NaN)],id.prototype,"min",2),R([Ji(tn(gn,ed,bn("min"))),io(NaN)],id.prototype,"max",2);var nd=class extends Io{constructor(t){super(t,new La),this.min=void 0,this.max=void 0}normaliseDataDomain(t){let{min:e,max:i}=this,n=!1;return"number"===typeof e&&(e=new Date(e)),"number"===typeof i&&(i=new Date(i)),t.length>2&&(t=ki(t)?.map((t=>new Date(t)))??[]),e instanceof Date&&(n||(n=e>t[0]),t=[e,t[1]]),i instanceof Date&&(n||(n=i<t[1]),t=[t[0],i]),t[0]>t[1]&&(t=[]),{domain:t,clipped:n}}onFormatChange(t,e,i,n){n?super.onFormatChange(t,e,i,n):(this.labelFormatter=this.scale.tickFormat({ticks:t,domain:i}),this.datumFormatter=this.scale.tickFormat({ticks:t,domain:i,formatOffset:1}))}};nd.className="TimeAxis",nd.type="time",R([Ji(tn(Mn,xn("max")),{optional:!0})],nd.prototype,"min",2),R([Ji(tn(Mn,bn("min")),{optional:!0})],nd.prototype,"max",2);var ad=(t,e,i,n)=>{let{x0:a,y0:s,x1:r,y1:o,cx:l,cy:c}=e;if(n&&t.moveTo(a,s),a!==r||s!==o){const e=Math.atan2(s-c,a-l),n=Math.atan2(o-c,r-l);t.arc(l,c,i,e,n)}else t.lineTo(a,s)},sd=1e-6,rd=(t,e,i,n,a)=>{let s=!1,r=!1,o=n-Math.sqrt(Math.max(a**2-i**2,0)),l=0,c=0,u=i-Math.sqrt(Math.max(a**2-n**2,0));return o>t?(s=!0,o=t,l=i-Math.sqrt(Math.max(a**2-(n-t)**2))):o<sd&&(o=0),u>e?(r=!0,c=n-Math.sqrt(Math.max(a**2-(i-e)**2)),u=e):u<sd&&(u=0),{leading0:o,leading1:l,trailing0:c,trailing1:u,leadingClipped:s,trailingClipped:r}},od=(t,e,i,n,a,s,r)=>{let{topLeft:o,topRight:l,bottomRight:c,bottomLeft:u}=s;const h=Math.max(o+u,l+c),d=Math.max(o+l,u+c);if(h<=0&&d<=0)return void(null==r?t.rect(e,i,n,a):t.rect(r.x,r.y,r.width,r.height));if(null==r&&o===l&&o===c&&o===u)return void t.roundRect(e,i,n,a,o);if(n<0&&(e+=n,n=Math.abs(n)),a<0&&(i+=a,a=Math.abs(a)),n<=0||a<=0)return;if(null==r)r=new ue(e,i,n,a);else{const t=Math.max(e,r.x),s=Math.min(e+n,r.x+r.width),o=Math.max(i,r.y),l=Math.min(i+a,r.y+r.height);r=new ue(t,o,s-t,l-o)}const p=Math.max(h/a,d/n,1);p>1&&(o/=p,l/=p,c/=p,u/=p);let g,f,y,m,x=!0,b=!0,v=!0,M=!0;if(x){const t=rd(r.height,r.width,Math.max(e+o-r.x,0),Math.max(i+o-r.y,0),o);t.leadingClipped&&(M=!1),t.trailingClipped&&(b=!1);g={x0:Math.max(r.x+t.leading1,r.x),y0:Math.max(r.y+t.leading0,r.y),x1:Math.max(r.x+t.trailing1,r.x),y1:Math.max(r.y+t.trailing0,r.y),cx:e+o,cy:i+o}}if(b){const t=rd(r.width,r.height,Math.max(i+l-r.y,0),Math.max(r.x+r.width-(e+n-l),0),l);t.leadingClipped&&(x=!1),t.trailingClipped&&(v=!1);f={x0:Math.min(r.x+r.width-t.leading0,r.x+r.width),y0:Math.max(r.y+t.leading1,r.y),x1:Math.min(r.x+r.width-t.trailing0,r.x+r.width),y1:Math.max(r.y+t.trailing1,r.y),cx:e+n-l,cy:i+l}}if(v){const t=rd(r.height,r.width,Math.max(r.x+r.width-(e+n-c),0),Math.max(r.y+r.height-(i+a-c),0),c);t.leadingClipped&&(b=!1),t.trailingClipped&&(M=!1);y={x0:Math.min(r.x+r.width-t.leading1,r.x+r.width),y0:Math.min(r.y+r.height-t.leading0,r.y+r.height),x1:Math.min(r.x+r.width-t.trailing1,r.x+r.width),y1:Math.min(r.y+r.height-t.trailing0,r.y+r.height),cx:e+n-c,cy:i+a-c}}if(M){const t=rd(r.width,r.height,Math.max(r.y+r.height-(i+a-u),0),Math.max(e+u-r.x,0),u);t.leadingClipped&&(v=!1),t.trailingClipped&&(x=!1);m={x0:Math.max(r.x+t.leading0,r.x),y0:Math.min(r.y+r.height-t.leading1,r.y+r.height),x1:Math.max(r.x+t.trailing0,r.x),y1:Math.min(r.y+r.height-t.trailing1,r.y+r.height),cx:e+u,cy:i+a-u}}let S=!1;x&&null!=g&&(ad(t,g,o,!S),S||(S=!0)),b&&null!=f&&(ad(t,f,l,!S),S||(S=!0)),v&&null!=y&&(ad(t,y,c,!S),S||(S=!0)),M&&null!=m&&(ad(t,m,u,!S),S||(S=!0)),t.closePath()},ld=class extends Gl{constructor(){super(...arguments),this.borderPath=new Bl,this.x=0,this.y=0,this.width=10,this.height=10,this.topLeftCornerRadius=0,this.topRightCornerRadius=0,this.bottomRightCornerRadius=0,this.bottomLeftCornerRadius=0,this.clipBBox=void 0,this.crisp=!1,this.lastUpdatePathStrokeWidth=ws.defaultStyles.strokeWidth,this.effectiveStrokeWidth=ws.defaultStyles.strokeWidth,this.hittester=super.isPointInPath,this.distanceCalculator=super.distanceSquaredTransformedPoint,this.microPixelEffectOpacity=1}set cornerRadius(t){this.topLeftCornerRadius=t,this.topRightCornerRadius=t,this.bottomRightCornerRadius=t,this.bottomLeftCornerRadius=t}isDirtyPath(){return this.lastUpdatePathStrokeWidth!==this.strokeWidth||Boolean(this.path.isDirty()||this.borderPath.isDirty())}updatePath(){const{path:t,borderPath:e,crisp:i,topLeftCornerRadius:n,topRightCornerRadius:a,bottomRightCornerRadius:s,bottomLeftCornerRadius:r}=this;let{x:o,y:l,width:c,height:u,strokeWidth:h,clipBBox:d}=this;const p=1/(this.layerManager?.canvas.pixelRatio??1);let g=1;if(t.clear(!0),e.clear(!0),i&&(c<=p&&(g*=c/p),u<=p&&(g*=u/p),c=this.align(o,c),u=this.align(l,u),o=this.align(o),l=this.align(l),d=null!=d?new ue(this.align(d.x),this.align(d.y),this.align(d.x,d.width),this.align(d.y,d.height)):void 0),h)if(c<p){const t=o+p/2;e.moveTo(t,l),e.lineTo(t,l+u),h=p,this.borderClipPath=void 0}else if(u<p){const t=l+p/2;e.moveTo(o,t),e.lineTo(o+c,t),h=p,this.borderClipPath=void 0}else if(h<c&&h<u){const i=h/2;o+=i,l+=i,c-=h,u-=h;const p=d?.clone().shrink(i),g={topLeft:n>0?n-h:0,topRight:a>0?a-h:0,bottomRight:s>0?s-h:0,bottomLeft:r>0?r-h:0};this.borderClipPath=void 0,c>0&&u>0&&(null==p||p?.width>0&&p?.height>0)&&(od(t,o,l,c,u,g,p),od(e,o,l,c,u,g,p))}else this.borderClipPath=this.borderClipPath??new Bl,this.borderClipPath.clear(!0),this.borderClipPath.rect(o,l,c,u),e.rect(o,l,c,u);else{const e={topLeft:n,topRight:a,bottomRight:s,bottomLeft:r};this.borderClipPath=void 0,od(t,o,l,c,u,e,d)}if([n,a,s,r].every((t=>0===t))){const t=this.getBBox();this.hittester=t.containsPoint.bind(t),this.distanceSquared=(t,e)=>this.getBBox().distanceSquared(t,e)}else this.hittester=super.isPointInPath,this.distanceCalculator=super.distanceSquaredTransformedPoint;this.effectiveStrokeWidth=h,this.lastUpdatePathStrokeWidth=h,this.microPixelEffectOpacity=g}computeBBox(){const{x:t,y:e,width:i,height:n,clipBBox:a}=this;return a?.clone()??new ue(t,e,i,n)}isPointInPath(t,e){return this.hittester(t,e)}get midPoint(){return{x:this.x+this.width/2,y:this.y+this.height/2}}distanceSquared(t,e){return this.distanceCalculator(t,e)}applyFillAlpha(t){const{fillOpacity:e,microPixelEffectOpacity:i,opacity:n}=this;t.globalAlpha*=n*e*i}renderStroke(t){const{stroke:e,effectiveStrokeWidth:i}=this;if(e&&i){const{globalAlpha:n}=t,{strokeOpacity:a,lineDash:s,lineDashOffset:r,lineCap:o,lineJoin:l,borderPath:c,borderClipPath:u,opacity:h,microPixelEffectOpacity:d}=this;u&&t.clip(u.getPath2D()),t.strokeStyle=e,t.globalAlpha*=h*a*d,t.lineWidth=i,s&&t.setLineDash(s),r&&(t.lineDashOffset=r),o&&(t.lineCap=o),l&&(t.lineJoin=l),t.stroke(c.getPath2D()),t.globalAlpha=n}}};ld.className="Rect",R([Fl()],ld.prototype,"x",2),R([Fl()],ld.prototype,"y",2),R([Fl()],ld.prototype,"width",2),R([Fl()],ld.prototype,"height",2),R([Fl()],ld.prototype,"topLeftCornerRadius",2),R([Fl()],ld.prototype,"topRightCornerRadius",2),R([Fl()],ld.prototype,"bottomRightCornerRadius",2),R([Fl()],ld.prototype,"bottomLeftCornerRadius",2),R([Fl()],ld.prototype,"clipBBox",2),R([Fl()],ld.prototype,"crisp",2);var cd=class extends Bo{constructor(t){super(),this.ctx=t,this.rectNode=new ld,this.textNode=new Rs,this.fill="white",this.node=this.createNode(),this.node.append([this.rectNode,this.textNode]),this.visible=!0,this.destroyFns.push(t.scene.attachNode(this.node),t.layoutManager.addListener("layout:complete",(t=>this.onLayoutComplete(t))))}createNode(){return new Ka({name:"background",zIndex:0})}onLayoutComplete(t){const{width:e,height:i}=t.chart;this.rectNode.width=e,this.rectNode.height=i}};R([Ji(sn),Xs("node","visible")],cd.prototype,"visible",2),R([Ji(In,{optional:!0}),Xs("rectNode","fill")],cd.prototype,"fill",2),R([Ji(nn,{optional:!0})],cd.prototype,"image",2),R([Ji(on,{optional:!0}),Xs("textNode")],cd.prototype,"text",2);var ud={type:"root",optionsKey:"background",packageType:"community",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],moduleFactory:t=>new cd(t)};function hd(t){let{orientation:e,bboxes:i,maxHeight:n,maxWidth:a,itemPaddingY:s=0,itemPaddingX:r=0,forceResult:o=!1}=t;const l="horizontal"===e,c={max:l?a:n,fn:l?t=>t.width:t=>t.height,padding:l?r:s},u={max:l?n:a,fn:l?t=>t.height:t=>t.width,padding:l?s:r};let h=0;const d=[];for(;h<i.length;){const t=dd(i.slice(h),h,c,u,o);if(!t)return;h+=t.processedBBoxCount,d.push(t.pageIndices)}return function(t,e,i,n,a){let s=0,r=0;const o=t.map((t=>{"horizontal"===e&&(t=function(t){const e=[];for(const i of t[0])e.push([]);return t.forEach(((t,i)=>{t.forEach(((t,n)=>{e[n][i]=t}))})),e}(t));let o=0;const l=t.map((t=>{const e=t.map((t=>(o=Math.max(t,o),i[t])));let s=0,r=0;return e.forEach((t=>{s+=t.height+n,r=Math.max(r,t.width+a)})),{indices:t,bboxes:e,columnHeight:Math.ceil(s),columnWidth:Math.ceil(r)}}));let c=0,u=0;return l.forEach((t=>{c+=t.columnWidth,u=Math.max(u,t.columnHeight)})),s=Math.max(c,s),r=Math.max(u,r),{columns:l,startIndex:t[0][0],endIndex:o,pageWidth:c,pageHeight:u}}));return{pages:o,maxPageWidth:s,maxPageHeight:r}}(d,e,i,s,r)}function dd(t,e,i,n,a){let s=function(t,e){const i=t.length;let n=0;for(let a=0;a<i;a++)if(n+=e.fn(t[a])+e.padding,n>e.max){return i/a<2?Math.ceil(i/2):a}return i}(t,i);if(s<1){if(!a)return;s=1}let r=s;for(;r>=1;){const s=pd(t,e,r,i,n,a);if(null==s&&r<=1)return;if(null==s){r--;continue}if("number"===typeof s){if(s<=1)return;r=s<r&&s>1?s:r,r--;continue}return{processedBBoxCount:s.length*s[0].length,pageIndices:s}}}function pd(t,e,i,n,a,s){const r=[];let o=0,l=0,c=[];const u=[];for(let h=0;h<t.length;h++){const d=(h+i)%i;0===d&&(o+=l,l=0,c.length>0&&r.push(c),c=[]);const p=n.fn(t[h])+n.padding;u[d]=Math.max(u[d]??0,p),l=Math.max(l,a.fn(t[h])+a.padding);const g=o+l,f=!s||r.length>0;if(g>a.max&&f){c=[];break}if(u.reduce(((t,e)=>t+e),0)>n.max&&!s)return u.length<i?u.length:void 0;c.push(h+e)}return c.length>0&&r.push(c),r.length>0?r:void 0}var gd=class extends ye{constructor(t){super(),this.sourceImage=t,this.x=0,this.y=0,this.width=0,this.height=0,this.opacity=1}updateBitmap(t,e,i,n){this.sourceImage=t,this.width=t.width/e,this.height=t.height/e,this.x=i/e,this.y=n/e,this.markDirty(3)}render(t){const{ctx:e,forceRender:i,stats:n}=t;if(0===this.dirty&&!i)return void(n&&n.nodesSkipped++);const a=this.sourceImage;a&&(e.globalAlpha=this.opacity,e.drawImage(a,0,0,a.width,a.height,this.x,this.y,this.width,this.height),super.render(t))}};R([de({redraw:3})],gd.prototype,"x",2),R([de({redraw:3})],gd.prototype,"y",2),R([de({redraw:3})],gd.prototype,"width",2),R([de({redraw:3})],gd.prototype,"height",2),R([de({redraw:3})],gd.prototype,"opacity",2);var fd=class extends(Wa(Ka)){constructor(){super({name:"markerLabelGroup"}),this.label=new Rs,this.symbolsGroup=new Ka({name:"legend-markerLabel-symbols"}),this.bitmap=new gd,this.bitmapDirty=!0,this.enabled=!0,this.pageIndex=NaN,this._markers=[],this._lines=[];const{markers:t,label:e,lines:i}=this;e.textBaseline="middle",e.fontSize=12,e.fontFamily="Verdana, sans-serif",e.fill="black",e.y=1,this.updateSymbols(t,i),this.append([this.symbolsGroup,e])}destroy(){super.destroy(),this.destroyProxyButton()}destroyProxyButton(){this.proxyButton?.button.remove(),this.proxyButton?.listitem.remove(),this.proxyButton=void 0}get markers(){return this._markers}get lines(){return this._lines}updateSymbols(t,e){Ci(this._markers,t)&&Ci(this._lines,e)||(this.bitmapDirty=!0,this._markers=t,this._lines=e,this.symbolsGroup.clear(),this.symbolsGroup.append([this.bitmap,...e,...t]))}setEnabled(t){this.enabled=t,this.refreshVisibilities()}refreshVisibilities(){const t=this.enabled?1:.5;this.label.opacity=t,this.opacity=t,this.bitmap.opacity=t,this.setBitmapVisibility(!this.enabled)}setBitmapVisibility(t){const{lines:e,markers:i}=this;[e,i].forEach((e=>e.forEach((e=>e.visible=!t)))),this.bitmap.visible=t}update(t,e,i){let{spriteAAPadding:n,spritePixelRatio:a}=e;const{markers:s,lines:r}=this;let o=0,l=0,c=0;for(let x=0;x<Math.max(s.length,r.length);x++){const{length:t,spacing:e,isCustomMarker:n}=i[x]??0,a=s[x],u=r[x],h=a?.size??0;let d=1/0,p=1/0,g=1/0,f=1/0,y=1/0;if(a){const e=a.constructor.center,i=(h+a.strokeWidth)/2;n?(a.x=0,a.y=0,a.translationX=(e.x-.5)*h+t/2+c,a.translationY=(e.y-.5)*h,f=a.translationY-i,y=a.translationX-i):(a.x=(e.x-.5)*h+t/2+c,a.y=(e.y-.5)*h,f=a.y-i,y=a.x-i)}u&&(u.x1=c,u.x2=c+t,u.y1=0,u.y2=0,u.markDirty(3),d=-u.strokeWidth/2,p=u.x1,g=u.x2),c+=e+Math.max(t,h),o=Math.min(o,p,g,y),l=Math.min(l,d,f)}const u=i.at(-1),h=this.lines.at(-1),d=this.markers.at(-1),p=h?h.x2:-1/0,g=(d?.x??0)+(d?.size??0)/2;if(this.label.x=Math.max(p,g)+(u?.spacing??0),this.bitmapDirty){this.setBitmapVisibility(!1);const e=(n+o)*a,i=(n-l)*a,s=t.renderSprite(this.symbolsGroup,{scale:a,translateX:Math.floor(e),translateY:Math.floor(i)});this.bitmap.updateBitmap(s,a,Math.ceil(-e),Math.ceil(-i)),this.bitmapDirty=!1,this.refreshVisibilities()}if(i.length<2)return;const f=this.symbolsGroup.getBBox(),y=Math.max(d?.size??0,u?.length??0),m=new ue(f.x+y/2,f.y,y,f.height);this.symbolsGroup.setClipRect(m)}computeBBox(){const{label:t,lines:e,markers:i}=this;return this.toParent(Ka.computeChildrenBBox(Rt([t],e,i),!1))}};fd.className="MarkerLabel",R([Xs("label")],fd.prototype,"text",2),R([Xs("label")],fd.prototype,"fontStyle",2),R([Xs("label")],fd.prototype,"fontWeight",2),R([Xs("label")],fd.prototype,"fontSize",2),R([Xs("label")],fd.prototype,"fontFamily",2),R([Xs("label","fill")],fd.prototype,"color",2);var yd=class extends $i{constructor(){super(...arguments),this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};R([Ji(In)],yd.prototype,"color",2),R([Ji(zn,{optional:!0})],yd.prototype,"fontStyle",2),R([Ji(jn,{optional:!0})],yd.prototype,"fontWeight",2),R([Ji(hn)],yd.prototype,"fontSize",2),R([Ji(on)],yd.prototype,"fontFamily",2);var md=class extends $i{constructor(){super(...arguments),this.size=15,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=1,this.strokeOpacity=1}};R([Ji(hn)],md.prototype,"size",2),R([Ji(In,{optional:!0})],md.prototype,"fill",2),R([Ji(dn,{optional:!0})],md.prototype,"fillOpacity",2),R([Ji(In,{optional:!0})],md.prototype,"stroke",2),R([Ji(hn)],md.prototype,"strokeWidth",2),R([Ji(dn)],md.prototype,"strokeOpacity",2);var xd=class extends $i{constructor(t){super(),this.parent=t,this.shape=Ah,this.size=15,this.padding=8}};R([Js({changeValue(){this.parent.marker===this&&this.parent.onMarkerShapeChange()}})],xd.prototype,"shape",2),R([Ji(hn)],xd.prototype,"size",2),R([Ji(hn)],xd.prototype,"padding",2);var bd=class extends $i{constructor(t,e){super(),this.chartUpdateCallback=t,this.pageUpdateCallback=e,this.id=Tt(this),this.marker=new xd(this),this.activeStyle=new md,this.inactiveStyle=new md,this.highlightStyle=new md,this.label=new yd,this.group=new Xa({name:"pagination"}),this.labelNode=new Rs,this.destroyFns=[],this.totalPages=0,this.currentPage=0,this.translationX=0,this.translationY=0,this.nextButtonDisabled=!1,this.previousButtonDisabled=!1,this._visible=!0,this._enabled=!0,this._orientation="vertical",this._nextButton=new Ah,this._previousButton=new Ah,this.labelNode.setProperties({textBaseline:"middle",fontSize:12,fontFamily:"Verdana, sans-serif",fill:"black",y:1}),this.group.append([this.nextButton,this.previousButton,this.labelNode]),this.update(),this.updateMarkers()}destroy(){this.destroyFns.forEach((t=>t()))}set visible(t){this._visible=t,this.updateGroupVisibility()}get visible(){return this._visible}set enabled(t){this._enabled=t,this.updateGroupVisibility()}get enabled(){return this._enabled}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible}set orientation(t){if(this._orientation=t,"horizontal"===t)this.previousButton.rotation=-Math.PI/2,this.nextButton.rotation=Math.PI/2;else this.previousButton.rotation=0,this.nextButton.rotation=Math.PI}get orientation(){return this._orientation}set nextButton(t){this._nextButton!==t&&(this.group.removeChild(this._nextButton),this._nextButton=t,this.group.appendChild(t))}get nextButton(){return this._nextButton}set previousButton(t){this._previousButton!==t&&(this.group.removeChild(this._previousButton),this._previousButton=t,this.group.appendChild(t))}get previousButton(){return this._previousButton}update(){this.updateLabel(),this.updatePositions(),this.enableOrDisableButtons()}updatePositions(){this.group.translationX=this.translationX,this.group.translationY=this.translationY,this.updateLabelPosition(),this.updateNextButtonPosition()}updateLabelPosition(){const{size:t,padding:e}=this.marker;this.nextButton.size=t,this.previousButton.size=t,this.labelNode.x=t/2+e}updateNextButtonPosition(){const t=this.labelNode.getBBox();this.nextButton.translationX=t.width+2*(this.marker.size/2+this.marker.padding)}updateLabel(){const{currentPage:t,totalPages:e,labelNode:i,label:{color:n,fontStyle:a,fontWeight:s,fontSize:r,fontFamily:o}}=this;i.text=`${t+1} / ${e}`,i.fill=n,i.fontStyle=a,i.fontWeight=s,i.fontSize=r,i.fontFamily=o}updateMarkers(){const{nextButton:t,previousButton:e,nextButtonDisabled:i,previousButtonDisabled:n,activeStyle:a,inactiveStyle:s,highlightStyle:r,highlightActive:o}=this,l=(t,e)=>e?s:t===o?r:a;this.updateMarker(t,l("next",i)),this.updateMarker(e,l("previous",n))}updateMarker(t,e){const{size:i}=this.marker;t.size=i,t.fill=e.fill,t.fillOpacity=e.fillOpacity??1,t.stroke=e.stroke,t.strokeWidth=e.strokeWidth,t.strokeOpacity=e.strokeOpacity}enableOrDisableButtons(){const{currentPage:t,totalPages:e}=this,i=0===e,n=t===e-1,a=0===t;this.nextButtonDisabled=n||i,this.previousButtonDisabled=a||i}setPage(t){t=Xt(0,t,this.totalPages-1),this.currentPage!==t&&(this.currentPage=t,this.onPaginationChanged())}getCursor(t){return{previous:this.previousButtonDisabled,next:this.nextButtonDisabled}[t]?void 0:"pointer"}onClick(t,e){t.preventDefault(),"next"!==e||this.nextButtonDisabled?"previous"!==e||this.previousButtonDisabled||(this.decrementPage(),this.onPaginationChanged()):(this.incrementPage(),this.onPaginationChanged())}onMouseHover(t){this.highlightActive=t,this.updateMarkers(),this.chartUpdateCallback(6)}onPaginationChanged(){this.pageUpdateCallback(this.currentPage)}incrementPage(){this.currentPage=Math.min(this.currentPage+1,this.totalPages-1)}decrementPage(){this.currentPage=Math.max(this.currentPage-1,0)}onMarkerShapeChange(){const t=Ya(Rh(this.marker.shape||Ah));this.previousButton=new t,this.nextButton=new t,this.updatePositions(),this.updateMarkers(),this.chartUpdateCallback(6)}attachPagination(t){t.append(this.group)}getBBox(){return this.group.getBBox()}computeCSSBounds(){return{prev:Za.toCanvas(this.previousButton),next:Za.toCanvas(this.nextButton)}}};bd.className="Pagination",R([Ji(nn)],bd.prototype,"marker",2),R([Ji(nn)],bd.prototype,"activeStyle",2),R([Ji(nn)],bd.prototype,"inactiveStyle",2),R([Ji(nn)],bd.prototype,"highlightStyle",2),R([Ji(nn)],bd.prototype,"label",2);var vd=class extends $i{constructor(){super(...arguments),this.maxLength=void 0,this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};R([Ji(hn,{optional:!0})],vd.prototype,"maxLength",2),R([Ji(In)],vd.prototype,"color",2),R([Ji(zn,{optional:!0})],vd.prototype,"fontStyle",2),R([Ji(jn,{optional:!0})],vd.prototype,"fontWeight",2),R([Ji(hn)],vd.prototype,"fontSize",2),R([Ji(on)],vd.prototype,"fontFamily",2),R([Ji(rn,{optional:!0})],vd.prototype,"formatter",2);var Md=class extends $i{constructor(){super(...arguments),this.size=15,this.padding=8}};R([qs((t=>t.parent?.onMarkerShapeChange()))],Md.prototype,"shape",2),R([Ji(hn)],Md.prototype,"size",2),R([Ji(hn)],Md.prototype,"padding",2),R([Ji(hn,{optional:!0})],Md.prototype,"strokeWidth",2),R([Ji(sn)],Md.prototype,"enabled",2);var Sd=class extends $i{};R([Ji(hn,{optional:!0})],Sd.prototype,"strokeWidth",2),R([Ji(hn,{optional:!0})],Sd.prototype,"length",2);var Id=class extends $i{constructor(){super(...arguments),this.paddingX=16,this.paddingY=8,this.showSeriesStroke=!1,this.marker=new Md,this.label=new vd,this.line=new Sd}};R([Ji(hn,{optional:!0})],Id.prototype,"maxWidth",2),R([Ji(hn)],Id.prototype,"paddingX",2),R([Ji(hn)],Id.prototype,"paddingY",2),R([Ji(sn)],Id.prototype,"showSeriesStroke",2),R([Ji(nn)],Id.prototype,"marker",2),R([Ji(nn)],Id.prototype,"label",2),R([Ji(nn)],Id.prototype,"line",2);var Dd=class extends $i{};R([Ji(rn,{optional:!0})],Dd.prototype,"legendItemClick",2),R([Ji(rn,{optional:!0})],Dd.prototype,"legendItemDoubleClick",2);var wd="legend-visibility",Nd="legend-other-series",Ld=class{constructor(t,e,i,n,a){this.type=t,this.enabled=e,this.itemId=i,this.seriesId=n,this.event=a,this.defaultPrevented=!1}preventDefault(){this.defaultPrevented=!0}},kd=class extends $i{constructor(t){super(),this.ctx=t,this.id=Tt(this),this.group=new Mr({name:"legend",zIndex:15}),this.itemSelection=es.select(this.group,fd),this.spriteRenderer=void 0,this.oldSize=[0,0],this.pages=[],this.maxPageSize=[0,0],this.paginationTrackingIndex=0,this.truncatedItems=new Set,this._data=[],this._symbolsDirty=!0,this.toggleSeries=!0,this.item=new Id,this.listeners=new Dd,this.enabled=!0,this.position="bottom",this.spacing=20,this.destroyFns=[],this.proxyLegendDirty=!0,this.proxyLegendToolbarDestroyFns=new el,this.size=[0,0],this._visible=!0,this.item.marker.parent=this,this.pagination=new bd((e=>t.updateService.update(e)),(t=>this.updatePageNumber(t))),this.pagination.attachPagination(this.group),this.destroyFns.push(t.contextMenuRegistry.registerDefaultAction({id:wd,type:"legend",label:"contextMenuToggleSeriesVisibility",action:t=>this.contextToggleVisibility(t)}),t.contextMenuRegistry.registerDefaultAction({id:Nd,type:"legend",label:"contextMenuToggleOtherSeries",action:t=>this.contextToggleOtherSeries(t)})),this.destroyFns.push(t.layoutManager.registerElement(1,(t=>this.positionLegend(t))),t.localeManager.addListener("locale-changed",(()=>this.onLocaleChanged())),(()=>this.group.remove())),this.proxyLegendToolbar=this.ctx.proxyInteractionService.createProxyContainer({type:"list",id:`${this.id}-toolbar`,classList:["ag-charts-proxy-legend-toolbar"],ariaLabel:{id:"ariaLabelLegend"},ariaHidden:!0}),this.proxyLegendPagination=this.ctx.proxyInteractionService.createProxyContainer({type:"group",id:`${this.id}-pagination`,classList:["ag-charts-proxy-legend-pagination"],ariaLabel:{id:"ariaLabelLegendPagination"},ariaOrientation:"horizontal",ariaHidden:!0}),this.proxyLegendItemDescription=Ut("p"),this.proxyLegendItemDescription.style.display="none",this.proxyLegendItemDescription.id=`${this.id}-ariaDescription`,this.proxyLegendItemDescription.textContent=this.getItemAriaDescription(),this.proxyLegendToolbar.append(this.proxyLegendItemDescription)}set data(t){this.onDataUpdate(this._data,t),this._data=t,this._symbolsDirty=!0,this.updateGroupVisibility()}get data(){return this._data}destroy(){this.ctx.domManager.removeChild("canvas-overlay",`${this.id}-toolbar`),this.ctx.domManager.removeChild("canvas-overlay",`${this.id}-pagination`),this.destroyFns.forEach((t=>t())),this.pagination.destroy(),this.itemSelection.clear(),this.proxyLegendToolbarDestroyFns.destroy()}initLegendItemToolbar(){if(!this.proxyLegendDirty)return;this.itemSelection.each(((t,e,i)=>{t.destroyProxyButton(),t.proxyButton??(t.proxyButton=this.ctx.proxyInteractionService.createProxyElement({type:"listswitch",id:`ag-charts-legend-item-${i}`,textContent:this.getItemAriaText(i),ariaChecked:!!t.datum.enabled,ariaDescribedBy:this.proxyLegendItemDescription.id,parent:this.proxyLegendToolbar,onclick:e=>this.onClick(e,t.datum,t.proxyButton.button),ondblclick:e=>this.onDoubleClick(e,t.datum),onmouseenter:e=>this.onHover(e,t),onmouseleave:()=>this.onLeave(),oncontextmenu:e=>this.onContextClick(e,t),onblur:()=>this.onLeave(),onfocus:e=>this.onHover(e,t)}))}));const t=this.itemSelection.nodes().map((t=>t.proxyButton?.button)).filter(Te);this.proxyLegendToolbarDestroyFns.setFns([...yl({orientation:"horizontal",buttons:t}),...yl({orientation:"vertical",buttons:t})]),this.proxyLegendToolbar.ariaHidden=(0===t.length).toString(),this.proxyLegendDirty=!1}onDataUpdate(t,e){this.proxyLegendDirty=t.length!==e.length||t.some(((i,n,a)=>{const[s,r]=[e[n],t[n]];return s.id!==r.id}))}onMarkerShapeChange(){this.itemSelection.clear(),this.group.markDirty(2)}getOrientation(){if(void 0!==this.orientation)return this.orientation;switch(this.position){case"right":case"left":return"vertical";case"bottom":case"top":return"horizontal"}}set visible(t){this._visible=t,this.updateGroupVisibility()}get visible(){return this._visible}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible&&this.data.length>0}attachLegend(t){t.appendChild(this.group)}getItemLabel(t){const{ctx:{callbackCache:e}}=this,{formatter:i}=this.item.label;return i?e.call(i,{itemId:t.itemId,value:t.label.text,seriesId:t.seriesId}):t.label.text}calcLayout(t,e){const{paddingX:i,paddingY:n,label:a,maxWidth:s,label:{maxLength:r=1/0,fontStyle:o,fontWeight:l,fontSize:c,fontFamily:u}}=this.item,h=[...this.data];this.reverseOrder&&h.reverse(),this.itemSelection.update(h),this.initLegendItemToolbar();const d=[],p=Cs.toFontString(a),g=s??.8*t,f=this.calculateSpriteDimensions();if(this.spriteRenderer??(this.spriteRenderer=new tc),this.spriteRenderer.resize(f),this.itemSelection.each(((t,e)=>{t.fontStyle=o,t.fontWeight=l,t.fontSize=c,t.fontFamily=u;const i=this.updateMarkerLabel(this.spriteRenderer,t,e,f),n=e.itemId??e.id,a=(this.getItemLabel(e)??"<unknown>").replace(/\r?\n/g," ");t.text=this.truncate(a,r,g,i,p,n),d.push(t.getBBox())})),this._symbolsDirty=!1,t=Math.max(1,t),e=Math.max(1,e),!isFinite(t))return{};const y=this.size,m=this.oldSize;y[0]=t,y[1]=e,y[0]===m[0]&&y[1]===m[1]||(m[0]=y[0],m[1]=y[1]);const{pages:x,maxPageHeight:b,maxPageWidth:v}=this.updatePagination(d,t,e),M=this.pages;this.pages=x,this.maxPageSize=[v-i,b-n];const S=this.pagination.currentPage,I=this.pages[S];return this.pages.length<1||!I?(this.visible=!1,{oldPages:M}):(this.visible=!0,this.updatePositions(S),this.update(),{oldPages:M})}isCustomMarker(t,e){return t&&void 0!==e&&"string"!==typeof e}calcSymbolsEnabled(t){const{showSeriesStroke:e,marker:i}=this.item,n=!!i.enabled||!e||(t.marker.enabled??!0);return{markerEnabled:n,lineEnabled:!(!t.line||!e),isCustomMarker:this.isCustomMarker(n,t.marker.shape)}}calcSymbolsLengths(t){const{marker:e,line:i}=this.item,{markerEnabled:n,lineEnabled:a}=this.calcSymbolsEnabled(t),{strokeWidth:s}=this.getMarkerStyles(t),{strokeWidth:r}=a?this.getLineStyles(t):{strokeWidth:0};let o;const{shape:l}=t.marker;if(this.isCustomMarker(n,l)){const t=new l;t.updatePath();const e=t.getBBox();o=Math.max(e.width,e.height)}return{markerLength:n?e.size:0,markerStrokeWidth:s,lineLength:a?i.length??25:0,lineStrokeWidth:r,customMarkerSize:o}}calculateSpriteDimensions(){let t=0,e=0,i=0,n=0;this.itemSelection.each(((a,s)=>{s.symbols.forEach((a=>{const{markerLength:s,markerStrokeWidth:r,lineLength:o,lineStrokeWidth:l,customMarkerSize:c=-1/0}=this.calcSymbolsLengths(a),u=s+r;n=Math.max(n,o,c,s),e=Math.max(e,o,c,u),i=Math.max(i,l,u),t=Math.max(t,r+.5)}))})),e+=2*t,i+=2*t;return{spritePixelRatio:_t().devicePixelRatio,spriteAAPadding:t,spriteWidth:e,spriteHeight:i,markerWidth:n}}updateMarkerLabel(t,e,i,n){const{marker:a,paddingX:s}=this.item,{markerWidth:r}=n,o=[];let l=s;if(this._symbolsDirty){const t=[],n=[];i.symbols.forEach((e=>{const{shape:i=e.marker.shape}=a,s=Rh(i);n.push(new Ns({zIndex:0})),t.push(new s({zIndex:1}))})),e.updateSymbols(t,n)}return i.symbols.forEach(((t,i)=>{const n=t.marker.padding??a.padding,{markerEnabled:s,lineEnabled:c,isCustomMarker:u}=this.calcSymbolsEnabled(t);e.markers[i].size=s||!c?a.size:0,o.push({length:r,spacing:n,isCustomMarker:u}),(s||c)&&(l+=n+r);const h=e.markers[i],d=e.lines[i];if(h){const{strokeWidth:e,fill:i,stroke:n,fillOpacity:a,strokeOpacity:s}=this.getMarkerStyles(t);h.fill=i,h.stroke=n,h.strokeWidth=e,h.fillOpacity=a,h.strokeOpacity=s}if(d){const e=this.getLineStyles(t);d.stroke=e.stroke,d.strokeOpacity=e.strokeOpacity,d.strokeWidth=e.strokeWidth,d.lineDash=e.lineDash}})),e.update(t,n,o),l}truncate(t,e,i,n,a,s){let r=!1;t.length>e&&(t=t.substring(0,e),r=!0);const o=ks.getMeasurer({font:a}),l=ar.truncateLine(t,o,i-n,r);return l.endsWith(Cs.EllipsisChar)?this.truncatedItems.add(s):this.truncatedItems.delete(s),l}updatePagination(t,e,i){const n=this.getOrientation(),a=Math.min(this.paginationTrackingIndex,t.length);this.pagination.orientation=n,this.pagination.translationX=0,this.pagination.translationY=0;const{pages:s,maxPageHeight:r,maxPageWidth:o,paginationBBox:l,paginationVertical:c}=this.calculatePagination(t,e,i),u=s.findIndex((t=>t.endIndex>=a));this.pagination.currentPage=Xt(0,u,s.length-1);const{paddingX:h,paddingY:d}=this.item,p=o-h,g=r-d;let f=0,y=-l.y-this.item.marker.size/2;c?y+=g+8:(f+=-l.x+p+8,y+=(g-l.height)/2),this.pagination.translationX=f,this.pagination.translationY=y,this.pagination.update(),this.pagination.updateMarkers();let m=0;return this.itemSelection.each(((t,e,i)=>{i>(s[m]?.endIndex??1/0)&&m++,t.pageIndex=m})),{maxPageHeight:r,maxPageWidth:o,pages:s}}updateItemProxyButtons(){const t=this.toggleSeries?"pointer":void 0,e=Math.max(...this.itemSelection.nodes().map((t=>t.getBBox().height)));this.itemSelection.each((i=>{if(i.proxyButton){const{listitem:n,button:a}=i.proxyButton,s=i.pageIndex===this.pagination.currentPage;let r=Za.toCanvas(i);if(r.height!==e){const t=(e-r.height)/2;r={x:r.x,y:r.y-t,height:e,width:r.width}}cr(a,"pointer-events",s?"auto":"none"),cr(a,"cursor",t),Ht(n,r)}}))}updatePaginationProxyButtons(t){this.proxyLegendPagination.style.display=this.pagination.visible?"absolute":"none";const e=(t?.length??this.pages.length)>1,i=this.pages.length>1;e!==i&&(i?(this.proxyPrevButton=this.ctx.proxyInteractionService.createProxyElement({type:"button",id:`${this.id}-prev-page`,textContent:{id:"ariaLabelLegendPagePrevious"},tabIndex:0,parent:this.proxyLegendPagination,onclick:t=>this.pagination.onClick(t,"previous"),onmouseenter:()=>this.pagination.onMouseHover("previous"),onmouseleave:()=>this.pagination.onMouseHover(void 0)}),this.proxyNextButton??(this.proxyNextButton=this.ctx.proxyInteractionService.createProxyElement({type:"button",id:`${this.id}-next-page`,textContent:{id:"ariaLabelLegendPageNext"},tabIndex:0,parent:this.proxyLegendPagination,onclick:t=>this.pagination.onClick(t,"next"),onmouseenter:()=>this.pagination.onMouseHover("next"),onmouseleave:()=>this.pagination.onMouseHover(void 0)})),this.proxyLegendPagination.ariaHidden="false"):(this.proxyNextButton?.remove(),this.proxyPrevButton?.remove(),[this.proxyNextButton,this.proxyPrevButton]=[void 0,void 0],this.proxyLegendPagination.ariaHidden="true"));const{prev:n,next:a}=this.pagination.computeCSSBounds();Ht(this.proxyPrevButton,n),Ht(this.proxyNextButton,a),cr(this.proxyNextButton,"cursor",this.pagination.getCursor("next")),cr(this.proxyPrevButton,"cursor",this.pagination.getCursor("previous"))}calculatePagination(t,e,i){const{paddingX:n,paddingY:a}=this.item,s=this.getOrientation(),r=["left","right"].includes(this.position);let o=this.pagination.getBBox(),l=new ue(0,0,0,0),c=[],u=0,h=0,d=0;const p=void 0!==this.maxWidth&&void 0!==this.maxHeight;do{if(d++>10){_.warn("unable to find stable legend layout.");break}o=l;const g=e-(r?0:o.width),f=hd({orientation:s,bboxes:t,maxHeight:i-(r?o.height:0),maxWidth:g,itemPaddingY:a,itemPaddingX:n,forceResult:p});c=f?.pages??[],u=f?.maxPageWidth??0,h=f?.maxPageHeight??0;const y=c.length;if(this.pagination.visible=y>1,this.pagination.totalPages=y,this.pagination.update(),this.pagination.updateMarkers(),l=this.pagination.getBBox(),!this.pagination.visible)break}while((g=l).width!==o.width||g.height!==o.height);var g;return{maxPageWidth:u,maxPageHeight:h,pages:c,paginationBBox:l,paginationVertical:r}}updatePositions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{item:{paddingY:e},itemSelection:i,pages:n}=this;if(n.length<1||!n[t])return;const{columns:a,startIndex:s,endIndex:r}=n[t];let o=0,l=0;const c=a.length,u=a[0].indices.length,h="horizontal"===this.getOrientation(),d=a[0].bboxes[0].height+e,p=[];i.each(((t,e,i)=>{if(i<s||i>r)return void(t.visible=!1);const n=i-s;let g,f;h?(g=n%c,f=Math.floor(n/c)):(g=Math.floor(n/u),f=n%u),t.visible=!0;const y=a[g];y&&(l=Math.floor(d*f),o=Math.floor(p[f]??0),p[f]=(p[f]??0)+y.columnWidth,t.translationX=o,t.translationY=l)})),this.updateItemProxyButtons()}updatePageNumber(t){const{pages:e}=this,{startIndex:i,endIndex:n}=e[t];0===i?this.paginationTrackingIndex=0:t===e.length-1?this.paginationTrackingIndex=n:this.paginationTrackingIndex=Math.floor((i+n)/2),this.pagination.update(),this.pagination.updateMarkers(),this.updatePositions(t),cr(this.proxyNextButton,"cursor",this.pagination.getCursor("next")),cr(this.proxyPrevButton,"cursor",this.pagination.getCursor("previous")),this.ctx.updateService.update(6)}update(){const{label:{color:t}}=this.item;this.itemSelection.each(((e,i)=>{e.setEnabled(i.enabled),e.color=t})),this.updateContextMenu()}updateContextMenu(){const{toggleSeries:t,ctx:{contextMenuRegistry:e}}=this;t?(e.hideAction(wd),e.hideAction(Nd)):(e.showAction(wd),e.showAction(Nd))}getLineStyles(t){const{stroke:e,strokeOpacity:i=1,strokeWidth:n,lineDash:a}=t.line??{},s=Math.min(2,n??1);return{stroke:e,strokeOpacity:i,strokeWidth:this.item.line.strokeWidth??s,lineDash:a}}getMarkerStyles(t){const{fill:e,stroke:i,strokeOpacity:n=1,fillOpacity:a=1,strokeWidth:s}=t.marker,r=Math.min(2,s??1);return{fill:e,stroke:i,strokeOpacity:n,fillOpacity:a,strokeWidth:this.item.marker.strokeWidth??r}}computePagedBBox(){const t=Ka.computeChildrenBBox(this.group.children());if(this.pages.length>1){const[e,i]=this.maxPageSize;t.height=Math.max(i,t.height),t.width=Math.max(e,t.width)}return t}findNode(t){const{datum:e,proxyButton:i}=this.itemSelection.select((e=>e.datum?.itemId===t.itemId))[0]??{};if(void 0===e||void 0===i)throw new Error(`AG Charts - Missing required properties { datum: ${e}, proxyButton: ${i} }`);return{datum:e,proxyButton:i}}contextToggleVisibility(t){const{datum:e,proxyButton:i}=this.findNode(t);this.doClick(t.event,e,i.button)}contextToggleOtherSeries(t){this.doDoubleClick(t.event,this.findNode(t).datum)}onContextClick(t,e){const i=e.datum;this.preventHidingAll&&this.contextMenuDatum?.enabled&&this.getVisibleItemCount()<=1?this.ctx.contextMenuRegistry.disableAction(wd):this.ctx.contextMenuRegistry.enableAction(wd);const{button:n,offsetX:a,offsetY:s}=t,{x:r,y:o}=Za.toCanvasPoint(e,a,s),l={type:"contextmenu",sourceEvent:t,button:n,offsetX:r,offsetY:o,deltaX:0,deltaY:0,pageX:NaN,pageY:NaN,preventDefault:()=>t.preventDefault(),pointerHistory:[]};this.ctx.contextMenuRegistry.dispatchContext("legend",l,{legendItem:i})}onClick(t,e,i){this.doClick(t,e,i)&&t.preventDefault()}getVisibleItemCount(){return this.ctx.chartService.series.flatMap((t=>t.getLegendData("category"))).filter((t=>t.enabled)).length}doClick(t,e,i){const{listeners:{legendItemClick:n},ctx:{chartService:a,highlightManager:s},preventHidingAll:r,toggleSeries:o}=this;if(!e)return!1;const{id:l,itemId:c,enabled:u}=e,h=a.series.find((t=>t.id===l));if(!h)return!1;let d=u;const p=new Ld("click",d,c,h.id,t);if(n?.(p),p.defaultPrevented)return!0;if(o){if(d=!u,r&&!d){this.getVisibleItemCount()<2&&(d=!0)}i.ariaChecked=d.toString(),this.ctx.chartEventManager.legendItemClick(h,c,d,e.legendItemName)}return d?s.updateHighlight(this.id,{series:h,itemId:c,datum:void 0}):s.updateHighlight(this.id),this.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),!0}onDoubleClick(t,e){this.doDoubleClick(t,e)&&t.preventDefault()}doDoubleClick(t,e){const{listeners:{legendItemDoubleClick:i},ctx:{chartService:n},toggleSeries:a}=this;if("integrated"===n.mode)return!1;if(!e)return!1;const{id:s,itemId:r,seriesId:o}=e,l=n.series.find((t=>t.id===s));if(!l)return!1;const c=new Ld("dblclick",!0,r,l.id,t);if(i?.(c),c.defaultPrevented)return!0;if(a){const t=n.series.flatMap((t=>t.getLegendData("category"))),e=t.filter((t=>t.enabled)).length,i=t.find((t=>t.itemId===r&&t.seriesId===o));this.ctx.chartEventManager.legendItemDoubleClick(l,r,i?.enabled??!1,e,i?.legendItemName)}return this.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),!0}toTooltipMeta(t,e){let i;if(t instanceof FocusEvent){const{x:t,y:n}=Za.toCanvas(e).computeCenter();i={type:"keyboard",offsetX:t,offsetY:n}}else{t.preventDefault();const{x:n,y:a}=Za.toCanvasPoint(e,t.offsetX,t.offsetY);i={type:"hover",offsetX:n,offsetY:a}}const{offsetX:n,offsetY:a}=i;return{offsetX:n,offsetY:a,lastPointerEvent:i,showArrow:!1}}onHover(t,e){if(!this.enabled)throw new Error("AG Charts - onHover handler called on disabled legend");this.pagination.setPage(e.pageIndex);const i=e.datum,n=i?this.ctx.chartService.series.find((t=>t.id===i?.id)):void 0;if(i&&this.truncatedItems.has(i.itemId??i.id)){const n=this.toTooltipMeta(t,e);this.ctx.tooltipManager.updateTooltip(this.id,n,fr({content:this.getItemLabel(i)}))}else this.ctx.tooltipManager.removeTooltip(this.id);i?.enabled&&n?this.updateHighlight({series:n,itemId:i?.itemId,datum:void 0}):this.updateHighlight()}onLeave(){this.ctx.tooltipManager.removeTooltip(this.id),this.updateHighlight()}updateHighlight(t){const e=this.ctx.interactionManager.getState();32===e?this.ctx.highlightManager.updateHighlight(this.id,t):2===e&&(this.pendingHighlightDatum=t,this.ctx.animationManager.onBatchStop((()=>{this.ctx.highlightManager.updateHighlight(this.id,this.pendingHighlightDatum)})))}onLocaleChanged(){this.itemSelection.each(((t,e,i)=>{let{proxyButton:n}=t;null!=n?.button&&(n.button.textContent=this.getItemAriaText(i))})),this.proxyLegendItemDescription.textContent=this.getItemAriaDescription()}getItemAriaText(t){const e=this.data[t],i=e&&this.getItemLabel(e),n=this.ctx.localeManager;if(t>=0&&i){const e=t+1,a=this.data.length;return n.t("ariaLabelLegendItem",{label:i,index:e,count:a})}return n.t("ariaLabelLegendItemUnknown")}getItemAriaDescription(){return this.ctx.localeManager.t("ariaDescriptionLegendItem")}positionLegend(t){if(cr(this.proxyLegendToolbar,"display",this.visible&&this.enabled?void 0:"none"),!this.enabled||!this.data.length)return;const{layoutBox:e}=t,{x:i,y:n,width:a,height:s}=e,[r,o]=this.calculateLegendDimensions(e),{oldPages:l}=this.calcLayout(r,o),c=this.computePagedBBox(),u=()=>{switch(this.position){case"top":case"left":return 0;case"bottom":return s-c.height;default:return a-c.width}};if(this.visible){const t=this.spacing;let r,o;switch(this.position){case"top":case"bottom":r=(a-c.width)/2,o=u(),e.shrink(c.height+t,this.position);break;default:r=u(),o=(s-c.height)/2,e.shrink(c.width+t,this.position)}this.group.translationX=Math.floor(i+r-c.x),this.group.translationY=Math.floor(n+o-c.y),this.proxyLegendToolbar.ariaOrientation=this.getOrientation()}this.updateItemProxyButtons(),this.updatePaginationProxyButtons(l)}calculateLegendDimensions(t){const{width:e,height:i}=t,n=e/i;let a,s;switch(this.position){case"top":case"bottom":{const t=n<1?Math.min(.5,1/n*.2):.2;a=this.maxWidth?Math.min(this.maxWidth,e):e,s=this.maxHeight?Math.min(this.maxHeight,i):Math.round(i*t);break}default:{const t=n>1?Math.min(.5,.25*n):.25;a=this.maxWidth?Math.min(this.maxWidth,e):Math.round(e*t),s=this.maxHeight?Math.min(this.maxHeight,i):i}}return[a,s]}};kd.className="Legend",R([Ji(sn)],kd.prototype,"toggleSeries",2),R([Ji(nn)],kd.prototype,"pagination",2),R([Ji(nn)],kd.prototype,"item",2),R([Ji(nn)],kd.prototype,"listeners",2),R([qs((t=>t.updateGroupVisibility())),Ji(sn)],kd.prototype,"enabled",2),R([qs((t=>t.proxyLegendDirty=!0)),Ji(On)],kd.prototype,"position",2),R([Ji(hn,{optional:!0})],kd.prototype,"maxWidth",2),R([Ji(hn,{optional:!0})],kd.prototype,"maxHeight",2),R([Ji(sn,{optional:!0})],kd.prototype,"reverseOrder",2),R([Ji(Wn(["horizontal","vertical"],"an orientation"),{optional:!0})],kd.prototype,"orientation",2),R([Ji(sn,{optional:!0})],kd.prototype,"preventHidingAll",2),R([Ji(hn)],kd.prototype,"spacing",2);var Ad={type:"legend",optionsKey:"legend",identifier:"category",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],moduleFactory:t=>new kd(t),packageType:"community"},Cd=class extends Gl{constructor(){super(...arguments),this.zIndex=3,this.centerX=0,this.centerY=0,this.width=8,this.height=16,this.gripLineGap=2,this.gripLineLength=8}setCenter(t,e){this.dirtyPath=!0,this.centerX===t&&this.centerY===e||(this.centerX=t,this.centerY=e,this.markDirty(3))}static align(t,e,i,n,a,s,r,o){const l=t.strokeWidth/2,c=t.align(i+a*r)+l,u=c+t.align(i+a*r,a*(o-r))-2*l,h=t.align(n+s/2)+l;t.setCenter(c,h),e.setCenter(u,h)}computeBBox(){const{centerX:t,centerY:e,width:i,height:n}=this;return new ue(t-i/2,e-n/2,i,n)}isPointInPath(t,e){return this.getBBox().containsPoint(t,e)}updatePath(){const{centerX:t,centerY:e,path:i,strokeWidth:n,gripLineGap:a,gripLineLength:s}=this,r=this.layerManager?.canvas?.pixelRatio??1;i.clear();const o=Math.floor(this.width/2*r)/r,l=Math.floor(this.height/2*r)/r;i.moveTo(t-o,e-l),i.lineTo(t+o,e-l),i.lineTo(t+o,e+l),i.lineTo(t-o,e+l),i.closePath();const c=Math.floor((a+n)/2*r)/r,u=Math.floor(s/2*r)/r;i.moveTo(t-c,e-u),i.lineTo(t-c,e+u),i.moveTo(t+c,e-u),i.lineTo(t+c,e+u)}};Cd.className="RangeHandle",R([Ji(hn),de({redraw:3,type:"path"})],Cd.prototype,"width",2),R([Ji(hn),de({redraw:3,type:"path"})],Cd.prototype,"height",2),R([Ji(hn),de({redraw:3,type:"path"})],Cd.prototype,"gripLineGap",2),R([Ji(hn),de({redraw:3,type:"path"})],Cd.prototype,"gripLineLength",2);var Td=class extends Gl{constructor(){super(...arguments),this.zIndex=2,this.x=0,this.y=0,this.width=200,this.height=30,this.min=0,this.max=1}layout(t,e,i,n){t===this.x&&e===this.y&&i===this.width&&this.height===n||(this.x=t,this.y=e,this.width=i,this.height=n,this.dirtyPath=!0,this.markDirty(3))}update(t,e){t=isNaN(t)?this.min:t,e=isNaN(e)?this.max:e,t===this.min&&e===this.max||(this.min=t,this.max=e,this.dirtyPath=!0,this.markDirty(3))}computeBBox(){const{x:t,y:e,width:i,height:n}=this;return new ue(t,e,i,n)}computeVisibleRangeBBox(){const{x:t,y:e,width:i,height:n,min:a,max:s}=this,r=t+i*a;return new ue(r,e,t+i*s-r,n)}updatePath(){const{path:t,x:e,y:i,width:n,height:a,min:s,max:r,strokeWidth:o}=this,l=o/2;t.clear();const c=this.align(e)+l,u=this.align(i)+l,h=c+this.align(e,n)-2*l,d=u+this.align(i,a)-2*l;t.moveTo(c,u),t.lineTo(h,u),t.lineTo(h,d),t.lineTo(c,d),t.closePath();const p=this.align(e+n*s)+l,g=p+this.align(e+n*s,n*(r-s))-2*l;t.moveTo(p,u),t.lineTo(p,d),t.lineTo(g,d),t.lineTo(g,u),t.closePath()}};Td.className="RangeMask";var Ed=class extends vr{constructor(t){super({name:"rangeSelectorGroup",zIndex:16}),this.x=0,this.y=0,this.width=200,this.height=30,this.lOffset=0,this.rOffset=0,this.background=this.appendChild(new Xa({name:"navigator-background",zIndex:1})),this.append(t)}layout(t,e,i,n,a,s){this.x=t,this.y=e,this.width=i,this.height=n,this.lOffset=a,this.rOffset=s,this.background.translationX=t,this.background.translationY=e,this.markDirty(3)}updateBackground(t,e){null!=t&&this.background.removeChild(t),null!=e&&this.background.appendChild(e),this.markDirty(3)}computeBBox(){const{x:t,y:e,width:i,height:n,lOffset:a,rOffset:s}=this;return new ue(t-a,e,i+(a+s),n)}},Rd=class extends Bo{constructor(t){super(),this.ctx=t,this.miniChart=void 0,this.enabled=!1,this.mask=new Td,this.minHandle=new Cd,this.maxHandle=new Cd,this.maskVisibleRange={id:"navigator-mask-visible-range",getBBox:()=>this.mask.computeVisibleRangeBBox(),toCanvasBBox:()=>this.mask.computeVisibleRangeBBox(),fromCanvasPoint:(t,e)=>({x:t,y:e})},this.height=30,this.spacing=10,this.x=0,this.y=0,this.width=0,this.rangeSelector=new Ed([this.mask,this.minHandle,this.maxHandle]),this._min=0,this._max=1,this.minRange=.001;const e=t.regionManager.addRegion("navigator",this.rangeSelector);this.destroyFns.push(t.scene.attachNode(this.rangeSelector),e.addListener("hover",(t=>this.onHover(t)),50),e.addListener("drag-start",(t=>this.onDragStart(t)),50),e.addListener("drag",(t=>this.onDrag(t)),50),e.addListener("drag-end",(t=>this.onDragEnd(t)),50),e.addListener("leave",(t=>this.onLeave(t)),50),this.ctx.localeManager.addListener("locale-changed",(()=>this.updateZoom())),this.ctx.layoutManager.registerElement(3,(t=>this.onLayoutStart(t))),this.ctx.layoutManager.addListener("layout:complete",(t=>this.onLayoutComplete(t))),t.zoomManager.addListener("zoom-change",(t=>this.onZoomChange(t)))),this.proxyNavigatorToolbar=this.ctx.proxyInteractionService.createProxyContainer({type:"toolbar",id:"navigator-toolbar",classList:["ag-charts-proxy-navigator-toolbar"],ariaOrientation:"vertical",ariaLabel:{id:"ariaLabelNavigator"}}),this.updateGroupVisibility(),this.proxyNavigatorElements=[this.ctx.proxyInteractionService.createProxyElement({type:"slider",id:"ag-charts-navigator-min",ariaLabel:{id:"ariaLabelNavigatorMinimum"},ariaOrientation:"horizontal",parent:this.proxyNavigatorToolbar,onchange:t=>this.onMinSliderChange(t)}),this.ctx.proxyInteractionService.createProxyElement({type:"slider",id:"ag-charts-navigator-pan",ariaLabel:{id:"ariaLabelNavigatorRange"},ariaOrientation:"horizontal",parent:this.proxyNavigatorToolbar,onchange:t=>this.onPanSliderChange(t)}),this.ctx.proxyInteractionService.createProxyElement({type:"slider",id:"ag-charts-navigator-max",ariaLabel:{id:"ariaLabelNavigatorMaximum"},ariaOrientation:"horizontal",parent:this.proxyNavigatorToolbar,onchange:t=>this.onMaxSliderChange(t)})],this.proxyNavigatorElements.forEach((t=>rr(t,"data-preventdefault",!1))),this.setSliderRatio(this.proxyNavigatorElements[0],this._min),this.setSliderRatio(this.proxyNavigatorElements[2],this._max),this.setPanSliderValue(this._min,this._max),fl({orientation:"vertical",toolbar:this.proxyNavigatorToolbar,buttons:this.proxyNavigatorElements}),this.destroyFns.push((()=>{this.proxyNavigatorElements.forEach((t=>t.remove())),this.proxyNavigatorToolbar.remove()}))}updateBackground(t,e){this.rangeSelector?.updateBackground(t,e)}updateGroupVisibility(){const{enabled:t}=this;null!=this.rangeSelector&&t!==this.rangeSelector.visible&&(this.rangeSelector.visible=t,this.proxyNavigatorToolbar.ariaHidden=(!t).toString(),t?this.updateZoom():this.ctx.zoomManager.updateZoom("navigator"))}onLayoutStart(t){if(this.enabled){const{layoutBox:e}=t,i=this.height+this.spacing;e.shrink(i,"bottom"),this.y=e.y+e.height+this.spacing}else this.y=0}onLayoutComplete(t){const{x:e,width:i}=t.series.rect;if(this.enabled){const{y:t,height:n}=this;this.layoutNodes(e,t,i,n),Ht(this.proxyNavigatorToolbar,{x:e,y:t,width:i,height:n}),this.proxyNavigatorToolbar.style.removeProperty("display")}else this.proxyNavigatorToolbar.style.display="none";this.x=e,this.width=i}onHover(t){this.enabled&&this.updateCursor(t)}updateCursor(t){if(!this.enabled)return;const{mask:e,minHandle:i,maxHandle:n}=this,{regionOffsetX:a,regionOffsetY:s}=t;i.containsPoint(a,s)||n.containsPoint(a,s)?this.ctx.cursorManager.updateCursor("navigator","ew-resize"):e.computeVisibleRangeBBox().containsPoint(a,s)?this.ctx.cursorManager.updateCursor("navigator","grab"):this.ctx.cursorManager.updateCursor("navigator")}onDragStart(t){if(!this.enabled)return;this.updateCursor(t);const{mask:e,minHandle:i,maxHandle:n,x:a,width:s,_min:r}=this,{regionOffsetX:o,regionOffsetY:l}=t;i.zIndex<n.zIndex?n.containsPoint(o,l)?this.dragging="max":i.containsPoint(o,l)&&(this.dragging="min"):i.containsPoint(o,l)?this.dragging="min":n.containsPoint(o,l)&&(this.dragging="max"),null==this.dragging&&e.computeVisibleRangeBBox().containsPoint(o,l)&&(this.dragging="pan",this.panStart=(o-a)/s-r),null!=this.dragging&&this.ctx.zoomManager.fireZoomPanStartEvent("navigator")}onDrag(t){if(!this.enabled||null==this.dragging)return;const{dragging:e,minRange:i,panStart:n,x:a,width:s}=this;let{_min:r,_max:o}=this;const{regionOffsetX:l}=t,c=(l-a)/s;if("min"===e)r=Xt(0,c,o-i);else if("max"===e)o=Xt(r+i,c,1);else if("pan"===e&&null!=n){const t=o-r;r=Xt(0,c-n,1-t),o=r+t}this._min=r,this._max=o,this.updateZoom()}onDragEnd(t){this.dragging=void 0,this.updateCursor(t)}onLeave(t){this.ctx.cursorManager.updateCursor("navigator")}onZoomChange(t){const{x:e}=t;e&&(this._min=e.min,this._max=e.max,this.updateNodes(e.min,e.max),this.setPanSliderValue(e.min,e.max),this.setSliderRatio(this.proxyNavigatorElements[0],e.min),this.setSliderRatio(this.proxyNavigatorElements[2],e.max))}onPanSliderChange(t){const e=this.getSliderRatio(this.proxyNavigatorElements[1]),i=this._max-this._min;this._min=Xt(0,e,1-i),this._max=this._min+i,this.updateZoom()}onMinSliderChange(t){const e=this.proxyNavigatorElements[0];this._min=this.setSliderRatioClamped(e,0,this._max-this.minRange),this.updateZoom()}onMaxSliderChange(t){const e=this.proxyNavigatorElements[2];this._max=this.setSliderRatioClamped(e,this._min+this.minRange,1),this.updateZoom()}setPanSliderValue(t,e){this.proxyNavigatorElements[1].value=`${Math.round(100*t)}`,this.proxyNavigatorElements[1].ariaValueText=this.ctx.localeManager.t("ariaValuePanRange",{min:t,max:e})}setSliderRatioClamped(t,e,i){const n=this.getSliderRatio(t),a=Xt(e,n,i);return a!==n&&this.setSliderRatio(t,a),a}setSliderRatio(t,e){const i=Math.round(100*e);t.value=`${i}`,t.ariaValueText=le(i)}getSliderRatio(t){return parseFloat(t.value)/100}layoutNodes(t,e,i,n){const{rangeSelector:a,mask:s,minHandle:r,maxHandle:o,_min:l,_max:c}=this;a.layout(t,e,i,n,r.width/2,o.width/2),s.layout(t,e,i,n),Cd.align(r,o,t,e,i,n,l,c),l+(c-l)/2<.5?(r.zIndex=3,o.zIndex=4):(r.zIndex=4,o.zIndex=3),[r,this.maskVisibleRange,o].forEach(((i,n)=>{const a=i.getBBox(),s={x:a.x-t,y:a.y-e,height:a.height,width:a.width};Ht(this.proxyNavigatorElements[n],s)}))}updateNodes(t,e){this.mask.update(t,e)}updateZoom(){if(!this.enabled)return;const{_min:t,_max:e}=this;if(null==t||null==e)return;return this.ctx.zoomManager.updateZoom("navigator",{x:{min:t,max:e}},!1,(t=>{null==this.min&&null==this.max||_.warnOnce(`Could not apply [navigator.min] or [navigator.max] as [${t}] has modified the initial zoom state.`)}))}};R([Ji(nn,{optional:!0})],Rd.prototype,"miniChart",2),R([Ji(sn),qs((t=>t.updateGroupVisibility()))],Rd.prototype,"enabled",2),R([Ji(hn)],Rd.prototype,"height",2),R([Ji(hn)],Rd.prototype,"spacing",2),R([Js({newValue(t){this._min=t,this.updateZoom()}}),Ji(tn(dn,xn("max")),{optional:!0})],Rd.prototype,"min",2),R([Js({newValue(t){this._max=t,this.updateZoom()}}),Ji(tn(dn,bn("min")),{optional:!0})],Rd.prototype,"max",2);var Od={type:"root",optionsKey:"navigator",packageType:"community",chartTypes:["cartesian"],moduleFactory:t=>new Rd(t),themeTemplate:{navigator:{enabled:!1,height:30,mask:{fill:"#999999",stroke:"#999999",strokeWidth:1,fillOpacity:.2},minHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:9,height:16,gripLineGap:1,gripLineLength:8},maxHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:9,height:16,gripLineGap:1,gripLineLength:8}}}};function zd(t){let{takeColors:e}=t;const{fills:[i],strokes:[n]}=e(1);return{fill:i,stroke:n}}function jd(t){return{marker:zd(t)}}var Pd=(t=>(t[t.SMALL=12]="SMALL",t[t.MEDIUM=13]="MEDIUM",t[t.LARGE=17]="LARGE",t))(Pd||{}),Bd=(t=>(t.NORMAL="normal",t.BOLD="bold",t.BOLDER="bolder",t.LIGHTER="lighter",t))(Bd||{}),Fd=(t=>(t.TOP="top",t.RIGHT="right",t.BOTTOM="bottom",t.LEFT="left",t))(Fd||{}),Gd=(t=>(t.CATEGORY="category",t.ORDINAL_TIME="ordinal-time",t.NUMBER="number",t.TIME="time",t.LOG="log",t))(Gd||{}),_d=(t=>(t.ANGLE_CATEGORY="angle-category",t.ANGLE_NUMBER="angle-number",t.RADIUS_CATEGORY="radius-category",t.RADIUS_NUMBER="radius-number",t))(_d||{}),Ud=(t=>(t.CIRCLE="circle",t.POLYGON="polygon",t))(Ud||{}),Yd=Symbol("is-dark-theme"),Vd=Symbol("is-community"),Wd=Symbol("is-enterprise"),Zd=Symbol("default-font"),Hd=Symbol("default-label-colour"),Kd=Symbol("default-inverted-label-colour"),$d=Symbol("default-inside-series-label-colour"),Qd=Symbol("default-muted-label-colour"),Xd=Symbol("default-axis-grid-colour"),Jd=Symbol("default-axis-line-colour"),qd=Symbol("default-cross-lines-colour"),tp=Symbol("default-background-colour"),ep=Symbol("default-shadow-colour"),ip=Symbol("default-colours"),np=Symbol("default-padding"),ap=Symbol("default-caption-layout-style"),sp=Symbol("default-caption-alignment"),rp=Symbol("palette-up-stroke"),op=Symbol("palette-down-stroke"),lp=Symbol("palette-up-fill"),cp=Symbol("palette-down-fill"),up=Symbol("palette-neutral-stroke"),hp=Symbol("palette-neutral-fill"),dp=Symbol("palette-alt-up-stroke"),pp=Symbol("palette-alt-down-stroke"),gp=Symbol("palette-alt-up-fill"),fp=Symbol("palette-alt-down-fill"),yp=Symbol("palette-gray-fill"),mp=Symbol("palette-gray-stroke"),xp=Symbol("default-polar-series-stroke"),bp=Symbol("default-diverging-series-colour-range"),vp=Symbol("default-gauge-series-colour-range"),Mp=Symbol("default-funnel-series-colour-range"),Sp=Symbol("default-hierarchy-fills"),Ip=Symbol("default-hierarchy-strokes"),Dp=Symbol("default-annotation-stroke"),wp=Symbol("default-text-annotation-color"),Np=Symbol("default-annotation-background-fill"),Lp=Symbol("default-annotation-handle-fill"),kp=Symbol("default-annotation-statistics-fill"),Ap=Symbol("default-annotation-statistics-stroke"),Cp=Symbol("default-annotation-statistics-color"),Tp=Symbol("default-annotation-statistics-divider-stroke"),Ep=Symbol("default-annotation-statistics-fill"),Rp=Symbol("default-annotation-statistics-stroke"),Op=Symbol("default-textbox-fill"),zp=Symbol("default-textbox-stroke"),jp=Symbol("default-textbox-color"),Pp=Symbol("default-toolbar-position"),Bp=Symbol("default-gridline-enabled");function Fp(t,e,i,n,a){const{addPhaseFn:s,updatePhaseFn:r,removePhaseFn:o}=a,l=(n,a,s)=>{i.animate({id:`${t}_${e}_${a.id}_${n}`,groupId:t,from:0,to:1,ease:li,collapsable:!1,onUpdate(t,e){e&&"removed"!==n||(a.path.clear(!0),s(t,a),a.checkPathDirty())},onStop(){"added"===n&&(a.path.clear(!0),s(1,a),a.checkPathDirty())},phase:Mi[n]})};for(const c of n)i.isSkipped()||(l("removed",c,o),l("updated",c,r)),l("added",c,s)}function Gp(t){return"number"===typeof t?t.toFixed(2):String(t??"")}var _p=null;function Up(t){if(null!=t)return""===t?"":(_p??(_p=Ut("div")),_p.textContent=String(t),_p.innerHTML)}var Yp=new WeakMap;function Vp(t,e){const i=JSON.stringify(t,null,0);return Yp.has(e)||Yp.set(e,new Map),Yp.get(e)?.has(i)||Yp.get(e)?.set(i,e(t)),Yp.get(e)?.get(i)}function Wp(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];for(const i of t)"number"===typeof i&&(i<0&&(e[0]+=i),i>0&&(e[1]+=i));return e}function Zp(t,e){return{id:t,matchGroupIds:[e],type:"aggregate",aggregateFunction:t=>Wp(t)}}function Hp(t,e){return{id:t,type:"aggregate",matchGroupIds:e?[e]:void 0,aggregateFunction:t=>Wp(t),groupAggregateFunction:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];return e[0]+=t?.[0]??0,e[1]+=t?.[1]??0,e}}}function Kp(t,e){return{id:t,matchGroupIds:[e],type:"aggregate",aggregateFunction:t=>ou.extendDomain(t)}}function $p(t){return{id:t,type:"aggregate",aggregateFunction:()=>[0,1],groupAggregateFunction:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];return e[0]+=t?.[0]??0,e[1]+=t?.[1]??0,e}}}function Qp(t,e){const i={id:t,matchGroupIds:e?[e]:void 0,type:"aggregate",aggregateFunction:t=>Wp(t),groupAggregateFunction:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,-1];return e[0]+=t?.[0]??0,e[1]+=t?.[1]??0,e[2]++,e},finalFunction:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0];const e=t[0]+t[1];return e>=0?[0,e/t[2]]:[e/t[2],0]}};return i}function Xp(t,e,i){const n={id:t,matchGroupIds:i?[i]:void 0,type:"aggregate",aggregateFunction:function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=i[1]-i[0];return e.aggregateFunction(t).map((t=>t/n))}};return e.groupAggregateFunction&&(n.groupAggregateFunction=e.groupAggregateFunction),n}function Jp(t){return()=>{let e=0;return i=>Ye(i)?(e+=t?Math.max(0,i):i,e):i}}function qp(){return()=>{let t=0;return e=>{if(!Ye(e))return e;const i=t;return t+=e,i}}}function tg(t){return null!=t&&Tr(t)}function eg(t){return null!=t}function ig(t){switch(t){case"number":case"log":case"ordinal-time":case"time":case"color":return tg;default:return eg}}function ng(t){switch(t){case"number":case"log":case"time":case"color":return"range";default:return"category"}}function ag(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{property:t,type:"key",valueType:ng(e),validation:ig(e),...i}}function sg(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{property:t,type:"value",valueType:ng(e),validation:ig(e),...i}}function rg(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{min:i=-1/0,max:n=1/0,...a}=e;return{type:"value",property:t,valueType:"range",validation:tg,processor:()=>t=>Ye(t)?Xt(i,t,n):t,...a}}function og(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{onlyPositive:n,...a}=i;return{...sg(t,e,a),processor:Jp(n)}}function lg(t,e){return{...sg(t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}),processor:qp()}}function cg(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"current",n=arguments.length>3?arguments[3]:void 0;return[sg(t,arguments.length>4?arguments[4]:void 0,n),Mg(n.groupId,e,i,n.separateNegative),...null!=n.rangeId?[Kp(n.rangeId,n.groupId)]:[]]}function ug(t,e,i){return[sg(t,e,i),Ig(i.groupId)]}var hg={type:"reducer",property:"smallestKeyInterval",initialValue:1/0,reducer:()=>{let t=NaN;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0;const i=(arguments.length>1?arguments[1]:void 0).keys[0],n=Math.abs(i-t);return t=i,!isNaN(n)&&n>0&&n<e?n:e}}},dg={type:"reducer",property:"largestKeyInterval",initialValue:-1/0,reducer:()=>{let t=NaN;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1/0;const i=(arguments.length>1?arguments[1]:void 0).keys[0],n=Math.abs(i-t);return t=i,!isNaN(n)&&n>0&&n>e?n:e}}},pg={type:"processor",property:"sortedGroupDomain",calculate:t=>{let{domain:{groups:e}}=t;return e?.slice().sort(((t,e)=>{for(let i=0;i<t.length;i++){const n=t[i]-e[i];if(0!==n)return n}return 0}))}};function gg(t){let{normaliseTo:e,mode:i}=t;const n=(t,i)=>{const n=t*e/i;return n>=0?Math.min(e,n):Math.max(-e,n)};return()=>()=>(t,e)=>{const a=[0,0];for(const n of e){const e=t[n],s="number"===typeof e?e:Math.max(...e),r=s<0?0:1;"sum"===i?a[r]+=s:a[r]=0===r?Math.min(a[r],s):Math.max(a[r],s)}const s=Math.max(Math.abs(a[0]),a[1]);for(const i of e){const e=t[i];t[i]="number"===typeof e?n(e,s):e.map((t=>n(t,s)))}}}function fg(t,e){return{type:"group-value-processor",matchGroupIds:t,adjust:Vp({normaliseTo:e,mode:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sum"},gg)}}function yg(t){let{normaliseTo:e,zeroDomain:i,rangeMin:n,rangeMax:a}=t;const s=e[1]-e[0],r=(t,n,a)=>{const r=e[0]+(t-n)/a*s;return 0===a?i:r>=e[1]?e[1]:r<e[0]?e[0]:r};return()=>(t,i)=>{let[s,o]=t.domain.values[i];null!=n&&(s=n),null!=a&&(o=a);const l=o-s;t.domain.values[i]=[e[0],e[1]];for(const e of t.data){let n=e.values;"ungrouped"===t.type&&(n=[n]);for(const t of n)t[i]=r(t[i],s,l)}}}function mg(t,e,i,n,a){return{type:"property-value-processor",property:t,adjust:Vp({normaliseTo:e,rangeMin:n,rangeMax:a,zeroDomain:i},yg)}}function xg(t){return{type:"processor",property:"animationValidation",calculate(e){const{keys:i,values:n}=e.defs,{input:a,data:s}=e;let r=!0,o=!0;const l=[];for(let u=0;u<n.length;u++)t?.includes(n[u].id)&&l.push([u,n[u]]);const c=(t,i,n)=>{if("category"===i.valueType){const i=e.domain[n][t];return void(r&&(r=i.length===a.count))}let l=s[0]?.[n][t];for(let e=1;(r||o)&&e<s.length;e++){const i=s[e][n][t];o&&(o=l<=i),r&&(r=l!==i),l=i}};for(let t=0;(r||o)&&t<i.length;t++)c(t,i[t],"keys");for(let t=0;(r||o)&&t<l.length;t++){const[e,i]=l[t];c(e,i,"values")}return{uniqueKeys:r,orderedKeys:o}}}}function bg(t){let{mode:e,separateNegative:i}=t;return()=>()=>(t,n)=>{const a=[0,0];for(const s of n){const n=t[s],r=ie(n)&&i?0:1;Ye(n)&&("normal"===e&&(a[r]+=n),t[s]=a[r],"trailing"===e&&(a[r]+=n))}}}function vg(t){let{mode:e,sum:i}=t;return()=>{const t=[];let n=!0;return()=>(a,s)=>{let r=0;for(const o of s){const s=a[o],l=n&&"current"===i?0:t[o];t[o]=s;const c="current"===i?s:l;Ye(s)&&Ye(l)?("normal"===e&&(r+=c),a[o]=r,"trailing"===e&&(r+=c)):a[o]=r}n=!1}}}function Mg(t,e,i){let n,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e.startsWith("window")){n=Vp({mode:e.endsWith("-trailing")?"trailing":"normal",sum:i},vg)}else n=Vp({mode:e,separateNegative:a},bg);return{type:"group-value-processor",matchGroupIds:[t],adjust:n}}function Sg(){return()=>(t,e)=>{const i=new Float64Array(32);let n=0;for(const a of e){const e=t[a];i[n]=Number.isFinite(e)?e:NaN,n+=1,t[a]=i.subarray(0,n)}}}function Ig(t){return{type:"group-value-processor",matchGroupIds:[t],adjust:Sg}}function Dg(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{type:"processor",property:"diff",calculate:i=>{const n=new Map,a=new Map,s=new Map,r=new Map,o=Math.max(t.data.length,i.data.length);for(let l=0;l<o;l++){const o=t.data[l],c=i.data[l],u=o?wg(o.keys):"",h=c?wg(c.keys):"";c&&o&&u===h?Ci(o.values,c.values)||s.set(h,c):(r.has(h)?(!e&&Ci(r.get(h).values,c.values)||(s.set(h,c),n.set(h,c)),r.delete(h)):c&&a.set(h,c),a.has(u)?(!e&&Ci(a.get(u).values,o.values)||(s.set(u,o),n.set(u,o)),a.delete(u)):o&&(s.delete(u),r.set(u,o)))}return{changed:a.size>0||s.size>0||r.size>0,added:a,updated:s,removed:r,moved:n}}}}function wg(t){let e;e=Ee(t)?t.map((t=>Rr(t))).join("___"):Rr(t);const i="string"===typeof e||"number"===typeof e||"boolean"===typeof e||e instanceof Date;for(var n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];return i&&a.length>0&&(e+=`___${a.join("___")}`),e}function Ng(t,e,i){let{id:n}=t;for(var a=arguments.length,s=new Array(a>3?a-3:0),r=3;r<a;r++)s[r-3]=arguments[r];Ii(n,e,i,s,{opacity:0},{opacity:1},{phase:"trailing"})}function Lg(t,e,i){let{id:n}=t;for(var a=arguments.length,s=new Array(a>3?a-3:0),r=3;r<a;r++)s[r-3]=arguments[r];Ii(n,e,i,s,{opacity:1},{opacity:0},{phase:"remove"})}function kg(t){return{opacity:1}}var Ag=class extends $i{constructor(){super(...arguments),this._dirty=3}markDirty(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this._dirty<t&&(this._dirty=t)}markClean(t){this._dirty=0}isDirty(){return this._dirty>0}},Cg=class extends Ag{constructor(){super(...arguments),this.enabled=!0,this.color="rgba(0, 0, 0, 0.5)",this.xOffset=0,this.yOffset=0,this.blur=5}};R([Ji(sn),de({redraw:3})],Cg.prototype,"enabled",2),R([Ji(In),de({redraw:3})],Cg.prototype,"color",2),R([Ji(ln),de({redraw:3})],Cg.prototype,"xOffset",2),R([Ji(ln),de({redraw:3})],Cg.prototype,"yOffset",2),R([Ji(hn),de({redraw:3})],Cg.prototype,"blur",2);var Tg=Kn((t=>Eh(t)||"function"===typeof t&&Object.create(t.prototype)instanceof yh),"a marker shape keyword such as 'circle', 'diamond' or 'square' or an object extending the Marker class"),Eg=class extends Ag{constructor(){super(...arguments),this.enabled=!0,this.shape=mh,this.size=6,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1}getStyle(){const{size:t,shape:e,fill:i,fillOpacity:n,stroke:a,strokeWidth:s,strokeOpacity:r}=this;return{size:t,shape:e,fill:i,fillOpacity:n,stroke:a,strokeWidth:s,strokeOpacity:r}}getDiameter(){return this.size+this.strokeWidth}};R([Ji(sn),de({redraw:3})],Eg.prototype,"enabled",2),R([Ji(Tg),de({redraw:3})],Eg.prototype,"shape",2),R([Ji(hn),de({redraw:3})],Eg.prototype,"size",2),R([Ji(In,{optional:!0}),de({redraw:3})],Eg.prototype,"fill",2),R([Ji(dn),de({redraw:3})],Eg.prototype,"fillOpacity",2),R([Ji(In,{optional:!0}),de({redraw:3})],Eg.prototype,"stroke",2),R([Ji(hn),de({redraw:3})],Eg.prototype,"strokeWidth",2),R([Ji(dn),de({redraw:3})],Eg.prototype,"strokeOpacity",2),R([Ji(rn,{optional:!0}),de({redraw:3})],Eg.prototype,"itemStyler",2);var Rg=class extends $i{constructor(){super(...arguments),this.enabled=!1}};R([Ji(sn)],Rg.prototype,"enabled",2);var Og=class extends $i{constructor(){super(...arguments),this.enabled=!0,this.interaction=new Rg,this.position=new yr,this.range=void 0}toTooltipHtml(t,e){return this.renderer?fr(this.renderer(e),t):fr(t)}};R([Ji(sn)],Og.prototype,"enabled",2),R([Ji(sn,{optional:!0})],Og.prototype,"showArrow",2),R([Ji(rn,{optional:!0})],Og.prototype,"renderer",2),R([Ji(nn)],Og.prototype,"interaction",2),R([Ji(nn)],Og.prototype,"position",2),R([Ji(Yn,{optional:!0})],Og.prototype,"range",2);var zg=Wn(["linear","smooth","step"],"a line style"),jg=Wn(["start","middle","end"]),Pg=class extends $i{constructor(){super(...arguments),this.type="linear",this.tension=1,this.position="end"}};R([Ji(zg)],Pg.prototype,"type",2),R([Ji(dn)],Pg.prototype,"tension",2),R([Ji(jg)],Pg.prototype,"position",2);var Bg=class extends Vh{constructor(){super(...arguments),this.xName=void 0,this.fill="#c16068",this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new Pg,this.shadow=new Cg,this.marker=new Eg,this.label=new Ir,this.tooltip=new Og,this.connectMissingData=!1}};function Fg(t){switch(t.type){case"linear":case"step":return[{x:t.x0,y:t.y0},{x:t.x1,y:t.y1}];case"cubic":return[{x:t.cp0x,y:t.cp0y},{x:t.cp3x,y:t.cp3y}]}}function Gg(t,e,i){const[n,a]=Fg(t),s=a.x!==n.x?(i.x-e.x)/(a.x-n.x):0,r=a.y!==n.y?(i.y-e.y)/(a.y-n.y):0;switch(t.type){case"linear":return{type:"linear",moveTo:t.moveTo,x0:e.x,y0:e.y,x1:i.x,y1:i.y};case"cubic":return{type:"cubic",moveTo:t.moveTo,cp0x:e.x,cp0y:e.y,cp1x:i.x-(t.cp2x-n.x)*s,cp1y:i.y-(t.cp2y-n.y)*r,cp2x:i.x-(t.cp1x-n.x)*s,cp2y:i.y-(t.cp1y-n.y)*r,cp3x:i.x,cp3y:i.y};case"step":return{type:"step",moveTo:t.moveTo,x0:e.x,y0:e.y,x1:i.x,y1:i.y,stepX:i.x-(t.stepX-n.x)*s}}}function _g(t,e,i){const{moveTo:n}=t,[a,s]=function(t){const e=Fg(t);return e[0].x>e[1].x&&e.reverse(),e}(t),{x:r,y:o}=a,{x:l,y:c}=s;if(i<r)return Gg(t,a,a);if(e>l)return Gg(t,s,s);switch(t.type){case"linear":{const t=o===c?void 0:(c-o)/(l-r);return{type:"linear",moveTo:n,x0:e,y0:null==t?o:t*(e-r)+o,x1:i,y1:null==t?o:t*(i-r)+o}}case"step":if(i<=t.stepX){const a=t.y0;return{type:"step",moveTo:n,x0:e,y0:a,x1:i,y1:a,stepX:i}}if(e>=t.stepX){const a=t.y1;return{type:"step",moveTo:n,x0:e,y0:a,x1:i,y1:a,stepX:e}}{const{y0:a,y1:s,stepX:r}=t;return{type:"step",moveTo:n,x0:e,y0:a,x1:i,y1:s,stepX:r}}case"cubic":{const a=Ol(t.cp0x,t.cp1x,t.cp2x,t.cp3x,e);let[s,r]=zl(t.cp0x,t.cp0y,t.cp1x,t.cp1y,t.cp2x,t.cp2y,t.cp3x,t.cp3y,a);const o=Ol(r[0].x,r[1].x,r[2].x,r[3].x,i);return[r,s]=zl(r[0].x,r[0].y,r[1].x,r[1].y,r[2].x,r[2].y,r[3].x,r[3].y,o),{type:"cubic",moveTo:n,cp0x:r[0].x,cp0y:r[0].y,cp1x:r[1].x,cp1y:r[1].y,cp2x:r[2].x,cp2y:r[2].y,cp3x:r[3].x,cp3y:r[3].y}}}}R([Ji(on)],Bg.prototype,"xKey",2),R([Ji(on,{optional:!0})],Bg.prototype,"xName",2),R([Ji(on)],Bg.prototype,"yKey",2),R([Ji(on,{optional:!0})],Bg.prototype,"yName",2),R([Ji(on,{optional:!0})],Bg.prototype,"yFilterKey",2),R([Ji(hn,{optional:!0})],Bg.prototype,"normalizedTo",2),R([Ji(In)],Bg.prototype,"fill",2),R([Ji(dn)],Bg.prototype,"fillOpacity",2),R([Ji(In)],Bg.prototype,"stroke",2),R([Ji(hn)],Bg.prototype,"strokeWidth",2),R([Ji(dn)],Bg.prototype,"strokeOpacity",2),R([Ji(Rn)],Bg.prototype,"lineDash",2),R([Ji(hn)],Bg.prototype,"lineDashOffset",2),R([Ji(nn)],Bg.prototype,"interpolation",2),R([Ji(nn)],Bg.prototype,"shadow",2),R([Ji(nn)],Bg.prototype,"marker",2),R([Ji(nn)],Bg.prototype,"label",2),R([Ji(nn)],Bg.prototype,"tooltip",2),R([Ji(sn)],Bg.prototype,"connectMissingData",2);var Ug={start:0,middle:.5,end:1};var Yg=.05;function Vg(t,e,i){return(e-t)*i+t}function Wg(t,e){return"linear"===t.type?function(t,e){const{x0:i,y0:n,x1:a,y1:s}=t,r=(s-n)/(a-i)*(e-i)+n;return{leftCp1x:i,leftCp1y:n,leftCp2x:e,leftCp2y:r,stepX:e,stepY0:r,stepY1:r,rightCp1x:e,rightCp1y:r,rightCp2x:a,rightCp2y:s}}(t,e):"cubic"===t.type?function(t,e){const{cp0x:i,cp0y:n,cp1x:a,cp1y:s,cp2x:r,cp2y:o,cp3x:l,cp3y:c}=t,u=Ol(i,a,r,l,e),[h,d]=zl(i,n,a,s,r,o,l,c,u),p=h[3].y;return{leftCp1x:h[1].x,leftCp1y:h[1].y,leftCp2x:h[2].x,leftCp2y:h[2].y,stepX:e,stepY0:p,stepY1:p,rightCp1x:d[1].x,rightCp1y:d[1].y,rightCp2x:d[2].x,rightCp2y:d[2].y}}(t,e):function(t){const{x0:e,y0:i,x1:n,y1:a,stepX:s}=t;return{leftCp1x:(e+s)/2,leftCp1y:i,leftCp2x:(e+s)/2,leftCp2y:i,stepX:s,stepY0:i,stepY1:a,rightCp1x:(s+n)/2,rightCp1y:a,rightCp2x:(s+n)/2,rightCp2y:a}}(t)}function Zg(t,e,i,n,a,s,r){switch(e){case 1:r?t.moveTo(a,s):t.moveTo(i,n);break;case 2:r?t.lineTo(a,s):t.lineTo(i,n)}}function Hg(t,e,i,n,a,s){s?t.lineTo(e,i):t.lineTo(n,a)}function Kg(t,e,i,n,a,s,r,o,l,c){c?t.cubicCurveTo(s,r,n,a,e,i):t.cubicCurveTo(n,a,s,r,o,l)}function $g(t,e,i,n,a,s,r){r?(t.lineTo(s,a),t.lineTo(s,i),t.lineTo(e,i)):(t.lineTo(s,i),t.lineTo(s,a),t.lineTo(n,a))}function Qg(t,e,i,n){const[a,s]=Fg(e);switch(Zg(t,i,a.x,a.y,s.x,s.y,n),e.type){case"linear":Hg(t,e.x0,e.y0,e.x1,e.y1,n);break;case"cubic":Kg(t,e.cp0x,e.cp0y,e.cp1x,e.cp1y,e.cp2x,e.cp2y,e.cp3x,e.cp3y,n);break;case"step":$g(t,e.x0,e.y0,e.x1,e.y1,e.stepX,n)}}function Xg(t,e,i,n,a,s){const[r,o]=Fg(e),[l,c]=Fg(i),u=Vg(r.x,l.x,n),h=Vg(r.y,l.y,n),d=Vg(o.x,c.x,n),p=Vg(o.y,c.y,n);if(Zg(t,a,u,h,d,p,s),"cubic"===e.type&&"cubic"===i.type){Kg(t,u,h,Vg(e.cp1x,i.cp1x,n),Vg(e.cp1y,i.cp1y,n),Vg(e.cp2x,i.cp2x,n),Vg(e.cp2y,i.cp2y,n),d,p,s)}else if("step"===e.type&&"step"===i.type){$g(t,u,h,d,p,Vg(e.stepX,i.stepX,n),s)}else if("linear"===e.type&&"linear"===i.type)Hg(t,u,h,d,p,s);else{let a;a="step"===e.type?e.stepX:"step"===i.type?i.stepX:(u+d)/2;const r=Wg(e,a),o=Wg(i,a),l=Vg(r.leftCp1x,o.leftCp1x,n),c=Vg(r.leftCp1y,o.leftCp1y,n),g=Vg(r.leftCp2x,o.leftCp2x,n),f=Vg(r.leftCp2y,o.leftCp2y,n),y=Vg(r.stepX,o.stepX,n),m=Vg(r.stepY0,o.stepY0,n),x=Vg(r.stepY1,o.stepY1,n),b=Vg(r.rightCp1x,o.rightCp1x,n),v=Vg(r.rightCp1y,o.rightCp1y,n),M=Vg(r.rightCp2x,o.rightCp2x,n),S=Vg(r.rightCp2y,o.rightCp2y,n);s?(t.cubicCurveTo(M,S,b,v,y,x),t.lineTo(y,m),t.cubicCurveTo(g,f,l,c,u,h)):(t.cubicCurveTo(l,c,g,f,y,m),t.lineTo(y,x),t.cubicCurveTo(b,v,M,S,d,p))}}function Jg(t,e,i){let{id:n}=t;const a={phase:i?Mi[i]:"trailing"};for(var s=arguments.length,r=new Array(s>3?s-3:0),o=3;o<s;o++)r[o-3]=arguments[o];Ii(n,"markers",e,r,{opacity:0},{opacity:1},a),r.forEach((t=>t.cleanup()))}function qg(t,e){let{id:i}=t;for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];Ii(i,"markers",e,a,{scalingX:0,scalingY:0},{scalingX:1,scalingY:1},{phase:"initial"}),a.forEach((t=>t.cleanup()))}function tf(t,e){let{id:i,nodeDataDependencies:n}=t;const a=n.seriesRectWidth;for(var s=arguments.length,r=new Array(s>2?s-2:0),o=2;o<s;o++)r[o-2]=arguments[o];Si(i,"markers",e,r,{fromFn:(t,e)=>{const i=e.midPoint?.x??a;let n=Xt(0,pi(i/a),1);return isNaN(n)&&(n=0),{scalingX:0,scalingY:0,delay:n,duration:gi,phase:"initial"}},toFn:()=>({scalingX:1,scalingY:1})})}function ef(t){return{opacity:1,scalingX:1,scalingY:1}}function nf(t,e){return{translationX:e.point?.x??NaN,translationY:e.point?.y??NaN}}function af(t,e){const i=(e,i)=>{const n=t[i][e];return Array.isArray(n)?n[0]:n},n=e=>{const{xValue:n}=e;return t.moved[n]?{point:i(n,"moved"),status:"updated"}:t.removed[n]?{point:i(n,"removed"),status:"removed"}:t.added[n]?{point:i(n,"added"),status:"added"}:{status:"unknown"}};return{fromFn:(t,i)=>{const{status:a,point:s}=n(i);if("unknown"===a)return{opacity:0};const r={translationX:s?.from?.x??t.translationX,translationY:s?.from?.y??t.translationY,opacity:t.opacity,phase:Mi[a]};return"added"===e?{...r,opacity:0,translationX:s?.to?.x,translationY:s?.to?.y,phase:Mi.added}:("added"===a&&(r.opacity=0),r)},toFn:(t,i)=>{const{status:a,point:s}=n(i);if("unknown"===a)return{opacity:0};const r={translationX:i.point.x,translationY:i.point.y,opacity:1,phase:Mi[a]};return"removed"===a||"removed"===e?{...r,translationX:s?.to?.x,translationY:s?.to?.y,opacity:0,phase:Mi.removed}:r}}}function sf(t,e){let{datumIndex:i}=e;const n=t.getNodeData();if(void 0===n)return;const a=n[i],{point:s}=a;if(null==a||null==s)return;const r=s.focusSize??t.getFormattedMarkerStyle(a).size,o=r/2,l=a.point.x-o,c=a.point.y-o;return Za.toCanvas(t.contentGroup,new ue(l,c,r,r))}var rf=.05;function of(t){return t.reduce(((t,e)=>{let{min:i,max:n}=t;return(null==i||i.point.x>e.point.x)&&(i=e),(null==n||n.point.x<e.point.x)&&(n=e),{min:i,max:n}}),{})}function lf(t,e,i){const n=(e.y-t.y)/(e.x-t.x);return{x:i,y:(i-t.x)*n+t.y}}function cf(t,e,i,n){let a=-1,s=0;const r=[];for(;s<t.length;)t[s].change!==e?t[s].change!==i?(r.length>0&&(n(r,a,s),r.length=0),a=s,s++):s++:(r.push(t[s]),s++);r.length>0&&n(r,a,s)}function uf(t,e){cf(t,"out","in",((i,n,a)=>{-1===n&&t[a]?i.forEach((e=>e.to=t[a].from)):a===t.length&&t[n]?i.forEach((e=>e.to=t[n].from)):"intersect"===e&&t[n]?.from&&t[a]?.from?i.forEach((e=>e.to=lf(t[n].from,t[a].from,e.from.x))):i.forEach((t=>t.to=t.from))})),cf(t,"in","out",((i,n,a)=>{-1===n&&t[a]?i.forEach((e=>e.from=t[a].to)):a===t.length&&t[n]?i.forEach((e=>e.from=t[n].to)):"intersect"===e&&t[n]?.to&&t[a]?.to?i.forEach((e=>e.from=lf(t[n].to,t[a].to,e.to.x))):i.forEach((t=>t.from=t.to))}))}function hf(t,e,i){const n=isNaN(t.x)?e.x:t.x,a=isNaN(t.y)?e.y:t.y,s=e.x-t.x,r=e.y-t.y;return{x:n+(isNaN(s)?0:s*i),y:a+(isNaN(r)?0:r*i)}}var df={start:0,middle:.5,end:1};function pf(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const{path:a}=e;"smooth"===i?.type?function(t,e,i,n){const a=Array.isArray(e)?e:Array.from(e);if(0===a.length)return;if(n?t.lineTo(a[0].x,a[0].y):t.moveTo(a[0].x,a[0].y),a.length<=1)return;const s=a.map(((t,e)=>{const i=0===e?t:a[e-1],n=e===a.length-1?t:a[e+1],s=0===e||e===a.length-1;if(Math.sign(i.y-t.y)===Math.sign(n.y-t.y))return 0;if(!s){const e=Math.abs(i.y-n.y),a=Math.abs(t.y-i.y)/e,s=Math.abs(t.y-n.y)/e;if(a<=rf||1-a<=rf||s<=rf||1-s<=rf)return 0}return(n.y-i.y)/(n.x-i.x)}));0===s[1]&&(s[0]*=2),0===s[s.length-2]&&(s[s.length-1]*=2);for(let r=1;r<a.length;r+=1){const e=a[r-1],n=s[r-1],o=a[r],l=s[r],c=o.x-e.x,u=o.y-e.y;let h=c*i/3,d=c*n*i/3,p=c*i/3,g=c*l*i/3;0===l&&Math.abs(d)>Math.abs(u)&&(h*=Math.abs(u/d),d=Math.sign(d)*Math.abs(u)),0===n&&Math.abs(g)>Math.abs(u)&&(p*=Math.abs(u/g),g=Math.sign(g)*Math.abs(u)),t.cubicCurveTo(e.x+h,e.y+d,o.x-p,o.y-g,o.x,o.y)}}(a,t,i.tension??1,n):"step"===i?.type?function(t,e,i,n){let a;for(const s of e){if(null!=a){const e=a.x<s.x?i:1-i,n=(s.x-a.x)*e+a.x;t.lineTo(n,a?.y??s.y),t.lineTo(n,s.y),t.lineTo(s.x,s.y)}else n?t.lineTo(s.x,s.y):t.moveTo(s.x,s.y);a=s}}(a,t,df[i.position??"end"],n):function(t,e,i){let n=i;for(const{x:a,y:s}of e)n?t.lineTo(a,s):(t.moveTo(a,s),n=!0)}(a,t,n)}function gf(t,e){let i,n;const a=[],s=()=>{null!=n&&(a.push(n),n=void 0)};for(const r of t){const{from:t,to:a}=r,o=e[r.change];if(null==o||null==t||null==a)continue;const l=hf(t,a,o);if(!1===r.moveTo)n??(n=[]),n.push(l);else if(!0!==r.moveTo&&i){if(i){const t="in"===r.moveTo?o:1-o,{x:e,y:a}=hf(i,l,t);n??(n=[]),n.push({x:e,y:a}),s(),n=[l]}}else s(),n=[l];i=l}return s(),a}function ff(t,e,i,n){gf(t,e).forEach((t=>{pf(t,i,n)}))}function yf(t,e){let{id:i,visible:n,nodeDataDependencies:a}=t;const{seriesRectWidth:s,seriesRectHeight:r}=a;for(var o=arguments.length,l=new Array(o>2?o-2:0),c=2;c<o;c++)l[c-2]=arguments[c];Ii(i,"path_properties",e,l,{clipX:0},{clipX:s},{phase:"initial",start:{clip:!0,clipY:r,visible:n},finish:{clip:!1,visible:n}})}function mf(t,e,i){let{id:n}=t,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"add";for(var s=arguments.length,r=new Array(s>4?s-4:0),o=4;o<s;o++)r[o-4]=arguments[o];Ii(n,e,i,r,{opacity:0},{opacity:1},{phase:a})}function xf(t,e,i){let{id:n}=t;for(var a=arguments.length,s=new Array(a>3?a-3:0),r=3;r<a;r++)s[r-3]=arguments[r];Ii(n,e,i,s,{opacity:1},{opacity:0},{phase:"remove"})}function bf(t){return e=>({visible:t.getVisible(),opacity:t.getOpacity(),clipScalingX:1,clip:!1})}function vf(t,e){let{nodeDataDependencies:i}=t;const n=t=>isFinite(t)?t:0;e.clipX=n(i.seriesRectWidth),e.clipY=n(i.seriesRectHeight)}function Mf(t){return"continuous"===t.type||"log"===t.type}function Sf(t){return"category"===t.type}function If(t,e){return t.domain.length===e.domain.length&&t.range.length===e.range.length&&t.domain.every(((t,i)=>t===e.domain[i]))&&t.range.every(((t,i)=>t===e.range[i]))}function Df(t,e){return void 0===t||void 0===e?void 0!==t||void 0!==e:Mf(t)&&Mf(e)?t.type===e.type&&If(t,e):!(!Sf(t)||!Sf(e))&&If(t,e)}function wf(t){return null!=t&&(!!t.range.every((t=>Number.isFinite(t)))&&("category"===t.type?t.domain.every((t=>null!=t)):t.domain.every((t=>Number.isFinite(t)||t instanceof Date))))}function*Nf(t){let e=-1,i=0;for(const{point:n}of t){if(n.moveTo){const t=e>=0?{start:e,end:i}:void 0;e=i,i=e,void 0!==t&&(yield t)}i+=1}-1!==e&&(yield{start:e,end:i})}function Lf(t,e){let{start:i,end:n}=e;return function*(){for(let e=i;e<n;e+=1)yield t[e].point}()}function kf(t,e){let{start:i,end:n}=e;return function*(){for(let e=n-1;e>=i;e-=1)yield t[e].point}()}function Af(t,e){if(!e)return NaN;if(t instanceof Date&&(t=t.getTime()),"continuous"===e.type&&"number"===typeof t){return(t-e.domain[0])/(e.domain[1]-e.domain[0])*(e.range[1]-e.range[0])+e.range[0]}if("log"===e.type&&"number"===typeof t)return e.convert(t);const i=e.domain.findIndex((e=>e===t));if(i>=0)return e.range[i];const n=e.domain.findIndex((e=>{return n=e,null!=(i=t)&&null!=n&&"object"===typeof i&&"object"===typeof n&&("id"in i&&"id"in n?i.id===n.id:i.toString()===n.toString());var i,n}));return n>=0?e.range[n]:NaN}function Cf(t,e){const i=Number(t),n=Number(e);return isNaN(i)||isNaN(n)?t===e:Math.abs(n-i)<.25}function Tf(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t===(arguments.length>1&&void 0!==arguments[1]&&arguments[1])?Boolean(t):t?"in":"out"}function Ef(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{backfillSplitMode:n="intersect"}=i,a=[],s={added:{},moved:{},removed:{}},r=function(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"move";t&&(isNaN(t.point.x)||isNaN(t.point.y))&&(t=e);const r={from:t?.point,to:e?.point,moveTo:Tf(t?.point.moveTo,e?.point.moveTo),change:n};"move"===n?(s.moved[i]=r,h++,d++):"in"===n?(s.added[i]=r,d++):"out"===n&&(s.removed[i]=r,h++),a.push(r)},{min:o,max:l}=of(e.nodeData),{min:c,max:u}=of(t.nodeData);let h=0,d=0;for(;h<e.nodeData.length||d<t.nodeData.length;){const i=e.nodeData[h],n=t.nodeData[d],a=i?Af(i.xValue??NaN,t.scales.x):void 0,s=n?Af(n.xValue??NaN,e.scales.x):void 0,p=void 0;if(null!=a&&Cf(a,n?.point.x))r(i,n,n.xValue,"move");else if(null!=a&&a<(c?.point.x??-1/0))r(i,p,i.xValue,"out");else if(null!=a&&a>(u?.point.x??1/0))r(i,p,i.xValue,"out");else if(null!=s&&s<(o?.point.x??-1/0))r(p,n,n.xValue,"in");else if(null!=s&&s>(l?.point.x??1/0))r(p,n,n.xValue,"in");else if(null!=a&&a<n?.point.x)r(i,p,i.xValue,"out");else if(null!=s&&s<i?.point.x)r(p,n,n.xValue,"in");else if(i)r(i,p,i.xValue,"out");else{if(!n)throw new Error("Unable to process points");r(p,n,n.xValue,"in")}}return uf(a,n),{result:a,resultMap:s}}function Rf(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const{backfillSplitMode:a="intersect",multiDatum:s=!1}=n,r=[],o={added:{},moved:{},removed:{}},l={added:{},moved:{},removed:{}},c={in:"added",move:"moved",out:"removed"};let u,h;const d=(t,e)=>{var i;const n=c[e.change];s?((i=l[n])[t]??(i[t]=[]),l[n][t].push(e)):o[n][t]=e,u=e,h=Rr(t)};let p=0,g=0,f=!1;for(;p<e.nodeData.length||g<t.nodeData.length;){const n=e.nodeData[p],a=t.nodeData[g],o=Rr(n?.xValue),l=Rr(a?.xValue);let c;if(o===l)c={change:"move",moveTo:Tf(n.point.moveTo??!1,a.point.moveTo),from:n.point,to:a.point},d(n?.xValue,c),p++,g++;else if(i?.removed.has(String(o)))c={change:"out",moveTo:n.point.moveTo??!1,from:n.point},d(n?.xValue,c),p++;else if(i?.added.has(String(l)))c={change:"in",moveTo:a.point.moveTo??!1,to:a.point},d(a?.xValue,c),g++;else if(s&&u&&h===o)c={...u},d(n?.xValue,c),p++;else{if(!s||!u||h!==l){f=!0;break}c={...u},d(a?.xValue,c),g++}r.push(c)}let y=-1/0;return f||(f=r.some((t=>{const{change:e,to:{x:i=-1/0}={}}=t;if("out"===e)return;const n=i<y;return y=i,n}))),f?{result:void 0,resultMap:void 0}:(uf(r,a),{result:r,resultMap:s?l:o})}function Of(t,e,i){let n="updated";const a=t=>t.visible;if(!a(e)&&a(t))n="added";else if(a(e)&&!a(t))n="removed";else for(let s=0;s<i.length&&"move"===i[s].change&&i[s].from?.x===i[s].to?.x&&i[s].from?.y===i[s].to?.y;s++)if(s===i.length-1)return"no-op";return n}function zf(t,e){const i="none"===e?"updated":t,n={fromFn:e=>{let n;return n="removed"===t?{finish:{visible:!1}}:"added"===t?{start:{visible:!0}}:{},{phase:Mi[i],...n}},toFn:t=>({phase:Mi[i]})};return"fade"===e?{fromFn:e=>({opacity:"added"===t?0:e.opacity,...n.fromFn(e)}),toFn:e=>({opacity:"removed"===t?0:1,...n.toFn(e)})}:n}function jf(t,e,i,n,a,s){const r=Of(t,e,i);return{status:r,path:{addPhaseFn:(t,e)=>{s(i,{move:1,in:t},e,a)},updatePhaseFn:(t,e)=>{s(i,{move:t},e,a)},removePhaseFn:(t,e)=>{s(i,{move:0,out:t},e,a)}},pathProperties:zf(r,n)}}function Pf(t,e,i,n){const a="category"===t.scales.x?.type;if(a!==("category"===e.scales.x?.type)||!wf(t.scales.x)||!wf(e.scales.x))return;const{result:s,resultMap:r}=a?Rf(t,e,i):Ef(t,e);let o="updated";if(e.visible&&!t.visible?o="removed":!e.visible&&t.visible&&(o="added"),void 0===s||void 0===r)return;const l=(i?.changed??!0)||function(t,e){return!Df(t.scales.x,e.scales.x)||!Df(t.scales.y,e.scales.y)}(t,e)||"updated"!==o;return{...jf(t,e,s,"fade",n,ff),marker:af(r,o),hasMotion:l}}function Bf(t){return Rr(t).valueOf()}function Ff(t,e){let{data:i}=t;return i.map(((t,i)=>({xValue0Index:e.indexOf(Bf(t.xValue0)),xValue1Index:e.indexOf(Bf(t.xValue1)),datumIndex:i})))}function Gf(t,e){const i=new Set;for(const{xValue0:o,xValue1:l}of t.data){const t=Bf(o),e=Bf(l);i.add(t).add(e)}const n=Array.from(i).sort(((e,i)=>Af(e,t.scales.x)-Af(i,t.scales.x))),a=[];for(const{xValue0:o,xValue1:l}of e.data){const t=Bf(o),e=Bf(l);i.has(t)||(i.add(t),a.push(t)),i.has(e)||(i.add(e),a.push(e))}a.sort(((t,i)=>Af(t,e.scales.x)-Af(i,e.scales.x)));const s=n;let r=0;for(const o of a){t:for(let t=s.length;t>r;t-=1){if(Af(o,e.scales.x)>Af(s[t],e.scales.x)){r=t+1;break t}}s.splice(r,0,o),r+=1}if(!function(t,e){let i=-1/0;for(const n of t){const t=Af(n,e.scales.x);if(Number.isFinite(t)){if(t<i)return!1;i=t}}return!0}(s,e))return;return{axisValues:s,oldDataAxisIndices:Ff(e,s),newDataAxisIndices:Ff(t,s)}}function _f(t,e,i){if(i.xValue1Index===i.xValue0Index+1)return t;const n=Fg(t),a=(n[1].x-n[0].x)/(i.xValue1Index-i.xValue0Index),s=n[0].x+(e-i.xValue0Index)*a;return _g(t,s,s+a)}function Uf(t,e){const[i,n]=Fg(t),a=Af(0,e.scales.y);return Gg(t,{x:i.x,y:a},{x:n.x,y:a})}function Yf(t,e,i,n,a){let s,r;if(n.xValue0Index>=a.xValue1Index){const t=i.findLast((t=>t.xValue1Index<=a.xValue1Index))?.datumIndex,n=null!=t?e.data[t]:void 0;s=n?.xValue1,r=n?.yValue1}else if(n.xValue0Index<=a.xValue0Index){const t=i.find((t=>t.xValue0Index>=a.xValue0Index))?.datumIndex,n=null!=t?e.data[t]:void 0;s=n?.xValue0,r=n?.yValue0}if(null==s||null==r)return Uf(t,e);const o={x:Af(s,e.scales.x),y:Af(r,e.scales.y)};return Gg(t,o,o)}function Vf(t,e){const i=Bf(t.xValue0),n=Bf(t.xValue1);return e?.find((t=>Bf(t.xValue0)===i&&Bf(t.xValue1)===n))?.span}function Wf(t,e,i,n,a,s){const r=t.data[i.datumIndex],o=r.span,l=Vf(r,n);if(null!=l)s.removed.push({from:l,to:l}),s.moved.push({from:l,to:o}),s.added.push({from:o,to:o});else{const n=Yf(o,t,e,i,a);s.added.push({from:n,to:o})}}function Zf(t,e,i,n,a,s){const r=t.data[i.datumIndex],o=r.span,l=Vf(r,n);if(null!=l)s.removed.push({from:o,to:o}),s.moved.push({from:o,to:l}),s.added.push({from:l,to:l});else{const n=Yf(o,t,e,i,a);s.removed.push({from:o,to:n})}}function Hf(t,e,i,n,a){const s=e[a.xValue0Index],r=i.data.find((t=>Bf(t.xValue0)===s)),o=e[a.xValue1Index],l=i.data.find((t=>Bf(t.xValue1)===o));if(null==r||null==l)return;const[{x:c},{x:u}]=Fg(t),h=Af(r.xValue0,i.scales.x),d=Af(r.yValue0,i.scales.y),p=Af(l.xValue1,i.scales.x),g=Af(l.yValue1,i.scales.y);let f=n.data[a.datumIndex].span;return f=Gg(f,{x:h,y:d},{x:p,y:g}),f=_g(f,c,u),f}function Kf(t,e,i,n,a,s,r,o){const l=n+1,c=s.find((t=>t.xValue0Index<=n&&t.xValue1Index>=l)),u=a.find((t=>t.xValue0Index<=n&&t.xValue1Index>=l)),h=e.zeroData,d=t.zeroData;if(null==c&&null!=u)return void Wf(t,a,u,h,r,o);if(null!=c&&null==u)return void Zf(e,s,c,d,r,o);if(null==c||null==u)return;let p;p=c.xValue0Index===u.xValue0Index&&c.xValue1Index===u.xValue1Index?0:c.xValue0Index<=u.xValue0Index&&c.xValue1Index>=u.xValue1Index?-1:c.xValue0Index>=u.xValue0Index&&c.xValue1Index<=u.xValue1Index?1:0;const g=_f(e.data[c.datumIndex].span,n,c),f=_f(t.data[u.datumIndex].span,n,u);if(1===p){const n=Hf(g,i,e,t,u);null!=n?(o.removed.push({from:g,to:n}),o.moved.push({from:n,to:f}),o.added.push({from:f,to:f})):Zf(e,s,c,d,r,o)}else if(-1===p){const n=Hf(f,i,t,e,c);null!=n?(o.removed.push({from:g,to:g}),o.moved.push({from:g,to:n}),o.added.push({from:n,to:f})):Wf(t,a,u,h,r,o)}else o.removed.push({from:g,to:g}),o.moved.push({from:g,to:f}),o.added.push({from:f,to:f})}function $f(t,e){const i={removed:[],moved:[],added:[]},n=Gf(t,e);return null==n?function(t,e,i){for(const n of e.data){const t=n.span,a=Vf(n,e.zeroData)??Uf(t,e);i.removed.push({from:t,to:a})}for(const n of t.data){const e=n.span,a=Vf(n,t.zeroData)??Uf(e,t);i.added.push({from:a,to:e})}}(t,e,i):function(t,e,i,n){const{axisValues:a,oldDataAxisIndices:s,newDataAxisIndices:r}=t,o={xValue0Index:Math.max(s.at(0)?.xValue0Index??-1/0,r.at(0)?.xValue0Index??-1/0),xValue1Index:Math.min(s.at(-1)?.xValue1Index??1/0,r.at(-1)?.xValue1Index??1/0)};for(let l=0;l<a.length-1;l+=1)Kf(e,i,a,l,r,s,o,n)}(n,t,e,i),i}function Qf(t,e,i,n){for(let a=0;a<i.length;a+=1){const s=i[a],r=n[a];Xg(e.path,s.from,s.to,t,1,!1),Xg(e.path,r.from,r.to,t,2,!0),e.path.closePath()}}function Xf(t,e,i){for(const n of i)Xg(e.path,n.from,n.to,t,1,!1)}function Jf(t,e){if("category"===t.scales.x?.type!==("category"===e.scales.x?.type)||!wf(t.scales.x)||!wf(e.scales.x))return;let i="updated";e.visible&&!t.visible?i="removed":!e.visible&&t.visible&&(i="added");const n=$f({scales:t.scales,data:t.fillData.spans,visible:t.visible},{scales:e.scales,data:e.fillData.spans,visible:e.visible}),a=$f({scales:t.scales,data:t.fillData.phantomSpans,visible:t.visible},{scales:e.scales,data:e.fillData.phantomSpans,visible:e.visible}),s=$f({scales:t.scales,data:t.strokeData.spans,visible:t.visible,zeroData:t.fillData.phantomSpans},{scales:e.scales,data:e.strokeData.spans,visible:e.visible,zeroData:e.fillData.phantomSpans}),r="none",o=function(t,e,i,n){return{status:t,path:{addPhaseFn:(t,n)=>Qf(t,n,e.added,i.added),updatePhaseFn:(t,n)=>Qf(t,n,e.moved,i.moved),removePhaseFn:(t,n)=>Qf(t,n,e.removed,i.removed)},pathProperties:zf(t,n)}}(i,n,a,r),l=function(t,e,i){return{status:t,path:{addPhaseFn:(t,i)=>Xf(t,i,e.added),updatePhaseFn:(t,i)=>Xf(t,i,e.moved),removePhaseFn:(t,i)=>Xf(t,i,e.removed)},pathProperties:zf(t,i)}}(i,s,r);return{status:i,fill:o,stroke:l}}var qf=class extends Wh{constructor(t){super({moduleCtx:t,directionKeys:_h,directionNames:Uh,pathsPerSeries:["fill","stroke"],pathsZIndexSubOrderOffset:[0,1e3],hasMarkers:!0,markerSelectionGarbageCollection:!1,pickModes:[2,0],animationResetFns:{path:bf({getVisible:()=>this.visible,getOpacity:()=>this.getOpacity()}),label:kg,marker:(t,e)=>({opacity:1,scalingX:1,scalingY:1,...nf(0,e)})}}),this.properties=new Bg}async processData(t){if(null==this.data||!this.properties.isValid())return;const{data:e,visible:i,seriesGrouping:{groupIndex:n=this.id,stackCount:a=1}={}}=this,{xKey:s,yKey:r,yFilterKey:o,connectMissingData:l,normalizedTo:c}=this.properties,u=!this.ctx.animationManager.isSkipped(),h=this.axes.x?.scale,d=this.axes.y?.scale,{xScaleType:p,yScaleType:g}=this.getScaleInformation({xScale:h,yScale:d}),f={value:`area-stack-${n}-yValue`,values:`area-stack-${n}-yValues`,stack:`area-stack-${n}-yValue-stack`,marker:`area-stack-${n}-yValues-marker`},y=[];Te(c)&&y.push(fg(Object.values(f),c,"range")),u&&y.push(xg());const m={invalidValue:null};l&&a>1&&(m.invalidValue=0),i||(m.forceValue=0),await this.requestDataModel(t,e,{props:[ag(s,p,{id:"xValue"}),sg(r,g,{id:"yValueRaw",...m}),...null!=o?[sg(o,g,{id:"yFilterRaw"})]:[],...ug(r,g,{id:"yValueStack",...m,groupId:f.stack}),sg(r,g,{id:"yValue",...m,groupId:f.value}),...cg(r,"window","current",{id:"yValueEnd",...m,groupId:f.values},g),...cg(r,"normal","current",{id:"yValueCumulative",...m,groupId:f.marker},g),...y],groupByKeys:!0,groupByData:!1}),this.animationState.transition("updateData")}getSeriesDomain(t){const{processedData:e,dataModel:i,axes:n}=this;if(!e||!i||0===e.data.length)return[];const a=n.y,s=i.resolveProcessedDataDefById(this,"xValue"),r=i.getDomain(this,"xValue","key",e),o=i.getDomain(this,"yValueEnd","value",e);if("x"===t)return"key"===s?.def.type&&"category"===s.def.valueType?r:uu(ki(r));if(a instanceof id||a instanceof nd)return uu(o);return uu([o[0]>0?0:o[0],o[1]<0?0:o[1]])}async createNodeData(){const{axes:t,data:e,processedData:{data:i}={},dataModel:n}=this,a=t.x,s=t.y;if(!a||!s||!e||!n||!this.properties.isValid())return;const{yKey:r,xKey:o,yFilterKey:l,marker:c,label:u,fill:h,stroke:d,connectMissingData:p}=this.properties,{scale:g}=a,{scale:f}=s,{isContinuousY:y}=this.getScaleInformation({xScale:g,yScale:f}),m=(g.bandwidth??0)/2,x=n.resolveProcessedDataDefsByIds(this,["yValueEnd","yValueRaw","yValueCumulative"]),b=null!=l?n.resolveProcessedDataIndexById(this,"yFilterRaw"):void 0,v=n.resolveProcessedDataIndexById(this,"yValueStack"),M=(t,e,i)=>{let n;return(Te(this.properties.normalizedTo)?y&&Tr(i):!isNaN(i))&&(n=e),{x:g.convert(t)+m,y:f.convert(n),size:c.size}},S=r,I=[],D=[],{visibleSameStackCount:w}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);let N=-1,L=!1;i?.forEach((t=>{const{keys:e,keys:[i],datum:a,values:s}=t;s.forEach(((t,s)=>{N++;const l=a[s],p=n.resolveProcessedDataDefsValues(x,{keys:e,values:t}),{yValueRaw:g,yValueCumulative:f,yValueEnd:y}=p,m=Number.isFinite(g),v=M(i,+f,g),w=null!=b?t[b]===g:void 0;if(!1===w&&(L=!0),m&&c&&D.push({index:N,series:this,itemId:S,datum:l,midPoint:{x:v.x,y:v.y},cumulativeValue:y,yValue:g,xValue:i,yKey:r,xKey:o,point:v,fill:c.fill??h,stroke:c.stroke??d,strokeWidth:c.strokeWidth??this.getStrokeWidth(this.properties.strokeWidth),selected:w}),m&&u){const t=this.getLabelText(u,{value:g,datum:l,xKey:o,yKey:r,xName:this.properties.xName,yName:this.properties.yName},Gp);I.push({index:N,series:this,itemId:r,datum:l,x:v.x,y:v.y,labelText:t})}}))}));const{interpolation:k}=this.properties,A=t=>{let e;const i=t.map((t=>t.point));switch(k.type){case"linear":e=function(t){const e=[];let i=0,n=NaN,a=NaN;for(const{x:s,y:r}of t){if(i>0){const t=1===i;e.push({type:"linear",moveTo:t,x0:n,y0:a,x1:s,y1:r})}i+=1,n=s,a=r}return e}(i);break;case"smooth":e=function(t,e){const i=Array.isArray(t)?t:Array.from(t);if(i.length<=1)return[];const n=i.map(((t,e)=>{const n=0===e?t:i[e-1],a=e===i.length-1?t:i[e+1],s=0===e||e===i.length-1;if(Math.sign(n.y-t.y)===Math.sign(a.y-t.y))return 0;if(!s){const e=Math.abs(n.y-a.y),i=Math.abs(t.y-n.y)/e,s=Math.abs(t.y-a.y)/e;if(i<=Yg||1-i<=Yg||s<=Yg||1-s<=Yg)return 0}return(a.y-n.y)/(a.x-n.x)}));0===n[1]&&(n[0]*=2),0===n[n.length-2]&&(n[n.length-1]*=2);const a=[];for(let s=1;s<i.length;s+=1){const t=i[s-1],r=n[s-1],o=i[s],l=n[s],c=o.x-t.x,u=o.y-t.y;let h=c*e/3,d=c*r*e/3,p=c*e/3,g=c*l*e/3;0===l&&Math.abs(d)>Math.abs(u)&&(h*=Math.abs(u/d),d=Math.sign(d)*Math.abs(u)),0===r&&Math.abs(g)>Math.abs(u)&&(p*=Math.abs(u/g),g=Math.sign(g)*Math.abs(u)),a.push({type:"cubic",moveTo:1===s,cp0x:t.x,cp0y:t.y,cp1x:t.x+h,cp1y:t.y+d,cp2x:o.x-p,cp2y:o.y-g,cp3x:o.x,cp3y:o.y})}return a}(i,k.tension);break;case"step":e=function(t,e){const i=[];let n=0,a=NaN,s=NaN;const r="number"===typeof e?e:Ug[e];for(const{x:o,y:l}of t){if(n>0){const t=1===n,e=a+(o-a)*r;i.push({type:"step",moveTo:t,x0:a,y0:s,x1:o,y1:l,stepX:e})}n+=1,a=o,s=l}return i}(i,k.position)}return e.map(((e,i)=>({span:e,xValue0:t[i].xDatum,yValue0:t[i].yDatum,xValue1:t[i+1].xDatum,yValue1:t[i+1].yDatum})))},C=i?.flatMap((t=>{const{keys:[e],values:i}=t;return i.map((t=>({xDatum:e,values:t})))})),T=(t,e)=>({point:{x:g.convert(t)+m,y:f.convert(e)},xDatum:t,yDatum:e}),E=t=>{const e=[];if(null==C)return[];for(let i=0;i<C.length;i+=1){const{xDatum:n,values:a}=C[i],s=a[v],r=s[t],o=Number.isFinite(r);if(p&&!o)continue;const l=C[i-1]?.values[v],c=C[i+1]?.values[v];let u=0,h=0;for(let e=0;e<=t;e+=1){const t=s[e];if(Number.isFinite(t)){(null==l||Number.isFinite(l[e]))&&(u+=t),(null==c||Number.isFinite(c[e]))&&(h+=t)}}const d=e[e.length-1];if(p||u===h&&o){const t=Math.max(u,h),i=T(n,t);Array.isArray(d)?d.push(i):null!=d?(d.skip+=1,e.push([i])):e.push([i])}else if(!o&&Array.isArray(d)&&1===d.length)e[e.length-1]={skip:1};else{const t=T(n,u),i=T(n,h);Array.isArray(d)?d.push(t):null!=d&&(d.skip+=1),e.push(o?[i]:{skip:0})}}return(t=>t.flatMap((t=>Array.isArray(t)?A(t):new Array(t.skip).fill(null))))(e)},R=this.seriesGrouping?.stackIndex??0,O=()=>{if(null==C)return[];const t=C.map((t=>{let{xDatum:e,values:i}=t;const n=i[v][R];if(!p||Number.isFinite(n))return T(e,0)})).filter((t=>null!=t));return A(t)},z=E(R),j=z.map((()=>null));for(let F=R-1;F>=-1;F-=1){let t;for(let e=0;e<j.length;e+=1)null==j[e]&&(t??(t=-1!==F?E(F):O()),j[e]=t[e])}const P=z.map(((t,e)=>t??j[e])),B=z.filter((t=>null!=t));return{itemId:S,fillData:{itemId:S,spans:P,phantomSpans:j},strokeData:{itemId:S,spans:B},labelData:I,nodeData:D,scales:this.calculateScaling(),visible:this.visible,stackVisible:w>0,crossFiltering:L}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}markerFactory(){const{shape:t}=this.properties.marker;return new(Rh(t))}async updatePathNodes(t){const{opacity:e,visible:i,animationEnabled:n}=t,[a,s]=t.paths,r=!0===this.contextNodeData?.crossFiltering,o=this.getStrokeWidth(this.properties.strokeWidth);s.setProperties({fill:void 0,lineJoin:s.lineCap="round",pointerEvents:1,stroke:this.properties.stroke,strokeWidth:o,strokeOpacity:this.properties.strokeOpacity*(r?.25:1),lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,opacity:e,visible:i||n}),a.setProperties({stroke:void 0,lineJoin:"round",pointerEvents:1,fill:this.properties.fill,fillOpacity:this.properties.fillOpacity*(r?.125:1),fillShadow:this.properties.shadow,opacity:e,visible:i||n}),vf(this,s),vf(this,a)}async updatePaths(t){this.updateAreaPaths(t.paths,t.contextData)}updateAreaPaths(t,e){for(const i of t)i.visible=e.visible;if(e.visible)this.updateFillPath(t,e),this.updateStrokePath(t,e);else for(const i of t)i.path.clear(),i.checkPathDirty()}updateFillPath(t,e){const{spans:i,phantomSpans:n}=e.fillData,[a]=t,{path:s}=a;s.clear(!0);for(let r=0;r<i.length;r+=1){const{span:t}=i[r],e=n[r].span;Qg(s,t,1,!1),Qg(s,e,2,!0),s.closePath()}a.checkPathDirty()}updateStrokePath(t,e){const{spans:i}=e.strokeData,[,n]=t,{path:a}=n;a.clear(!0);for(const{span:s}of i)Qg(a,s,1,!1);n.checkPathDirty()}async updateMarkerSelection(t){const{nodeData:e,markerSelection:i}=t,n=this.properties.marker.enabled||!0===this.contextNodeData?.crossFiltering;return this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(n?e:[])}async updateMarkerNodes(t){const{markerSelection:e,isHighlight:i}=t,{xKey:n,yKey:a,marker:s,fill:r,stroke:o,strokeWidth:l,fillOpacity:c,strokeOpacity:u,highlightStyle:h}=this.properties,d=Xe(i&&h.item,s.getStyle(),{fill:r,stroke:o,strokeWidth:l,fillOpacity:c,strokeOpacity:u});e.each(((t,e)=>{this.updateMarkerStyle(t,s,{datum:e,highlighted:i,xKey:n,yKey:a},d,{selected:e.selected})})),i||this.properties.marker.markClean()}async updateLabelSelection(t){const{labelData:e,labelSelection:i}=t;return i.update(e)}async updateLabelNodes(t){const{labelSelection:e}=t,{enabled:i,fontStyle:n,fontWeight:a,fontSize:s,fontFamily:r,color:o}=this.properties.label;e.each(((t,e)=>{const{x:l,y:c,labelText:u}=e;u&&i&&this.visible?(t.fontStyle=n,t.fontWeight=a,t.fontSize=s,t.fontFamily=r,t.textAlign="center",t.textBaseline="bottom",t.text=u,t.x=l,t.y=c-10,t.fill=o,t.visible=!0):t.visible=!1}))}getTooltipHtml(t){const{id:e,axes:i,dataModel:n}=this,{xKey:a,xName:s,yName:r,tooltip:o,marker:l}=this.properties,{yKey:c,xValue:u,yValue:h,datum:d,itemId:p}=t,g=i.x,f=i.y;if(!this.properties.isValid()||!(g&&f&&Ye(h))||!n)return pr;const y=g.formatDatum(u),m=f.formatDatum(h),x=Up(r),b=Up(y+": "+m),v=Xe({fill:this.properties.fill},l.getStyle(),{stroke:this.properties.stroke,strokeWidth:this.properties.strokeWidth}),{fill:M}=this.getMarkerStyle(l,{datum:t,xKey:a,yKey:c,highlighted:!1},v);return o.toTooltipHtml({title:x,content:b,backgroundColor:M},{datum:d,itemId:p,xKey:a,xName:s,yKey:c,yName:r,color:M,title:x,seriesId:e})}getLegendData(t){if(!this.data?.length||!this.properties.isValid()||!this.properties.showInLegend||"category"!==t)return[];const{yKey:e,yName:i,fill:n,stroke:a,fillOpacity:s,strokeOpacity:r,strokeWidth:o,lineDash:l,marker:c,visible:u,legendItemName:h}=this.properties,d=!c.enabled||void 0===c.fill;return[{legendType:t,id:this.id,itemId:e,seriesId:this.id,enabled:u,label:{text:h??i??e},symbols:[{marker:{shape:c.shape,fill:d?n:c.fill,fillOpacity:d?s:c.fillOpacity,stroke:c.stroke??a,strokeOpacity:c.strokeOpacity??r,strokeWidth:c.strokeWidth??0,enabled:c.enabled||o<=0},line:{stroke:a,strokeOpacity:r,strokeWidth:o,lineDash:l}}],legendItemName:h}]}animateEmptyUpdateReady(t){const{markerSelection:e,labelSelection:i,contextData:n,paths:a}=t,{animationManager:s}=this.ctx;this.updateAreaPaths(a,n),yf(this,s,...a),ea([e],nf),tf(this,s,e),Ng(this,"labels",s,i)}animateReadyResize(t){const{contextData:e,paths:i}=t;this.updateAreaPaths(i,e),super.animateReadyResize(t)}animateWaitingUpdateReady(t){const{animationManager:e}=this.ctx,{markerSelection:i,labelSelection:n,contextData:a,paths:s,previousContextData:r}=t,[o,l]=s;if(null==o&&null==l)return;this.resetMarkerAnimation(t),this.resetLabelAnimation(t);const c=()=>{this.resetPathAnimation(t),this.updateAreaPaths(s,a)},u=()=>{e.skipCurrentBatch(),c()};if(null==a||null==r)return c(),Jg(this,e,"added",i),mf(this,"fill_path_properties",e,"add",o),mf(this,"stroke_path_properties",e,"add",l),void Ng(this,"labels",e,n);if(a.crossFiltering!==r.crossFiltering)return void u();const h=Jf(a,r);void 0!==h?"no-op"!==h.status&&(Jg(this,e,void 0,i),Si(this.id,"fill_path_properties",e,[o],h.fill.pathProperties),Fp(this.id,"fill_path_update",e,[o],h.fill.path),Si(this.id,"stroke_path_properties",e,[l],h.stroke.pathProperties),Fp(this.id,"stroke_path_update",e,[l],h.stroke.path),Ng(this,"labels",e,n),this.ctx.animationManager.animate({id:this.id,groupId:"reset_after_animation",phase:"trailing",from:{},to:{},onComplete:()=>this.updateAreaPaths(s,a)})):u()}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new Ka}getFormattedMarkerStyle(t){const{xKey:e,yKey:i}=t;return this.getMarkerStyle(this.properties.marker,{datum:t,xKey:e,yKey:i,highlighted:!0})}computeFocusBounds(t){return sf(this,t)}};qf.className="AreaSeries",qf.type="area";var ty={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"area",moduleFactory:t=>new qf(t),stackable:!0,tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{nodeClickRange:"nearest",tooltip:{position:{type:"node"}},fillOpacity:.8,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,shadow:{enabled:!1,color:ep,xOffset:3,yOffset:3,blur:5},interpolation:{type:"linear",tension:1,position:"end"},marker:{enabled:!1,shape:"circle",size:7,strokeWidth:0},label:{enabled:!1,fontSize:12,fontFamily:Zd,color:Hd}}},paletteFactory:t=>{const{marker:e}=jd(t);return{fill:e.fill,stroke:e.stroke,marker:e}}};function ey(t,e){return i=>e(i)?[{...t[0],position:t[1].position},{...t[1],position:t[0].position}]:t}function iy(t,e){for(const i of e){const e=i.datum;void 0===e?_.error("undefined datum"):t.addValue(i,e)}}function ny(t,e){const{x:i,y:n}=e,{nearest:a,distanceSquared:s}=t.getQuadTree().find(i,n);if(void 0!==a)return{datum:a.value,distance:Math.sqrt(s)}}var ay=class extends Vh{constructor(){super(...arguments),this.direction="vertical"}};R([Ji(_n)],ay.prototype,"direction",2);var sy=class extends Wh{constructor(){super(...arguments),this.groupScale=new Ki,this.smallestDataInterval=void 0,this.largestDataInterval=void 0}padBandExtent(t,e){const i="boolean"===typeof e?1:.5,n=Ye(this.smallestDataInterval)?this.smallestDataInterval*i:0,a=ki(t)??[NaN,NaN];return"boolean"===typeof e?a[e?0:1]-=(e?1:-1)*n:(a[0]-=n,a[1]+=n),uu(a)}getBandScalePadding(){return{inner:.3,outer:.15}}shouldFlipXY(){return!this.isVertical()}isVertical(){return"vertical"===this.properties.direction}getBarDirection(){return this.shouldFlipXY()?"x":"y"}getCategoryDirection(){return this.shouldFlipXY()?"y":"x"}getValueAxis(){const t=this.getBarDirection();return this.axes[t]}getCategoryAxis(){const t=this.getCategoryDirection();return this.axes[t]}getBandwidth(t){return Li.is(t.scale)?t.scale.calcBandwidth(this.smallestDataInterval):t.scale.bandwidth}updateGroupScale(t){const e=[],{groupScale:i}=this,n=this.getBandwidth(t),{index:a,visibleGroupCount:s}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);for(let r=0;r<s;r++)e.push(String(r));i.domain=e,i.range=[0,n??0],t instanceof wo?i.paddingInner=t.groupPaddingInner:i.padding=t instanceof Po?.1:0,i.round=0!==i.padding;return{barWidth:i.bandwidth>=1?i.bandwidth:i.rawBandwidth,groupIndex:a}}resolveKeyDirection(t){return"x"===this.getBarDirection()?"x"===t?"y":"x":t}initQuadTree(t){iy(t,this.datumNodesIter())}pickNodeClosestDatum(t){return ny(this,t)}},ry=class extends Ir{constructor(){super(...arguments),this.placement="inside-center",this.padding=0}};R([Ji(Wn(["inside-center","inside-start","inside-end","outside-start","outside-end",{value:"inside",deprecatedTo:"inside-center"},{value:"outside",deprecatedTo:"outside-end"}],"a placement"))],ry.prototype,"placement",2),R([Ji(ln)],ry.prototype,"padding",2);var oy=class extends ay{constructor(){super(...arguments),this.fill="#c16068",this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.crisp=void 0,this.shadow=new Cg,this.label=new ry,this.tooltip=new Og,this.sparklineMode=!1}};function ly(t,e){t.crisp=e.crisp??!0,t.fill=e.fill,t.stroke=e.stroke,t.strokeWidth=e.strokeWidth,t.fillOpacity=e.fillOpacity,t.strokeOpacity=e.strokeOpacity,t.lineDash=e.lineDash,t.lineDashOffset=e.lineDashOffset,t.fillShadow=e.fillShadow,t.topLeftCornerRadius=!1!==e.topLeftCornerRadius?e.cornerRadius??0:0,t.topRightCornerRadius=!1!==e.topRightCornerRadius?e.cornerRadius??0:0,t.bottomRightCornerRadius=!1!==e.bottomRightCornerRadius?e.cornerRadius??0:0,t.bottomLeftCornerRadius=!1!==e.bottomLeftCornerRadius?e.cornerRadius??0:0,t.visible=e.visible??!0}function cy(t){let{datum:e,isHighlighted:i,style:n,highlightStyle:a,itemStyler:s,seriesId:r,ctx:{callbackCache:o},...l}=t;const{fill:c,fillOpacity:u,stroke:h,strokeWidth:d,strokeOpacity:p,lineDash:g,lineDashOffset:f,cornerRadius:y=0}=Xe(i&&a,n);let m;return s&&(m=o.call(s,{datum:e.datum,xKey:e.xKey,fill:c,fillOpacity:u,stroke:h,strokeWidth:d,strokeOpacity:p,lineDash:g,lineDashOffset:f,cornerRadius:y,highlighted:i,seriesId:r,...l})),{fill:m?.fill??c,fillOpacity:m?.fillOpacity??u,stroke:m?.stroke??h,strokeWidth:m?.strokeWidth??d,strokeOpacity:m?.strokeOpacity??p,lineDash:m?.lineDash??g,lineDashOffset:m?.lineDashOffset??f,cornerRadius:m?.cornerRadius??y,topLeftCornerRadius:n.topLeftCornerRadius,topRightCornerRadius:n.topRightCornerRadius,bottomRightCornerRadius:n.bottomRightCornerRadius,bottomLeftCornerRadius:n.bottomLeftCornerRadius,fillShadow:n.fillShadow}}function uy(t,e,i,n){if(null!=e){const[t,i]=e;if(0!==t||1!==i)return!1}if(Li.is(t)){const e=t.calcBandwidth(n)-t.calcBandwidth(i);if(e>0&&e<1)return!1}return!0}R([Ji(on)],oy.prototype,"xKey",2),R([Ji(on,{optional:!0})],oy.prototype,"xName",2),R([Ji(on)],oy.prototype,"yKey",2),R([Ji(on,{optional:!0})],oy.prototype,"yName",2),R([Ji(on,{optional:!0})],oy.prototype,"yFilterKey",2),R([Ji(on,{optional:!0})],oy.prototype,"stackGroup",2),R([Ji(ln,{optional:!0})],oy.prototype,"normalizedTo",2),R([Ji(In)],oy.prototype,"fill",2),R([Ji(dn)],oy.prototype,"fillOpacity",2),R([Ji(In)],oy.prototype,"stroke",2),R([Ji(hn)],oy.prototype,"strokeWidth",2),R([Ji(dn)],oy.prototype,"strokeOpacity",2),R([Ji(Rn)],oy.prototype,"lineDash",2),R([Ji(hn)],oy.prototype,"lineDashOffset",2),R([Ji(hn)],oy.prototype,"cornerRadius",2),R([Ji(sn,{optional:!0})],oy.prototype,"crisp",2),R([Ji(rn,{optional:!0})],oy.prototype,"itemStyler",2),R([Ji(nn,{optional:!0})],oy.prototype,"shadow",2),R([Ji(nn)],oy.prototype,"label",2),R([Ji(nn)],oy.prototype,"tooltip",2),R([Ji(sn)],oy.prototype,"sparklineMode",2);var hy=t=>ie(t.yValue??0);function dy(t,e,i){const{startingX:n,startingY:a}=function(t,e){const i=e[t?"y":"x"];let n=1/0,a=0;if(!i)return{startingX:n,startingY:a};t?a=i.scale.convert(Li.is(i.scale)?0:Math.max(...i.range)):n=i.scale.convert(Li.is(i.scale)?0:Math.min(...i.range));return{startingX:n,startingY:a}}(t,e);return{isVertical:t,calculate:(e,i)=>{let s=t?e.x:n,r=t?a:e.y,o=t?e.width:0,l=t?0:e.height;const{opacity:c}=e;let u;return i&&(isNaN(s)||isNaN(r))&&(({x:s,y:r}=i),o=t?i.width:0,l=t?0:i.height,t&&!hy(i)?r+=i.height:!t&&hy(i)&&(s+=i.width)),u=null==e.clipBBox?void 0:hy(e)?t?new ue(s,r-l,o,l):new ue(s-o,r,o,l):new ue(s,r,o,l),{x:s,y:r,width:o,height:l,clipBBox:u,opacity:c}},mode:i}}function py(t,e){return{isVertical:t,calculate:e=>({x:t?e.x:e.x+e.width/2,y:t?e.y+e.height/2:e.y,width:t?e.width:0,height:t?0:e.height,clipBBox:e.clipBBox,opacity:e.opacity}),mode:e}}function gy(t){const e=t=>null==t||isNaN(t.x)||isNaN(t.y);return{toFn:(i,n,a)=>{let s;return s="removed"===a&&null==i.datum&&"fade"===t.mode?{...fy(i,n),opacity:0}:"removed"===a||e(n)?t.calculate(n,i.previousDatum):{x:n.x,y:n.y,width:n.width,height:n.height,clipBBox:n.clipBBox,opacity:n.opacity},s},fromFn:(i,n,a)=>{let s;"updated"===a&&e(n)?a="removed":"updated"===a&&e(i.previousDatum)&&(a="added"),s="added"===a&&null==i.previousDatum&&"fade"===t.mode?{...fy(i,n),opacity:0}:"unknown"===a||"added"===a?t.calculate(n,i.previousDatum):{x:i.x,y:i.y,width:i.width,height:i.height,clipBBox:i.clipBBox,opacity:i.opacity};const r=Mi[a];return{...s,phase:r}}}}function fy(t,e){let{x:i,y:n,width:a,height:s,clipBBox:r,opacity:o}=e;return{x:i,y:n,width:a,height:s,clipBBox:r,opacity:o}}function yy(t,e,i){if(void 0===t)return;const{x:n,y:a,width:s,height:r}=t;return Za.toCanvas(e,new ue(n,a,s,r)).clip(i)}function my(t,e,i){if(e.enabled&&i){const{x:n,y:a,text:s,textAlign:r,textBaseline:o}=i,{color:l,fontStyle:c,fontWeight:u,fontSize:h,fontFamily:d}=e;t.setProperties({visible:!0,x:n,y:a,text:s,fill:l,fontStyle:c,fontWeight:u,fontSize:h,fontFamily:d,textAlign:r,textBaseline:o})}else t.visible=!1}var xy={"inside-start":{inside:!0,direction:-1,textAlignment:1},"inside-end":{inside:!0,direction:1,textAlignment:-1},"outside-start":{inside:!1,direction:-1,textAlignment:-1},"outside-end":{inside:!1,direction:1,textAlignment:1}};function by(t){let{isUpward:e,isVertical:i,placement:n,padding:a=0,rect:s}=t,r=s.x+s.width/2,o=s.y+s.height/2,l="center",c="middle";if("inside-center"!==n){const t=(e?1:-1)*(i?-1:1),{direction:u,textAlignment:h}=xy[n],d=.5*(u+1);if(i){o=(e?s.y+s.height:s.y)+s.height*t*d+a*h*t,c=h===t?"top":"bottom"}else{r=(e?s.x:s.x+s.width)+s.width*t*d+a*h*t,l=h===t?"left":"right"}}return{x:r,y:o,textAlign:l,textBaseline:c}}var vy={"inside-center":"inside-center","inside-start":"inside-start","inside-end":"inside-end","outside-start":"outside-start","outside-end":"outside-end",inside:"inside-center",outside:"outside-end"},My=class extends sy{constructor(t){super({moduleCtx:t,directionKeys:_h,directionNames:Uh,pickModes:[2,1,0],pathsPerSeries:[],hasHighlightedLabels:!0,datumSelectionGarbageCollection:!1,animationAlwaysUpdateSelections:!0,animationResetFns:{datum:fy,label:kg}}),this.properties=new oy}get pickModeAxis(){return this.properties.sparklineMode?"main":void 0}crossFilteringEnabled(){return null!=this.properties.yFilterKey&&(null==this.seriesGrouping||0===this.seriesGrouping.stackIndex)}async processData(t){if(!this.properties.isValid()||!this.data)return;const{seriesGrouping:{groupIndex:e=this.id}={},data:i=[]}=this,{xKey:n,yKey:a,yFilterKey:s,normalizedTo:r}=this.properties,o=!this.ctx.animationManager.isSkipped(),l=this.getCategoryAxis()?.scale,c=this.getValueAxis()?.scale,{isContinuousX:u,xScaleType:h,yScaleType:d}=this.getScaleInformation({xScale:l,yScale:c}),p=`bar-stack-${e}-yValues`,g=`${p}-trailing`,f=[];Ye(r)&&f.push(fg([p,g],Math.abs(r),"range")),o&&this.processedData&&f.push(Dg(this.processedData)),o&&f.push(xg());const y=this.visible?{}:{forceValue:0},{processedData:m}=await this.requestDataModel(t,i,{props:[ag(n,h,{id:"xValue"}),sg(a,d,{id:"yValue-raw",invalidValue:null,...y}),...this.crossFilteringEnabled()?[sg(s,d,{id:"yFilterValue",invalidValue:null,...y})]:[],...cg(a,"normal","current",{id:"yValue-end",rangeId:"yValue-range",invalidValue:null,missingValue:0,groupId:p,separateNegative:!0,...y},d),...cg(a,"trailing","current",{id:"yValue-start",invalidValue:null,missingValue:0,groupId:g,separateNegative:!0,...y},d),...u?[hg,dg]:[],...f],groupByKeys:!0,groupByData:!1});this.smallestDataInterval=m.reduced?.smallestKeyInterval,this.largestDataInterval=m.reduced?.largestKeyInterval,this.animationState.transition("updateData")}getSeriesDomain(t){const{processedData:e,dataModel:i}=this;if(!i||!e?.data.length)return[];const n=i.resolveProcessedDataDefById(this,"xValue"),a=i.getDomain(this,"xValue","key",e);let s=i.getDomain(this,"yValue-end","value",e);const r=this.crossFilteringEnabled()?i.getDomain(this,"yFilterValue","value",e):void 0;if(null!=r&&(s=[Math.min(s[0],r[0]),Math.max(s[1],r[1])]),t===this.getCategoryDirection())return"key"===n?.def.type&&"category"===n.def.valueType?a:this.padBandExtent(a);if(this.getValueAxis()instanceof id)return uu(s);return uu([Math.min(0,s[0]),Math.max(0,s[1])])}async createNodeData(){const{dataModel:t}=this,e=this.getCategoryAxis(),i=this.getValueAxis();if(!t||!e||!i||!this.properties.isValid())return;const n=e.scale,a=i.scale,{xKey:s,yKey:r,xName:o,yName:l,fill:c,stroke:u,strokeWidth:h,cornerRadius:d,legendItemName:p,label:g}=this.properties,f=i.isReversed(),{barWidth:y,groupIndex:m}=this.updateGroupScale(e),x=Li.is(n)?-.5*y:0,b=t.resolveProcessedDataIndexById(this,"xValue"),v=t.resolveProcessedDataIndexById(this,"yValue-raw"),M=this.crossFilteringEnabled()?t.resolveProcessedDataIndexById(this,"yFilterValue"):void 0,S=t.resolveProcessedDataIndexById(this,"yValue-start"),I=t.resolveProcessedDataIndexById(this,"yValue-end"),D=t.resolveProcessedDataIndexById(this,"yValue-range"),w=!this.ctx.animationManager.isSkipped(),N=t=>{let{datum:e,valueIndex:i,xValue:o,yValue:l,cumulativeValue:p,phantom:b,currY:v,prevY:M,isPositive:S,yRange:I,labelText:D,crossScale:w=1}=t;const N=n.convert(o),k=S!==f,A=N+L.convert(String(m))+x,C=a.convert(v),T=a.convert(M),E="x"===this.getBarDirection(),R=a.convert(I),O=a.convert(0),z=.5*y*(1-w),j={x:E?Math.min(C,T):A+z,y:E?A+z:Math.min(C,T),width:E?Math.abs(T-C):y*w,height:E?y*w:Math.abs(T-C)},P=new ue(j.x,j.y,j.width,j.height),B={x:E?Math.min(O,R):A+z,y:E?A+z:Math.min(O,R),width:E?Math.abs(O-R):y*w,height:E?y*w:Math.abs(O-R)},F=this.shouldFlipXY()?j.height:j.width;return{series:this,itemId:b?wg(r,b):r,datum:e,valueIndex:i,cumulativeValue:p,phantom:b,xValue:o,yValue:l,yKey:r,xKey:s,capDefaults:{lengthRatioMultiplier:F,lengthMax:F},x:B.x,y:B.y,width:B.width,height:B.height,midPoint:{x:j.x+j.width/2,y:j.y+j.height/2},fill:c,stroke:u,opacity:1,strokeWidth:h,cornerRadius:d,topLeftCornerRadius:E!==k,topRightCornerRadius:k,bottomRightCornerRadius:E===k,bottomLeftCornerRadius:!k,clipBBox:P,label:null!=D?{text:D,...by({isUpward:k,isVertical:!E,placement:vy[g.placement],padding:g.padding,rect:j})}:void 0,missing:null==l,focusable:!b}},{groupScale:L,processedData:k}=this,A=[],C=[],T=[];return k?.data.forEach((t=>{let{keys:e,datum:i,values:n,aggValues:a}=t;n.forEach(((t,n)=>{const c=e[b],u=t[v],h=Number(t[S]),d=null!=M?Number(t[M]):void 0,g=Number(t[I]),f=u>=0&&!Object.is(u,-0),y=a?.[D][f?1:0]??0;if(!Number.isFinite(g))return;if(null!=d&&!Number.isFinite(d))return;const m=null!=u?this.getLabelText(this.properties.label,{datum:i[n],value:d??u,xKey:s,yKey:r,xName:o,yName:l,legendItemName:p},Gp):void 0,x=null!=d&&d>u,w=N({datum:i[n],valueIndex:n,xValue:c,yValue:d??u,cumulativeValue:d??g,phantom:!1,currY:null!=d?h+d:g,prevY:h,isPositive:f,yRange:Math.max(h+(d??-1/0),y),labelText:m,crossScale:x?.6:void 0});if(C.push(w),T.push(w),null!=d){const t=N({datum:i[n],valueIndex:n,xValue:c,yValue:d,cumulativeValue:d,phantom:!0,currY:g,prevY:h,isPositive:f,yRange:y,labelText:void 0,crossScale:void 0});A.push(t)}}))})),{itemId:r,nodeData:A.length>0?[...A,...C]:C,labelData:T,scales:this.calculateScaling(),visible:this.visible||w}}nodeFactory(){return new ld}getHighlightData(t,e){const i=t.find((t=>t.datum===e.datum&&!t.phantom));return null!=i?[i]:void 0}async updateDatumSelection(t){return t.datumSelection.update(t.nodeData,void 0,(t=>wg(t.xValue,t.valueIndex,t.phantom)))}async updateDatumNodes(t){if(!this.properties.isValid())return;const{yKey:e,stackGroup:i,fill:n,fillOpacity:a,stroke:s,strokeWidth:r,strokeOpacity:o,lineDash:l,lineDashOffset:c,itemStyler:u,shadow:h,highlightStyle:{item:d}}=this.properties,p=this.axes.x,g=this.properties.crisp??uy(p?.scale,p?.visibleRange,this.smallestDataInterval,this.largestDataInterval),f="x"===this.getCategoryDirection(),y={fill:n,stroke:s,lineDash:l,lineDashOffset:c,fillShadow:h,strokeWidth:this.getStrokeWidth(r),fillOpacity:0,strokeOpacity:0},m={datum:void 0,ctx:this.ctx,seriesId:this.id,isHighlighted:t.isHighlight,highlightStyle:d,yKey:e,style:y,itemStyler:u,stackGroup:i};t.datumSelection.each(((t,e)=>{y.fillOpacity=a*(e.phantom?.2:1),y.strokeOpacity=o*(e.phantom?.2:1),y.cornerRadius=e.cornerRadius,y.topLeftCornerRadius=e.topLeftCornerRadius,y.topRightCornerRadius=e.topRightCornerRadius,y.bottomRightCornerRadius=e.bottomRightCornerRadius,y.bottomLeftCornerRadius=e.bottomLeftCornerRadius;const i=f?(e.clipBBox?.width??e.width)>0:(e.clipBBox?.height??e.height)>0;m.datum=e;const n=cy(m);n.crisp=g,n.visible=i,ly(t,n)}))}async updateLabelSelection(t){const e=this.isLabelEnabled()?t.labelData:[];return t.labelSelection.update(e,(t=>{t.pointerEvents=1}))}async updateLabelNodes(t){t.labelSelection.each(((t,e)=>{my(t,this.properties.label,e.label)}))}getTooltipHtml(t){const{id:e,processedData:i,ctx:{callbackCache:n}}=this,a=this.getCategoryAxis(),s=this.getValueAxis();if(!i||!this.properties.isValid()||!a||!s)return pr;const{xKey:r,yKey:o,xName:l,yName:c,fill:u,stroke:h,strokeWidth:d,tooltip:p,itemStyler:g,stackGroup:f,legendItemName:y}=this.properties,{xValue:m,yValue:x,datum:b,itemId:v}=t,M=a.formatDatum(m),S=s.formatDatum(x),I=Up(c),D=Up(M+": "+S);let w;g&&(w=n.call(g,{seriesId:e,datum:b,xKey:r,yKey:o,stackGroup:f,fill:u,stroke:h,strokeWidth:this.getStrokeWidth(d),highlighted:!1,cornerRadius:this.properties.cornerRadius,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,lineDash:this.properties.lineDash??[],lineDashOffset:this.properties.lineDashOffset}));const N=w?.fill??u;return p.toTooltipHtml({title:I,content:D,backgroundColor:N},{seriesId:e,itemId:v,datum:b,xKey:r,yKey:o,xName:l,yName:c,stackGroup:f,title:I,color:N,legendItemName:y,...this.getModuleTooltipParams()})}getLegendData(t){const{showInLegend:e}=this.properties;if("category"!==t||!this.data?.length||!this.properties.isValid()||!e)return[];const{yKey:i,yName:n,fill:a,stroke:s,strokeWidth:r,fillOpacity:o,strokeOpacity:l,legendItemName:c,visible:u}=this.properties;return[{legendType:"category",id:this.id,itemId:i,seriesId:this.id,enabled:u,label:{text:c??n??i},symbols:[{marker:{fill:a,fillOpacity:o,stroke:s,strokeWidth:r,strokeOpacity:l}}],legendItemName:c}]}animateEmptyUpdateReady(t){let{datumSelection:e,labelSelection:i,annotationSelections:n}=t;const a=gy(dy(this.isVertical(),this.axes,"normal"));Si(this.id,"nodes",this.ctx.animationManager,[e],a),Ng(this,"labels",this.ctx.animationManager,i),Ng(this,"annotations",this.ctx.animationManager,...n)}animateWaitingUpdateReady(t){const{datumSelection:e,labelSelection:i,annotationSelections:n,previousContextData:a}=t;this.ctx.animationManager.stopByAnimationGroupId(this.id);const s=this.processedData?.reduced?.diff,r=null==a?"fade":"normal",o=gy(dy(this.isVertical(),this.axes,r));Si(this.id,"nodes",this.ctx.animationManager,[e],o,((t,e)=>wg(e.xValue,e.valueIndex,e.phantom)),s);(s?.changed??!0)&&(Ng(this,"labels",this.ctx.animationManager,i),Ng(this,"annotations",this.ctx.animationManager,...n))}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds(t){let{datumIndex:e,seriesRect:i}=t;const n=this.contextNodeData?.nodeData[e].clipBBox;return yy(n,this.contentGroup,i)}};My.className="BarSeries",My.type="bar";var Sy={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bar",moduleFactory:t=>new My(t),stackable:!0,groupable:!0,tooltipDefaults:{range:"exact"},defaultAxes:ey([{type:"number",position:"left"},{type:"category",position:"bottom"}],(t=>"horizontal"===t?.direction)),themeTemplate:{series:{direction:"vertical",fillOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontWeight:"normal",fontSize:12,fontFamily:Zd,color:$d,placement:"inside-center"},shadow:{enabled:!1,color:ep,xOffset:3,yOffset:3,blur:5},errorBar:{cap:{lengthRatio:.3}}}},paletteFactory:zd},Iy=class extends Eg{constructor(){super(...arguments),this.maxSize=30}};R([Ji(hn),de({redraw:3})],Iy.prototype,"maxSize",2),R([Ji(Nn,{optional:!0}),de({redraw:3})],Iy.prototype,"domain",2);var Dy=class extends Ir{constructor(){super(...arguments),this.placement="top"}};R([Ji(Vn)],Dy.prototype,"placement",2);var wy=class extends Vh{constructor(){super(...arguments),this.colorRange=["#ffff00","#00ff00","#0000ff"],this.label=new Dy,this.tooltip=new Og,this.marker=new Iy}};R([Ji(on)],wy.prototype,"xKey",2),R([Ji(on)],wy.prototype,"yKey",2),R([Ji(on)],wy.prototype,"sizeKey",2),R([Ji(on,{optional:!0})],wy.prototype,"labelKey",2),R([Ji(on,{optional:!0})],wy.prototype,"colorKey",2),R([Ji(on,{optional:!0})],wy.prototype,"xFilterKey",2),R([Ji(on,{optional:!0})],wy.prototype,"yFilterKey",2),R([Ji(on,{optional:!0})],wy.prototype,"sizeFilterKey",2),R([Ji(on,{optional:!0})],wy.prototype,"xName",2),R([Ji(on,{optional:!0})],wy.prototype,"yName",2),R([Ji(on,{optional:!0})],wy.prototype,"sizeName",2),R([Ji(on,{optional:!0})],wy.prototype,"labelName",2),R([Ji(on,{optional:!0})],wy.prototype,"colorName",2),R([Ji(Nn,{optional:!0})],wy.prototype,"colorDomain",2),R([Ji(Dn)],wy.prototype,"colorRange",2),R([Ji(on,{optional:!0})],wy.prototype,"title",2),R([$s("marker.shape")],wy.prototype,"shape",2),R([$s("marker.size")],wy.prototype,"size",2),R([$s("marker.maxSize")],wy.prototype,"maxSize",2),R([$s("marker.domain",{optional:!0})],wy.prototype,"domain",2),R([$s("marker.fill",{optional:!0})],wy.prototype,"fill",2),R([$s("marker.fillOpacity")],wy.prototype,"fillOpacity",2),R([$s("marker.stroke",{optional:!0})],wy.prototype,"stroke",2),R([$s("marker.strokeWidth")],wy.prototype,"strokeWidth",2),R([$s("marker.strokeOpacity")],wy.prototype,"strokeOpacity",2),R([$s("marker.itemStyler",{optional:!0})],wy.prototype,"itemStyler",2),R([Ji(nn)],wy.prototype,"label",2),R([Ji(nn)],wy.prototype,"tooltip",2);var Ny=class extends Yh{constructor(t,e,i,n){super(t,e,i,n),this.sizeKey=n.properties.sizeKey}},Ly=class extends Wh{constructor(t){super({moduleCtx:t,directionKeys:_h,directionNames:Uh,pickModes:[2,1,0],pathsPerSeries:[],hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{label:kg,marker:ef}}),this.NodeEvent=Ny,this.properties=new wy,this.sizeScale=new Jh,this.colorScale=new vs}get pickModeAxis(){return"main-category"}async processData(t){if(!this.properties.isValid()||null==this.data||!this.visible)return;const e=this.axes.x?.scale,i=this.axes.y?.scale,{xScaleType:n,yScaleType:a}=this.getScaleInformation({xScale:e,yScale:i}),s=this.colorScale.type,r=this.sizeScale.type,{xKey:o,yKey:l,sizeKey:c,xFilterKey:u,yFilterKey:h,sizeFilterKey:d,labelKey:p,colorDomain:g,colorRange:f,colorKey:y,marker:m}=this.properties,{dataModel:x,processedData:b}=await this.requestDataModel(t,this.data,{props:[sg(o,n,{id:"xValue"}),sg(l,a,{id:"yValue"}),...null!=u?[sg(u,n,{id:"xFilterValue"})]:[],...null!=h?[sg(h,a,{id:"yFilterValue"})]:[],...null!=d?[sg(d,r,{id:"sizeFilterValue"})]:[],sg(c,r,{id:"sizeValue"}),...y?[sg(y,s,{id:"colorValue"})]:[],...p?[sg(p,"band",{id:"labelValue"})]:[]]}),v=x.resolveProcessedDataIndexById(this,"sizeValue"),M=b.domain.values[v]??[];if(this.sizeScale.domain=m.domain?m.domain:M,y){const t=x.resolveProcessedDataIndexById(this,"colorValue");this.colorScale.domain=g??b.domain.values[t]??[],this.colorScale.range=f,this.colorScale.update()}this.animationState.transition("updateData")}getSeriesDomain(t){const{dataModel:e,processedData:i}=this;if(!i||!e)return[];const n="x"===t?"xValue":"yValue",a=e.resolveProcessedDataDefById(this,n),s=e.getDomain(this,n,"value",i);return"value"===a?.def.type&&"category"===a?.def.valueType?s:uu(ki(s))}async createNodeData(){const{axes:t,dataModel:e,processedData:i,colorScale:n,sizeScale:a}=this,{xKey:s,yKey:r,sizeKey:o,xFilterKey:l,yFilterKey:c,sizeFilterKey:u,labelKey:h,xName:d,yName:p,sizeName:g,labelName:f,label:y,colorKey:m,marker:x,visible:b}=this.properties,v=Rh(x.shape),{placement:M}=y,S=t.x,I=t.y;if(!(e&&i&&b&&S&&I))return;const D=e.resolveProcessedDataIndexById(this,"xValue"),w=e.resolveProcessedDataIndexById(this,"yValue"),N=null!=o?e.resolveProcessedDataIndexById(this,"sizeValue"):void 0,L=null!=m?e.resolveProcessedDataIndexById(this,"colorValue"):-1,k=null!=h?e.resolveProcessedDataIndexById(this,"labelValue"):-1,A=null!=l?e.resolveProcessedDataIndexById(this,"xFilterValue"):void 0,C=null!=c?e.resolveProcessedDataIndexById(this,"yFilterValue"):void 0,T=null!=u?e.resolveProcessedDataIndexById(this,"sizeFilterValue"):void 0,E=S.scale,R=I.scale,O=(E.bandwidth??0)/2,z=(R.bandwidth??0)/2,j=[];a.range=[x.size,x.maxSize];const P=y.getFont(),B=ks.getMeasurer({font:P});for(const{values:F,datum:G}of i.data??[]){const t=F[D],e=F[w],i=null!=N?F[N]:void 0,l=E.convert(t)+O,c=R.convert(e)+z;let u;null!=A&&null!=C&&(u=F[A]===t&&F[C]===e,null!=T&&u&&(u=F[T]===i));const b=this.getLabelText(y,{value:h?F[k]:e,datum:G,xKey:s,yKey:r,sizeKey:o,labelKey:h,xName:d,yName:p,sizeName:g,labelName:f}),S=B.measureText(String(b)),I=i?a.convert(i):x.size,P=m?n.convert(F[L]):void 0;j.push({series:this,itemId:r,yKey:r,xKey:s,datum:G,xValue:t,yValue:e,sizeValue:i,point:{x:l,y:c,size:I},midPoint:{x:l,y:c},fill:P,label:{text:b,...S},marker:v,placement:M,selected:u})}return{itemId:r,nodeData:j,labelData:j,scales:this.calculateScaling(),visible:this.visible}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){return this.contextNodeData?.labelData??[]}markerFactory(){const{shape:t}=this.properties.marker;return new(Rh(t))}async updateMarkerSelection(t){const{nodeData:e,markerSelection:i}=t;this.properties.marker.isDirty()&&(i.clear(),i.cleanup());const n=this.properties.marker.enabled?e:[];return i.update(n,void 0,(t=>wg([t.xValue,t.yValue,t.label.text])))}async updateMarkerNodes(t){const{markerSelection:e,isHighlight:i}=t,{xKey:n,yKey:a,sizeKey:s,labelKey:r,marker:o}=this.properties,{size:l,shape:c,fill:u,fillOpacity:h,stroke:d,strokeWidth:p,strokeOpacity:g}=Xe(i&&this.properties.highlightStyle.item,o.getStyle()),f={size:l,shape:c,fill:u,fillOpacity:h,stroke:d,strokeWidth:p,strokeOpacity:g};this.sizeScale.range=[o.size,o.maxSize],e.each(((t,e)=>{this.updateMarkerStyle(t,o,{datum:e,highlighted:i,xKey:n,yKey:a,sizeKey:s,labelKey:r},f,{selected:e.selected})})),i||this.properties.marker.markClean()}async updateLabelSelection(t){const e=this.properties.label.enabled?this.chart?.placeLabels().get(this)??[]:[];return t.labelSelection.update(e.map((t=>({...t.datum,point:{x:t.x,y:t.y,size:t.datum.point.size}}))))}async updateLabelNodes(t){const{label:e}=this.properties;t.labelSelection.each(((t,i)=>{t.text=i.label.text,t.fill=e.color,t.x=i.point?.x??0,t.y=i.point?.y??0,t.fontStyle=e.fontStyle,t.fontWeight=e.fontWeight,t.fontSize=e.fontSize,t.fontFamily=e.fontFamily,t.textAlign="left",t.textBaseline="top"}))}getTooltipHtml(t){const e=this.axes.x,i=this.axes.y;if(!this.properties.isValid()||!e||!i)return pr;const{xKey:n,yKey:a,sizeKey:s,labelKey:r,xName:o,yName:l,sizeName:c,labelName:u,marker:h,tooltip:d}=this.properties,p=this.properties.title??l,g=Xe({fill:t.fill,strokeWidth:this.getStrokeWidth(h.strokeWidth)},h.getStyle()),{fill:f="gray"}=this.getMarkerStyle(h,{datum:t,highlighted:!1,xKey:n,yKey:a,sizeKey:s,labelKey:r},g),{datum:y,xValue:m,yValue:x,sizeValue:b,label:{text:v},itemId:M}=t,S=Up(e.formatDatum(m)),I=Up(i.formatDatum(x));let D=`<b>${Up(o??n)}</b>: ${S}<br><b>${Up(l??a)}</b>: ${I}`;return s&&(D+=`<br><b>${Up(c??s)}</b>: ${Up(String(b))}`),r&&(D=`<b>${Up(u??r)}</b>: ${Up(v)}<br>`+D),d.toTooltipHtml({title:p,content:D,backgroundColor:f},{datum:y,itemId:M,xKey:n,xName:o,yKey:a,yName:l,sizeKey:s,sizeName:c,labelKey:r,labelName:u,title:p,color:f,seriesId:this.id})}getLegendData(){if(!this.data?.length||!this.properties.isValid())return[];const{yKey:t,yName:e,title:i,marker:n,visible:a}=this.properties,{shape:s,fill:r,stroke:o,fillOpacity:l,strokeOpacity:c,strokeWidth:u}=n;return[{legendType:"category",id:this.id,itemId:t,seriesId:this.id,enabled:a,label:{text:i??e??t},symbols:[{marker:{shape:s,fill:r??"rgba(0, 0, 0, 0)",stroke:o??"rgba(0, 0, 0, 0)",fillOpacity:l??1,strokeOpacity:c??1,strokeWidth:u??0}}]}]}animateEmptyUpdateReady(t){let{markerSelection:e,labelSelection:i}=t;qg(this,this.ctx.animationManager,e),Ng(this,"labels",this.ctx.animationManager,i)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new Ka}getFormattedMarkerStyle(t){const{xKey:e,yKey:i,sizeKey:n,labelKey:a}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:t,xKey:e,yKey:i,sizeKey:n,labelKey:a,highlighted:!1})}computeFocusBounds(t){return sf(this,t)}};Ly.className="BubbleSeries",Ly.type="bubble";var ky={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bubble",moduleFactory:t=>new Ly(t),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{shape:"circle",size:7,maxSize:30,fillOpacity:.8,tooltip:{position:{type:"node"}},label:{enabled:!1,fontSize:12,fontFamily:Zd,color:Hd}}},paletteFactory:zd},Ay=class extends Vh{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.areaPlot=!1,this.aggregation="sum",this.shadow=new Cg,this.label=new Ir,this.tooltip=new Og}};R([Ji(on)],Ay.prototype,"xKey",2),R([Ji(on,{optional:!0})],Ay.prototype,"yKey",2),R([Ji(on,{optional:!0})],Ay.prototype,"xName",2),R([Ji(on,{optional:!0})],Ay.prototype,"yName",2),R([Ji(In,{optional:!0})],Ay.prototype,"fill",2),R([Ji(dn)],Ay.prototype,"fillOpacity",2),R([Ji(In,{optional:!0})],Ay.prototype,"stroke",2),R([Ji(hn)],Ay.prototype,"strokeWidth",2),R([Ji(dn)],Ay.prototype,"strokeOpacity",2),R([Ji(Rn)],Ay.prototype,"lineDash",2),R([Ji(hn)],Ay.prototype,"lineDashOffset",2),R([Ji(hn)],Ay.prototype,"cornerRadius",2),R([Ji(sn)],Ay.prototype,"areaPlot",2),R([Ji(fn,{optional:!0})],Ay.prototype,"bins",2),R([Ji(Wn(["count","sum","mean"],"a histogram aggregation"))],Ay.prototype,"aggregation",2),R([Ji(hn,{optional:!0})],Ay.prototype,"binCount",2),R([Ji(nn)],Ay.prototype,"shadow",2),R([Ji(nn)],Ay.prototype,"label",2),R([Ji(nn)],Ay.prototype,"tooltip",2);var Cy=class extends Wh{constructor(t){super({moduleCtx:t,directionKeys:_h,directionNames:Uh,pickModes:[1,0],datumSelectionGarbageCollection:!1,animationResetFns:{datum:fy,label:kg}}),this.properties=new Ay,this.calculatedBins=[]}deriveBins(t){const e=xa(t[0],t[1],10),i=va(t[0],t[1],10),[n]=e;return[[n-i,n],...e.map((t=>[t,t+i]))]}calculateNiceBins(t,e){const i=Math.floor(t[0]),n=t[1],a=e||1,{start:s,binSize:r}=this.calculateNiceStart(i,n,a);return this.getBins(s,n,r,a)}getBins(t,e,i,n){const a=[],s=this.calculatePrecision(i);for(let r=0;r<n;r++){const o=Math.round((t+r*i)*s)/s;let l=Math.round((t+(r+1)*i)*s)/s;r===n-1&&(l=Math.max(l,e)),a[r]=[o,l]}return a}calculatePrecision(t){let e=10;if(isFinite(t)&&t>0)for(;t<1;)e*=10,t*=10;return e}calculateNiceStart(t,e,i){const n=Math.abs(e-t)/i,a=Math.floor(Math.log10(n)),s=Math.pow(10,a);return{start:Math.floor(t/s)*s,binSize:n}}async processData(t){this.visible||(this.processedData=void 0,this.animationState.transition("updateData"));const{xKey:e,yKey:i,areaPlot:n,aggregation:a}=this.properties,s=this.axes.x?.scale,r=this.axes.y?.scale,{xScaleType:o,yScaleType:l}=this.getScaleInformation({yScale:r,xScale:s}),c=[ag(e,o),pg];if(i){let t=$p("groupAgg");"count"===a||("sum"===a?t=Hp("groupAgg"):"mean"===a&&(t=Qp("groupAgg"))),n&&(t=Xp("groupAgg",t)),c.push(sg(i,l,{invalidValue:void 0}),t)}else{let t=$p("groupAgg");n&&(t=Xp("groupAgg",t)),c.push(t)}!this.ctx.animationManager.isSkipped()&&this.processedData&&c.push(Dg(this.processedData,!1)),await this.requestDataModel(t,this.data,{props:c,groupByFn:t=>{const e=uu(t.domain.keys[0]);if(0===e.length)return t.domain.groups=[],()=>[];const i=Ue(this.properties.binCount)?this.calculateNiceBins(e,this.properties.binCount):this.properties.bins??this.deriveBins(e),n=i.length;return this.calculatedBins=[...i],t=>{const e=t.keys[0];for(let a=0;a<n;a++){const t=i[a];if(e>=t[0]&&e<t[1])return t;if(a===n-1&&e<=t[1])return t}return[]}}}),this.animationState.transition("updateData")}getSeriesDomain(t){const{processedData:e,dataModel:i}=this;if(!e||!i||!this.calculatedBins.length)return[];const n=i.getDomain(this,"groupAgg","aggregate",e),a=this.calculatedBins?.[0][0],s=this.calculatedBins?.[(this.calculatedBins?.length??0)-1][1];return uu("x"===t?[a,s]:n)}async createNodeData(){const{id:t,axes:e,processedData:i,ctx:{callbackCache:n}}=this,a=e.x,s=e.y;if(!a||!s)return;const{scale:r}=a,{scale:o}=s,{xKey:l,yKey:c,xName:u,yName:h,fill:d,stroke:p,strokeWidth:g,cornerRadius:f}=this.properties,y=this.properties.label.formatter??(t=>String(t.value)),m=[],x={itemId:this.properties.yKey??this.id,nodeData:m,labelData:m,scales:this.calculateScaling(),animationValid:!0,visible:this.visible};return this.visible&&i&&"grouped"===i.type?(i.data.forEach((e=>{const{aggValues:[[i,a]]=[[0,0]],datum:x,datum:{length:b},keys:v,keys:[M,S]}=e,I=r.convert(M),D=r.convert(S),w=i+a,N=o.convert(0),L=o.convert(w),k=Math.abs(D-I),A=Math.abs(L-N),C=Math.min(I,D),T=Math.min(N,L);let E;0!==w&&(E={x:C+k/2,y:T+A/2,text:n.call(y,{value:w,datum:x,seriesId:t,xKey:l,yKey:c,xName:u,yName:h})??String(w)});const R={x:C+k/2,y:T+A/2},O=s.isReversed();m.push({series:this,datum:x,aggregatedValue:w,frequency:b,domain:v,yKey:c,xKey:l,x:C,y:T,xValue:I,yValue:L,width:k,height:A,midPoint:R,fill:d,stroke:p,cornerRadius:f,topLeftCornerRadius:!O,topRightCornerRadius:!O,bottomRightCornerRadius:O,bottomLeftCornerRadius:O,opacity:1,strokeWidth:g,label:E})})),m.sort(((t,e)=>t.x-e.x)),x):x}nodeFactory(){return new ld}async updateDatumSelection(t){const{nodeData:e,datumSelection:i}=t;return i.update(e,(t=>{t.crisp=!0}),(t=>t.domain.join("_")))}async updateDatumNodes(t){const{isHighlight:e}=t,{fillOpacity:i,strokeOpacity:n,lineDash:a,lineDashOffset:s,shadow:r,highlightStyle:{item:{fill:o,fillOpacity:l=i,stroke:c,strokeWidth:u}}}=this.properties;t.datumSelection.each(((t,h,d)=>{const{cornerRadius:p,topLeftCornerRadius:g,topRightCornerRadius:f,bottomRightCornerRadius:y,bottomLeftCornerRadius:m}=h,x=e&&void 0!==u?u:h.strokeWidth,b=e?l:i;t.fill=(e?o:void 0)??h.fill,t.stroke=(e?c:void 0)??h.stroke,t.fillOpacity=b,t.strokeOpacity=n,t.strokeWidth=x,t.lineDash=a,t.lineDashOffset=s,t.topLeftCornerRadius=g?p:0,t.topRightCornerRadius=f?p:0,t.bottomRightCornerRadius=y?p:0,t.bottomLeftCornerRadius=m?p:0,t.fillShadow=r,t.zIndex=e?Qu.highlightedZIndex:d,t.visible=h.height>0}))}async updateLabelSelection(t){const{labelData:e,labelSelection:i}=t;return i.update(e,(t=>{t.pointerEvents=1,t.textAlign="center",t.textBaseline="middle"}))}async updateLabelNodes(t){const{fontStyle:e,fontWeight:i,fontFamily:n,fontSize:a,color:s}=this.properties.label,r=this.isLabelEnabled();t.labelSelection.each(((t,o)=>{r&&o?.label?(t.text=o.label.text,t.x=o.label.x,t.y=o.label.y,t.fontStyle=e,t.fontWeight=i,t.fontFamily=n,t.fontSize=a,t.fill=s,t.visible=!0):t.visible=!1}))}initQuadTree(t){const{value:e}=this.contentGroup.children().next();e&&iy(t,e.children())}pickNodeClosestDatum(t){return ny(this,t)}getTooltipHtml(t){const e=this.axes.x,i=this.axes.y;if(!this.properties.isValid()||!e||!i)return pr;const{xKey:n,yKey:a,xName:s,yName:r,fill:o,aggregation:l,tooltip:c}=this.properties,{aggregatedValue:u,frequency:h,domain:[d,p],itemId:g}=t,f=`${Up(s??n)}: ${e.formatDatum(d)} - ${e.formatDatum(p)}`;let y=a?`<b>${Up(r??a)} (${l})</b>: ${i.formatDatum(u)}<br>`:"";y+=`<b>Frequency</b>: ${h}`;const m={title:f,backgroundColor:o,content:y};return c.toTooltipHtml(m,{datum:{data:t.datum,aggregatedValue:t.aggregatedValue,domain:t.domain,frequency:t.frequency},itemId:g,xKey:n,xName:s,yKey:a,yName:r,color:o,title:f,seriesId:this.id})}getLegendData(t){if(!this.data?.length||"category"!==t)return[];const{xKey:e,yName:i,fill:n,fillOpacity:a,stroke:s,strokeWidth:r,strokeOpacity:o,visible:l}=this.properties;return[{legendType:"category",id:this.id,itemId:e,seriesId:this.id,enabled:l,label:{text:i??e??"Frequency"},symbols:[{marker:{fill:n??"rgba(0, 0, 0, 0)",stroke:s??"rgba(0, 0, 0, 0)",fillOpacity:a,strokeOpacity:o,strokeWidth:r}}]}]}animateEmptyUpdateReady(t){let{datumSelection:e,labelSelection:i}=t;const n=gy(dy(!0,this.axes,"normal"));Si(this.id,"datums",this.ctx.animationManager,[e],n),Ng(this,"labels",this.ctx.animationManager,i)}animateWaitingUpdateReady(t){const e=this.processedData?.reduced?.diff,i=gy(dy(!0,this.axes,"normal"));Si(this.id,"datums",this.ctx.animationManager,[t.datumSelection],i,((t,e)=>wg(e.domain)),e),Ng(this,"labels",this.ctx.animationManager,t.labelSelection)}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds(t){let{datumIndex:e,seriesRect:i}=t;return yy(this.contextNodeData?.nodeData[e],this.contentGroup,i)}};Cy.className="HistogramSeries",Cy.type="histogram";var Ty={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"histogram",moduleFactory:t=>new Cy(t),tooltipDefaults:{range:"exact"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontSize:12,fontFamily:Zd,color:$d},shadow:{enabled:!1,color:ep,xOffset:3,yOffset:3,blur:5}}},paletteFactory:t=>{let{takeColors:e}=t;const{fills:[i],strokes:[n]}=e(1);return{fill:i,stroke:n}}},Ey=class extends Vh{constructor(){super(...arguments),this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new Pg,this.marker=new Eg,this.label=new Ir,this.tooltip=new Og,this.connectMissingData=!1}};R([Ji(on)],Ey.prototype,"xKey",2),R([Ji(on)],Ey.prototype,"yKey",2),R([Ji(on,{optional:!0})],Ey.prototype,"xName",2),R([Ji(on,{optional:!0})],Ey.prototype,"yName",2),R([Ji(on,{optional:!0})],Ey.prototype,"yFilterKey",2),R([Ji(on,{optional:!0})],Ey.prototype,"stackGroup",2),R([Ji(hn,{optional:!0})],Ey.prototype,"normalizedTo",2),R([Ji(on,{optional:!0})],Ey.prototype,"title",2),R([Ji(In)],Ey.prototype,"stroke",2),R([Ji(hn)],Ey.prototype,"strokeWidth",2),R([Ji(dn)],Ey.prototype,"strokeOpacity",2),R([Ji(Rn)],Ey.prototype,"lineDash",2),R([Ji(hn)],Ey.prototype,"lineDashOffset",2),R([Ji(nn)],Ey.prototype,"interpolation",2),R([Ji(nn)],Ey.prototype,"marker",2),R([Ji(nn)],Ey.prototype,"label",2),R([Ji(nn)],Ey.prototype,"tooltip",2),R([Ji(sn)],Ey.prototype,"connectMissingData",2);var Ry=class extends Wh{constructor(t){super({moduleCtx:t,directionKeys:_h,directionNames:Uh,hasMarkers:!0,pickModes:[2,1,0],markerSelectionGarbageCollection:!1,animationResetFns:{path:bf({getVisible:()=>this.visible,getOpacity:()=>this.getOpacity()}),label:kg,marker:(t,e)=>({opacity:1,scalingX:1,scalingY:1,...nf(0,e)})}}),this.properties=new Ey}get pickModeAxis(){return"main-category"}async processData(t){if(null==this.data||!this.properties.isValid())return;const{data:e,visible:i,seriesGrouping:{groupIndex:n=this.id,stackCount:a=1}={}}=this,{xKey:s,yKey:r,yFilterKey:o,connectMissingData:l,normalizedTo:c}=this.properties,u=!this.ctx.animationManager.isSkipped(),h=this.axes.x?.scale,d=this.axes.y?.scale,{isContinuousX:p,xScaleType:g,yScaleType:f}=this.getScaleInformation({xScale:h,yScale:d}),y={invalidValue:null};l&&a>1&&(y.invalidValue=0),i||(y.forceValue=0);const m=[];if(p||m.push(ag(s,g,{id:"xKey"})),m.push(sg(s,g,{id:"xValue"}),sg(r,f,{id:"yValueRaw",...y,invalidValue:void 0})),null!=o&&m.push(sg(o,f,{id:"yFilterRaw"})),a>1){const t=[`line-stack-${n}-yValues`,`line-stack-${n}-yValues-trailing`,`line-stack-${n}-yValues-marker`];m.push(...cg(r,"window","current",{id:"yValueEnd",...y,groupId:t[0]},f),...cg(r,"window-trailing","current",{id:"yValueStart",...y,groupId:t[1]},f),...cg(r,"normal","current",{id:"yValueCumulative",...y,groupId:t[2]},f)),Te(c)&&m.push(fg([t[0],t[1],t[2]],c,"range"))}u&&(m.push(xg(p?["xValue"]:void 0)),this.processedData&&m.push(Dg(this.processedData))),await this.requestDataModel(t,e,{props:m}),this.animationState.transition("updateData")}getSeriesDomain(t){const{dataModel:e,processedData:i}=this;if(!e||!i?.data.length)return[];const n=e.resolveProcessedDataDefById(this,"xValue");if("x"===t){const t=e.getDomain(this,"xValue","value",i);return"value"===n?.def.type&&"category"===n.def.valueType?t:uu(ki(t))}return uu((this.seriesGrouping?.stackCount??1)>1?e.getDomain(this,"yValueEnd","value",i):e.getDomain(this,"yValueRaw","value",i))}async createNodeData(){const{processedData:t,dataModel:e,axes:i}=this,n=i.x,a=i.y;if(!t||!e||!n||!a)return;const{xKey:s,yKey:r,yFilterKey:o,xName:l,yName:c,marker:u,label:h,connectMissingData:d,legendItemName:p}=this.properties,g=(this.seriesGrouping?.stackCount??1)>1,f=n.scale,y=a.scale,m=(f.bandwidth??0)/2,x=(y.bandwidth??0)/2,b=[],v=u.enabled?u.size:0,M=e.resolveProcessedDataIndexById(this,"xValue"),S=e.resolveProcessedDataIndexById(this,"yValueRaw"),I=null!=o?e.resolveProcessedDataIndexById(this,"yFilterRaw"):void 0,D=g?e.resolveProcessedDataIndexById(this,"yValueCumulative"):S,w=g?e.resolveProcessedDataIndexById(this,"yValueEnd"):void 0;let N=!0,L=!1;return t.data?.forEach((t=>{let{datum:e,values:i}=t;const n=i[M],a=i[S],o=i[D],u=null!=w?i[w]:void 0;if(null==a)return void(N||(N=!d));const g=f.convert(n)+m;if(isNaN(g))return void(N||(N=!d));const k=y.convert(o)+x,A=null!=I?i[I]===a:void 0;!1===A&&(L=!0);const C=this.getLabelText(h,{value:a,datum:e,xKey:s,yKey:r,xName:l,yName:c,legendItemName:p},Gp);b.push({series:this,datum:e,yKey:r,xKey:s,point:{x:g,y:k,moveTo:N,size:v},midPoint:{x:g,y:k},cumulativeValue:u,yValue:a,xValue:n,capDefaults:{lengthRatioMultiplier:this.properties.marker.getDiameter(),lengthMax:1/0},labelText:C,selected:A}),N=!1})),{itemId:r,nodeData:b,labelData:b,scales:this.calculateScaling(),visible:this.visible,crossFiltering:L}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}markerFactory(){const{shape:t}=this.properties.marker;return new(Rh(t))}async updatePathNodes(t){const{paths:[e],opacity:i,visible:n,animationEnabled:a}=t,s=!0===this.contextNodeData?.crossFiltering;e.setProperties({fill:void 0,lineJoin:"round",pointerEvents:1,opacity:i,stroke:this.properties.stroke,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.properties.strokeOpacity*(s?.25:1),lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset}),a||(e.visible=n),vf(this,e)}async updateMarkerSelection(t){let{nodeData:e}=t;const{markerSelection:i}=t;return e=this.properties.marker.enabled||!0===this.contextNodeData?.crossFiltering?e:[],this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(e,void 0,(t=>wg(t.xValue)))}async updateMarkerNodes(t){const{markerSelection:e,isHighlight:i}=t,{xKey:n,yKey:a,stroke:s,strokeWidth:r,strokeOpacity:o,marker:l,highlightStyle:c}=this.properties,u=Xe(i&&c.item,l.getStyle(),{stroke:s,strokeWidth:r,strokeOpacity:o}),h=this.ctx.animationManager.isSkipped();e.each(((t,e)=>{this.updateMarkerStyle(t,l,{datum:e,highlighted:i,xKey:n,yKey:a},u,{applyTranslation:h,selected:e.selected})})),i||l.markClean()}async updateLabelSelection(t){return t.labelSelection.update(this.isLabelEnabled()?t.labelData:[])}async updateLabelNodes(t){const{enabled:e,fontStyle:i,fontWeight:n,fontSize:a,fontFamily:s,color:r}=this.properties.label;t.labelSelection.each(((t,o)=>{e&&o?.labelText?(t.fontStyle=i,t.fontWeight=n,t.fontSize=a,t.fontFamily=s,t.textAlign="center",t.textBaseline="bottom",t.text=o.labelText,t.x=o.point.x,t.y=o.point.y-10,t.fill=r,t.visible=!0):t.visible=!1}))}getTooltipHtml(t){const e=this.axes.x,i=this.axes.y;if(!this.properties.isValid()||!e||!i)return pr;const{xKey:n,yKey:a,xName:s,yName:r,strokeWidth:o,marker:l,tooltip:c}=this.properties,{datum:u,xValue:h,yValue:d,itemId:p}=t,g=e.formatDatum(h),f=i.formatDatum(d),y=Up(this.properties.title??r),m=Up(g+": "+f),x=Xe({fill:l.stroke},l.getStyle(),{strokeWidth:o}),{fill:b}=this.getMarkerStyle(l,{datum:t,xKey:n,yKey:a,highlighted:!1},x);return c.toTooltipHtml({title:y,content:m,backgroundColor:b},{datum:u,itemId:p,xKey:n,xName:s,yKey:a,yName:r,title:y,color:b,seriesId:this.id,...this.getModuleTooltipParams()})}getLegendData(t){if(!this.data?.length||!this.properties.isValid()||"category"!==t)return[];const{yKey:e,yName:i,stroke:n,strokeOpacity:a,strokeWidth:s,lineDash:r,title:o,marker:l,visible:c,legendItemName:u}=this.properties,h="rgba(0, 0, 0, 0)";return[{legendType:"category",id:this.id,itemId:e,legendItemName:u,seriesId:this.id,enabled:c,label:{text:u??o??i??e},symbols:[{marker:{shape:l.shape,fill:l.fill??h,stroke:l.stroke??n??h,fillOpacity:l.fillOpacity??1,strokeOpacity:l.strokeOpacity??a??1,strokeWidth:l.strokeWidth??0,enabled:l.enabled},line:{stroke:n??h,strokeOpacity:a,strokeWidth:s,lineDash:r}}]}]}async updatePaths(t){this.updateLinePaths(t.paths,t.contextData)}updateLinePaths(t,e){const{interpolation:i}=this.properties,{nodeData:n}=e,[a]=t;a.path.clear(!0);for(const s of Nf(n))pf(Lf(n,s),a,i);a.checkPathDirty()}animateEmptyUpdateReady(t){const{markerSelection:e,labelSelection:i,annotationSelections:n,contextData:a,paths:s}=t,{animationManager:r}=this.ctx;this.updateLinePaths(s,a),yf(this,r,...s),ea([e],nf),tf(this,r,e),Ng(this,"labels",r,i),Ng(this,"annotations",r,...n)}animateReadyResize(t){const{contextData:e,paths:i}=t;this.updateLinePaths(i,e),super.animateReadyResize(t)}animateWaitingUpdateReady(t){const{animationManager:e}=this.ctx,{markerSelection:i,labelSelection:n,annotationSelections:a,contextData:s,paths:r,previousContextData:o}=t,[l]=r;this.resetMarkerAnimation(t),this.resetLabelAnimation(t);const c=()=>{this.resetPathAnimation(t),this.updateLinePaths(r,s)},u=()=>{e.skipCurrentBatch(),c()};if(null==s||null==o)return c(),Jg(this,e,"added",i),mf(this,"path_properties",e,"add",l),Ng(this,"labels",e,n),void Ng(this,"annotations",e,...a);if(s.crossFiltering!==o.crossFiltering)return void u();let h;try{h=Pf(s,o,this.processedData?.reduced?.diff,this.properties.interpolation)}catch{h=void 0}void 0!==h?"no-op"!==h.status&&(Jg(this,e,void 0,i),Si(this.id,"path_properties",e,[l],h.pathProperties),"added"===h.status?this.updateLinePaths(r,s):"removed"===h.status?this.updateLinePaths(r,o):Fp(this.id,"path_update",e,[l],h.path),h.hasMotion&&(Ng(this,"labels",e,n),Ng(this,"annotations",e,...a))):u()}isLabelEnabled(){return this.properties.label.enabled}getBandScalePadding(){return{inner:1,outer:.1}}nodeFactory(){return new Ka}getFormattedMarkerStyle(t){const{xKey:e,yKey:i}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:t,xKey:e,yKey:i,highlighted:!0})}computeFocusBounds(t){return sf(this,t)}};Ry.className="LineSeries",Ry.type="line";var Oy={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"line",moduleFactory:t=>new Ry(t),stackable:!0,tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{tooltip:{position:{type:"node"}},strokeWidth:2,strokeOpacity:1,lineDash:[0],lineDashOffset:0,interpolation:{type:"linear",tension:1,position:"end"},marker:{shape:"circle",size:7,strokeWidth:0},label:{enabled:!1,fontSize:12,fontFamily:Zd,color:Hd},errorBar:{cap:{lengthRatio:1}}}},paletteFactory:t=>{const{marker:e}=jd(t);return{stroke:e.fill,marker:e}}},zy=class extends Ir{constructor(){super(...arguments),this.placement="top"}};R([Ji(Vn)],zy.prototype,"placement",2);var jy=class extends Vh{constructor(){super(...arguments),this.colorRange=["#ffff00","#00ff00","#0000ff"],this.label=new zy,this.tooltip=new Og,this.marker=new Eg}};R([Ji(on)],jy.prototype,"xKey",2),R([Ji(on)],jy.prototype,"yKey",2),R([Ji(on,{optional:!0})],jy.prototype,"labelKey",2),R([Ji(on,{optional:!0})],jy.prototype,"colorKey",2),R([Ji(on,{optional:!0})],jy.prototype,"xFilterKey",2),R([Ji(on,{optional:!0})],jy.prototype,"yFilterKey",2),R([Ji(on,{optional:!0})],jy.prototype,"xName",2),R([Ji(on,{optional:!0})],jy.prototype,"yName",2),R([Ji(on,{optional:!0})],jy.prototype,"labelName",2),R([Ji(on,{optional:!0})],jy.prototype,"colorName",2),R([Ji(Nn,{optional:!0})],jy.prototype,"colorDomain",2),R([Ji(Dn)],jy.prototype,"colorRange",2),R([Ji(on,{optional:!0})],jy.prototype,"title",2),R([$s("marker.shape")],jy.prototype,"shape",2),R([$s("marker.size")],jy.prototype,"size",2),R([$s("marker.fill")],jy.prototype,"fill",2),R([$s("marker.fillOpacity")],jy.prototype,"fillOpacity",2),R([$s("marker.stroke")],jy.prototype,"stroke",2),R([$s("marker.strokeWidth")],jy.prototype,"strokeWidth",2),R([$s("marker.strokeOpacity")],jy.prototype,"strokeOpacity",2),R([$s("marker.itemStyler",{optional:!0})],jy.prototype,"itemStyler",2),R([Ji(nn)],jy.prototype,"label",2),R([Ji(nn)],jy.prototype,"tooltip",2);var Py=class extends Wh{constructor(t){super({moduleCtx:t,directionKeys:_h,directionNames:Uh,pickModes:[2,1,0],pathsPerSeries:[],hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{marker:ef,label:kg}}),this.properties=new jy,this.colorScale=new vs}get pickModeAxis(){return"main-category"}async processData(t){if(!this.properties.isValid()||null==this.data||!this.visible)return;const e=this.axes.x?.scale,i=this.axes.y?.scale,{xScaleType:n,yScaleType:a}=this.getScaleInformation({xScale:e,yScale:i}),s=this.colorScale.type,{xKey:r,yKey:o,xFilterKey:l,yFilterKey:c,labelKey:u,colorKey:h,colorDomain:d,colorRange:p}=this.properties,{dataModel:g,processedData:f}=await this.requestDataModel(t,this.data,{props:[sg(r,n,{id:"xValue"}),sg(o,a,{id:"yValue"}),...null!=l?[sg(l,n,{id:"xFilterValue"})]:[],...null!=c?[sg(c,a,{id:"yFilterValue"})]:[],...h?[sg(h,s,{id:"colorValue"})]:[],...u?[sg(u,"band",{id:"labelValue"})]:[]]});if(h){const t=g.resolveProcessedDataIndexById(this,"colorValue");this.colorScale.domain=d??f.domain.values[t]??[],this.colorScale.range=p,this.colorScale.update()}this.animationState.transition("updateData")}getSeriesDomain(t){const{dataModel:e,processedData:i}=this;if(!i||!e)return[];const n="x"===t?"xValue":"yValue",a=e.resolveProcessedDataDefById(this,n),s=e.getDomain(this,n,"value",i);return"value"===a?.def.type&&"category"===a?.def.valueType?s:uu(ki(s))}async createNodeData(){const{axes:t,dataModel:e,processedData:i,colorScale:n}=this,{xKey:a,yKey:s,xFilterKey:r,yFilterKey:o,labelKey:l,colorKey:c,xName:u,yName:h,labelName:d,marker:p,label:g,visible:f}=this.properties,{placement:y}=g,m=Rh(p.shape),x=t.x,b=t.y;if(!(e&&i&&f&&x&&b))return;const v=e.resolveProcessedDataIndexById(this,"xValue"),M=e.resolveProcessedDataIndexById(this,"yValue"),S=null!=c?e.resolveProcessedDataIndexById(this,"colorValue"):-1,I=null!=l?e.resolveProcessedDataIndexById(this,"labelValue"):-1,D=null!=r?e.resolveProcessedDataIndexById(this,"xFilterValue"):void 0,w=null!=o?e.resolveProcessedDataIndexById(this,"yFilterValue"):void 0,N=x.scale,L=b.scale,k=(N.bandwidth??0)/2,A=(L.bandwidth??0)/2,C=[],T=g.getFont(),E=ks.getMeasurer({font:T});for(const{values:R,datum:O}of i.data??[]){const t=R[v],e=R[M],i=N.convert(t)+k,r=L.convert(e)+A,o=null!=D&&null!=w?R[D]===t&&R[w]===e:void 0,f=this.getLabelText(g,{value:l?R[I]:e,datum:O,xKey:a,yKey:s,labelKey:l,xName:u,yName:h,labelName:d}),x=E.measureText(f),b=c?n.convert(R[S]):void 0;C.push({series:this,itemId:s,yKey:s,xKey:a,datum:O,xValue:t,yValue:e,capDefaults:{lengthRatioMultiplier:p.getDiameter(),lengthMax:1/0},point:{x:i,y:r,size:p.size},midPoint:{x:i,y:r},fill:b,label:{text:f,...x},marker:m,placement:y,selected:o})}return{itemId:s,nodeData:C,labelData:C,scales:this.calculateScaling(),visible:this.visible}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){return this.contextNodeData?.labelData??[]}markerFactory(){const{shape:t}=this.properties.marker;return new(Rh(t))}async updateMarkerSelection(t){const{nodeData:e,markerSelection:i}=t;return this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(this.properties.marker.enabled?e:[])}async updateMarkerNodes(t){const{markerSelection:e,isHighlight:i}=t,{xKey:n,yKey:a,labelKey:s,marker:r,highlightStyle:o}=this.properties,l=Xe(i&&o.item,r.getStyle());e.each(((t,e)=>{this.updateMarkerStyle(t,r,{datum:e,highlighted:i,xKey:n,yKey:a,labelKey:s},l,{selected:e.selected})})),i||r.markClean()}async updateLabelSelection(t){const e=this.isLabelEnabled()?this.chart?.placeLabels().get(this)??[]:[];return t.labelSelection.update(e.map((t=>{let{datum:e,x:i,y:n}=t;return{...e,point:{x:i,y:n,size:e.point.size},placement:"top"}})),(t=>{t.pointerEvents=1}))}async updateLabelNodes(t){const{label:e}=this.properties;t.labelSelection.each(((t,i)=>{t.text=i.label.text,t.fill=e.color,t.x=i.point?.x??0,t.y=i.point?.y??0,t.fontStyle=e.fontStyle,t.fontWeight=e.fontWeight,t.fontSize=e.fontSize,t.fontFamily=e.fontFamily,t.textAlign="left",t.textBaseline="top"}))}getTooltipHtml(t){const e=this.axes.x,i=this.axes.y;if(!this.properties.isValid()||!e||!i)return pr;const{xKey:n,yKey:a,labelKey:s,xName:r,yName:o,labelName:l,title:c=o,marker:u,tooltip:h}=this.properties,{datum:d,xValue:p,yValue:g,label:f,itemId:y}=t,m=Xe({fill:t.fill,strokeWidth:this.getStrokeWidth(u.strokeWidth)},u.getStyle()),{fill:x="gray"}=this.getMarkerStyle(u,{datum:t,highlighted:!1,xKey:n,yKey:a,labelKey:s},m),b=Up(e.formatDatum(p)),v=Up(i.formatDatum(g));let M=`<b>${Up(r??n)}</b>: ${b}<br><b>${Up(o??a)}</b>: ${v}`;return s&&(M=`<b>${Up(l??s)}</b>: ${Up(f.text)}<br>`+M),h.toTooltipHtml({title:c,content:M,backgroundColor:x},{datum:d,itemId:y,xKey:n,xName:r,yKey:a,yName:o,labelKey:s,labelName:l,title:c,color:x,seriesId:this.id,...this.getModuleTooltipParams()})}getLegendData(t){const{yKey:e,yName:i,title:n,marker:a,visible:s}=this.properties,{fill:r,stroke:o,fillOpacity:l,strokeOpacity:c,strokeWidth:u}=a;return this.data?.length&&this.properties.isValid()&&"category"===t?[{legendType:"category",id:this.id,itemId:e,seriesId:this.id,enabled:s,label:{text:n??i??e},symbols:[{marker:{shape:a.shape,fill:a.fill??r??"rgba(0, 0, 0, 0)",stroke:a.stroke??o??"rgba(0, 0, 0, 0)",fillOpacity:l??1,strokeOpacity:c??1,strokeWidth:u??0}}]}]:[]}animateEmptyUpdateReady(t){const{markerSelection:e,labelSelection:i,annotationSelections:n}=t;qg(this,this.ctx.animationManager,e),Ng(this,"labels",this.ctx.animationManager,i),Ng(this,"annotations",this.ctx.animationManager,...n)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new Ka}getFormattedMarkerStyle(t){const{xKey:e,yKey:i,labelKey:n}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:t,xKey:e,yKey:i,labelKey:n,highlighted:!0})}computeFocusBounds(t){return sf(this,t)}};Py.className="ScatterSeries",Py.type="scatter";var By={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"scatter",moduleFactory:t=>new Py(t),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{shape:"circle",size:7,fillOpacity:.8,tooltip:{position:{type:"node"}},label:{enabled:!1,fontSize:12,fontFamily:Zd,color:Hd},errorBar:{cap:{lengthRatio:1}}}},paletteFactory:zd},Fy=class t{constructor(t,e,i,n){this.startAngle=t,this.endAngle=e,this.innerRadius=i,this.outerRadius=n}clone(){const{startAngle:e,endAngle:i,innerRadius:n,outerRadius:a}=this;return new t(e,i,n,a)}equals(t){return this.startAngle===t.startAngle&&this.endAngle===t.endAngle&&this.innerRadius===t.innerRadius&&this.outerRadius===t.outerRadius}[zt](e,i){return new t(this.startAngle*(1-i)+e.startAngle*i,this.endAngle*(1-i)+e.endAngle*i,this.innerRadius*(1-i)+e.innerRadius*i,this.outerRadius*(1-i)+e.outerRadius*i)}};function Gy(t){let{startAngle:e,endAngle:i,innerRadius:n,outerRadius:a}=t,s=1/0,r=1/0,o=-1/0,l=-1/0;const c=(t,e)=>{s=Math.min(t,s),r=Math.min(e,r),o=Math.max(t,o),l=Math.max(e,l)};return c(n*Math.cos(e),n*Math.sin(e)),c(n*Math.cos(i),n*Math.sin(i)),c(a*Math.cos(e),a*Math.sin(e)),c(a*Math.cos(i),a*Math.sin(i)),rs(0,e,i)&&c(a,0),rs(.5*Math.PI,e,i)&&c(0,a),rs(Math.PI,e,i)&&c(-a,0),rs(1.5*Math.PI,e,i)&&c(0,-a),new ue(s,r,o-s,l-r)}function _y(t,e,i){const n=Math.sqrt(Math.pow(t,2)+Math.pow(e,2)),{innerRadius:a,outerRadius:s}=i;if(i.startAngle===i.endAngle||n<Math.min(a,s)||n>Math.max(a,s))return!1;const r=ss(i.startAngle),o=ss(i.endAngle),l=Math.atan2(e,t);return r<o?l<=o&&l>=r:l<=o&&l>=-Math.PI||l>=r&&l<=Math.PI}function Uy(t,e){const{startAngle:i,endAngle:n,innerRadius:a,outerRadius:s}=e,r={x:s*Math.cos(i),y:s*Math.sin(i)},o={x:s*Math.cos(n),y:s*Math.sin(n)},l=0===a?{x:0,y:0}:{x:a*Math.cos(i),y:a*Math.sin(i)},c=0===a?{x:0,y:0}:{x:a*Math.cos(n),y:a*Math.sin(n)};return Al(t.start.x,t.start.y,t.end.x,t.end.y,r.x,r.y,l.x,l.y)||Al(t.start.x,t.start.y,t.end.x,t.end.y,o.x,o.y,c.x,c.y)||El(0,0,s,i,n,!0,t.start.x,t.start.y,t.end.x,t.end.y)}function Yy(t,e){const i={x:t.x,y:t.y},n={x:t.x+t.width,y:t.y},a={x:t.x,y:t.y+t.height},s={x:t.x+t.width,y:t.y+t.height};return Uy({start:i,end:n},e)||Uy({start:a,end:s},e)}function Vy(t,e,i,n){if(0===i&&0===n)return 0;if(Math.asin(Math.abs(1*i)/(t+1*i))+Math.asin(Math.abs(1*n)/(t+1*n))-e<0)return 1;let a=0,s=1;for(let r=0;r<8;r+=1){const r=(a+s)/2;Math.asin(Math.abs(r*i)/(t+r*i))+Math.asin(Math.abs(r*n)/(t+r*n))-e<0?a=r:s=r}return a}function Wy(t,e){return us(t,e)<1e-6?e:ns(t-e)+e}function Zy(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=Math.abs(e-t)>=2*Math.PI?2*Math.PI:ns(e-t);return{startAngle:t=Wy(t,i),endAngle:e=t+n}}function Hy(t,e,i,n,a,s){const r=Math.sin(s),o=Math.cos(s),l=t**2+e**2-i**2;let c=NaN,u=NaN,h=NaN,d=NaN;if(o>.5){const i=r/o,n=1+i**2,a=-2*(t+e*i),s=a**2-4*n*l;if(s<0)return;const p=(-a+Math.sqrt(s))/(2*n),g=(-a-Math.sqrt(s))/(2*n);c=p,u=p*i,h=g,d=g*i}else{const i=o/r,n=1+i**2,a=-2*(e+t*i),s=a**2-4*n*l;if(s<0)return;const p=(-a+Math.sqrt(s))/(2*n),g=(-a-Math.sqrt(s))/(2*n);c=p*i,u=p,h=g*i,d=g}const p=h*o+d*r,g=c*o+u*r>0?Wy(Math.atan2(u-e,c-t),n):NaN,f=p>0?Wy(Math.atan2(d-e,h-t),n):NaN;return g>=n&&g<=a?g:f>=n&&f<=a?f:void 0}function Ky(t,e,i,n,a,s){const r=Math.hypot(t,e),o=r-(r**2-i**2+s**2)/(2*r),l=Math.atan2(e,t),c=Math.acos(-o/i),u=Wy(l+c,n),h=Wy(l-c,n);return u>=n&&u<=a?u:h>=n&&h<=a?h:void 0}var $y=class{constructor(t,e,i,n,a){this.cx=t,this.cy=e,this.r=i,this.a0=n,this.a1=a,this.a0>=this.a1&&(this.a0=NaN,this.a1=NaN)}isValid(){return Number.isFinite(this.a0)&&Number.isFinite(this.a1)}pointAt(t){return{x:this.cx+this.r*Math.cos(t),y:this.cy+this.r*Math.sin(t)}}clipStart(t){null==t||!this.isValid()||t<this.a0||(this.a0=t,(Number.isNaN(t)||this.a0>=this.a1)&&(this.a0=NaN,this.a1=NaN))}clipEnd(t){null==t||!this.isValid()||t>this.a1||(this.a1=t,(Number.isNaN(t)||this.a0>=this.a1)&&(this.a0=NaN,this.a1=NaN))}},Qy=class extends Gl{constructor(){super(...arguments),this.centerX=0,this.centerY=0,this.innerRadius=10,this.outerRadius=20,this.startAngle=0,this.endAngle=2*Math.PI,this.clipSector=void 0,this.concentricEdgeInset=0,this.radialEdgeInset=0,this.startOuterCornerRadius=0,this.endOuterCornerRadius=0,this.startInnerCornerRadius=0,this.endInnerCornerRadius=0}set inset(t){this.concentricEdgeInset=t,this.radialEdgeInset=t}set cornerRadius(t){this.startOuterCornerRadius=t,this.endOuterCornerRadius=t,this.startInnerCornerRadius=t,this.endInnerCornerRadius=t}computeBBox(){return Gy(this).translate(this.centerX,this.centerY)}normalizedRadii(){const{concentricEdgeInset:t}=this;let{innerRadius:e,outerRadius:i}=this;return e=e>0?e+t:0,i=Math.max(i-t,0),{innerRadius:e,outerRadius:i}}normalizedClipSector(){const{clipSector:t}=this;if(null==t)return;const{startAngle:e,endAngle:i}=Zy(this.startAngle,this.endAngle),{innerRadius:n,outerRadius:a}=this.normalizedRadii(),s=Zy(t.startAngle,t.endAngle,e);return new Fy(Math.max(e,s.startAngle),Math.min(i,s.endAngle),Math.max(n,t.innerRadius),Math.min(a,t.outerRadius))}getAngleOffset(t){return t>0?this.radialEdgeInset/t:0}arc(t,e,i,n,a,s,r,o){if(t<=0)return;const{startAngle:l,endAngle:c}=Zy(this.startAngle,this.endAngle),{innerRadius:u,outerRadius:h}=this.normalizedRadii(),d=this.normalizedClipSector();if(o&&u<=0)return;const p=o?this.getAngleOffset(u+t):this.getAngleOffset(h-t),g=r?l+p+e:c-p-e,f=o?u+t:h-t,y=f*Math.cos(g),m=f*Math.sin(g);if(null!=d){const t=1e-6;if(!r&&!(g>=l-t&&g<=d.endAngle-t))return;if(r&&!(g>=d.startAngle+t&&g<=c-t))return;if(o&&f<d.innerRadius-t)return;if(!o&&f>d.outerRadius+t)return}const x=new $y(y,m,t,i,n);if(null!=d){let e,c;if(o?(x.clipStart(Hy(y,m,t,i,n,d.endAngle)),x.clipEnd(Hy(y,m,t,i,n,d.startAngle))):(x.clipStart(Hy(y,m,t,i,n,d.startAngle)),x.clipEnd(Hy(y,m,t,i,n,d.endAngle))),r?(e=Ky(y,m,t,i,n,d.innerRadius),c=Ky(y,m,t,i,n,d.outerRadius)):(e=Ky(y,m,t,i,n,d.outerRadius),c=Ky(y,m,t,i,n,d.innerRadius)),x.clipStart(e),x.clipEnd(c),null!=e){const{x:t,y:i}=x.pointAt(e),n=Wy(Math.atan2(i,t),l);r?s?.clipStart(n):a.clipEnd(n)}if(null!=c){const{x:t,y:e}=x.pointAt(c),i=Wy(Math.atan2(e,t),l);r?a.clipStart(i):s?.clipEnd(i)}}if(null!=d){const{x:t,y:e}=x.pointAt((x.a0+x.a1)/2);if(!_y(t,e,d))return}const{x:b,y:v}=x.pointAt(r===o?x.a0:x.a1),M=Wy(Math.atan2(v,b),l),S=o?s:a;return r?S?.clipStart(M):S?.clipEnd(M),x}updatePath(){const t=1e-6,{path:e,centerX:i,centerY:n,concentricEdgeInset:a,radialEdgeInset:s}=this;let{startOuterCornerRadius:r,endOuterCornerRadius:o,startInnerCornerRadius:l,endInnerCornerRadius:c}=this;const{startAngle:u,endAngle:h}=Zy(this.startAngle,this.endAngle),{innerRadius:d,outerRadius:p}=this.normalizedRadii(),g=this.normalizedClipSector(),f=h-u,y=f>=2*Math.PI-t;if(e.clear(),0===d&&0===p||d>p)return;if((g?.startAngle??u)===(g?.endAngle??h))return;if(y&&null==this.clipSector&&0===r&&0===o&&0===l&&0===c)return e.moveTo(i+p*Math.cos(u),n+p*Math.sin(u)),e.arc(i,n,p,u,h),d>a&&(e.moveTo(i+d*Math.cos(h),n+d*Math.sin(h)),e.arc(i,n,d,h,u,!0)),void e.closePath();if(null==this.clipSector&&Math.abs(d-p)<1e-6)return e.arc(i,n,p,u,h,!1),e.arc(i,n,p,h,u,!0),void e.closePath();const m=this.getAngleOffset(d),x=this.getAngleOffset(p);if(f<2*x)return;const b=(g?.innerRadius??d)>a,v=d<a||f<2*m,M=p-d,S=Math.max(r,l,o,c),I=S>0?Math.min(M/S,1):1;r*=I,o*=I,l*=I,c*=I;const D=Vy(p,f-2*x,-r,-o);if(r*=D,o*=D,!v&&b){const t=Vy(d,f-2*m,l,c);l*=t,c*=t}else l=0,c=0;const w=Math.max(r+l,o+c),N=w>0?Math.min(M/w,1):1;r*=N,o*=N,l*=N,c*=N;let L=0,k=0;const A=r/(p-r),C=o/(p-o);if(A>=0&&A<.999999)L=Math.asin(A);else{L=f/2;const t=p/(1/Math.sin(L)+1);r=Math.min(t,r)}if(C>=0&&C<.999999)k=Math.asin(C);else{k=f/2;const t=p/(1/Math.sin(k)+1);o=Math.min(t,o)}const T=Math.asin(l/(d+l)),E=Math.asin(c/(d+c)),R=g?.outerRadius??p,O=this.getAngleOffset(R),z=new $y(0,0,R,u+O,h-O),j=g?.innerRadius??d,P=this.getAngleOffset(j),B=b?new $y(0,0,j,u+P,h-P):void 0;null!=g&&(z.clipStart(g.startAngle),z.clipEnd(g.endAngle),B?.clipStart(g.startAngle),B?.clipEnd(g.endAngle));const F=this.arc(r,L,u-.5*Math.PI,u+L,z,B,!0,!1),G=this.arc(o,k,h-k,h+.5*Math.PI,z,B,!1,!1),_=this.arc(c,E,h+.5*Math.PI,h+Math.PI-E,z,B,!1,!0),U=this.arc(l,T,u+Math.PI+T,u+1.5*Math.PI,z,B,!0,!0);if(v){const t=f<.5*Math.PI?s*(1+Math.cos(f))/Math.sin(f):NaN;let a;a=t>0&&t<p?Math.max(Math.hypot(s,t),d):s,a=Math.max(a,d);const r=u+.5*f;e.moveTo(i+a*Math.cos(r),n+a*Math.sin(r))}else if(!0===U?.isValid()||!0===B?.isValid());else{const t=u+f/2,a=d*Math.cos(t),s=d*Math.sin(t);e.moveTo(i+a,n+s)}if(!0===F?.isValid()){const{cx:t,cy:a,r:s,a0:r,a1:o}=F;e.arc(i+t,n+a,s,r,o)}if(z.isValid()){const{r:t,a0:a,a1:s}=z;e.arc(i,n,t,a,s)}if(!0===G?.isValid()){const{cx:t,cy:a,r:s,a0:r,a1:o}=G;e.arc(i+t,n+a,s,r,o)}if(!v){if(!0===_?.isValid()){const{cx:t,cy:a,r:s,a0:r,a1:o}=_;e.arc(i+t,n+a,s,r,o)}if(!0===B?.isValid()){const{r:t,a0:a,a1:s}=B;e.arc(i,n,t,s,a,!0)}if(!0===U?.isValid()){const{cx:t,cy:a,r:s,a0:r,a1:o}=U;e.arc(i+t,n+a,s,r,o)}}e.closePath()}isPointInPath(t,e){const{startAngle:i,endAngle:n,innerRadius:a,outerRadius:s}=this.clipSector??this;return _y(t-this.centerX,e-this.centerY,{startAngle:i,endAngle:n,innerRadius:Math.min(a,s),outerRadius:Math.max(a,s)})}};Qy.className="Sector",R([Fl()],Qy.prototype,"centerX",2),R([Fl()],Qy.prototype,"centerY",2),R([Fl()],Qy.prototype,"innerRadius",2),R([Fl()],Qy.prototype,"outerRadius",2),R([Fl()],Qy.prototype,"startAngle",2),R([Fl()],Qy.prototype,"endAngle",2),R([Fl()],Qy.prototype,"clipSector",2),R([Fl()],Qy.prototype,"concentricEdgeInset",2),R([Fl()],Qy.prototype,"radialEdgeInset",2),R([Fl()],Qy.prototype,"startOuterCornerRadius",2),R([Fl()],Qy.prototype,"endOuterCornerRadius",2),R([Fl()],Qy.prototype,"startInnerCornerRadius",2),R([Fl()],Qy.prototype,"endInnerCornerRadius",2);var Xy={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},Jy={BLUE:"#2b5c95",ORANGE:"#cc6f10",GREEN:"#1e652e",CYAN:"#18859e",YELLOW:"#a69400",VIOLET:"#603c88",GRAY:"#575757",MAGENTA:"#7d2f6d",BROWN:"#4f3508",RED:"#a82529"},qy=class extends xr{constructor(){super(...arguments),this.showInLegend=!1}};R([Ji(sn)],qy.prototype,"showInLegend",2);var tm=class extends Ir{constructor(){super(...arguments),this.spacing=2}set(t,e){return super.set(t)}};R([Ji(on)],tm.prototype,"text",2),R([Ji(ln)],tm.prototype,"spacing",2);var em=class extends $i{constructor(){super(...arguments),this.fill="transparent",this.fillOpacity=1}};R([Ji(In)],em.prototype,"fill",2),R([Ji(dn)],em.prototype,"fillOpacity",2);var im=class extends Ir{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};R([Ji(hn)],im.prototype,"offset",2),R([Ji(pn)],im.prototype,"minAngle",2),R([Ji(hn)],im.prototype,"minSpacing",2),R([Ji(hn)],im.prototype,"maxCollisionOffset",2),R([Ji(sn)],im.prototype,"avoidCollisions",2);var nm=class extends Ir{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};R([Ji(ln)],nm.prototype,"positionOffset",2),R([Ji(dn)],nm.prototype,"positionRatio",2);var am=class extends $i{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};R([Ji(Dn,{optional:!0})],am.prototype,"colors",2),R([Ji(hn)],am.prototype,"length",2),R([Ji(hn)],am.prototype,"strokeWidth",2);var sm=class extends Gh{constructor(){super(...arguments),this.fills=Object.values(Xy),this.strokes=Object.values(Jy),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=0,this.innerLabels=new Qi(tm),this.title=new qy,this.innerCircle=new em,this.shadow=new Cg,this.calloutLabel=new im,this.sectorLabel=new nm,this.calloutLine=new am,this.tooltip=new Og}isValid(){const t=super.isValid();return null==this.innerRadiusRatio&&null==this.innerRadiusOffset?(_.warnOnce("Either an [innerRadiusRatio] or an [innerRadiusOffset] must be set to render a donut series."),!1):t}};function rm(t,e,i,n){const a=[i.convert(0),i.convert(1)],s=[n.convert(0),n.convert(1)],r=Math.PI/-2+os(e),o=t?"initial":"update";return{nodes:{toFn:(t,e,i,n)=>{let{prevLive:s}=n,{startAngle:o,endAngle:l,innerRadius:c,outerRadius:u}=e;const{stroke:h,fill:d}=e.sectorFormat;if("removed"===i&&s?(o=s.datum?.endAngle,l=s.datum?.endAngle):"removed"!==i||s||(o=r,l=r),"removed"===i){const t=(t=>{let{radius:e}=t;return{innerRadius:a[0],outerRadius:a[0]+(a[1]-a[0])*e}})(e);c=t.innerRadius,u=t.outerRadius}return{startAngle:o,endAngle:l,outerRadius:u,innerRadius:c,stroke:h,fill:d}},fromFn:(e,i,n,a)=>{let{prevFromProps:l}=a,{startAngle:c,endAngle:u,innerRadius:h,outerRadius:d}=e,{fill:p,stroke:g}=i.sectorFormat;if("unknown"===n||"added"===n&&!l?(c=r,u=r,h=i.innerRadius,d=i.outerRadius):"added"===n&&l&&(c=l.endAngle??r,u=l.endAngle??r,h=l.innerRadius??i.innerRadius,d=l.outerRadius??i.outerRadius),"added"===n&&!t){const t=(t=>{let{radius:e}=t;return{innerRadius:s[0],outerRadius:s[0]+(s[1]-s[0])*e}})(i);h=t.innerRadius,d=t.outerRadius}return"updated"===n&&(p=e.fill??p,g=e.stroke??g),{startAngle:c,endAngle:u,innerRadius:h,outerRadius:d,fill:p,stroke:g,phase:o}}},innerCircle:{fromFn:(t,e)=>({size:t.previousDatum?.radius??t.size??0,phase:o}),toFn:(t,e)=>({size:e.radius??0})}}}function om(t,e){return{startAngle:e.startAngle,endAngle:e.endAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,fill:e.sectorFormat.fill,stroke:e.sectorFormat.stroke}}function lm(t,e){const i=e.y-t.centerY,n=e.x-t.centerX,a=Math.atan2(i,n),s=t.getItemNodes();for(const r of s)if(!0!==r.datum.missing&&rs(a,r.startAngle,r.endAngle)){const t=Math.sqrt(n*n+i*i);let e=0;return t<r.innerRadius?e=r.innerRadius-t:t>r.outerRadius&&(e=t-r.outerRadius),{datum:r.datum,distance:e}}}R([Ji(on)],sm.prototype,"angleKey",2),R([Ji(on,{optional:!0})],sm.prototype,"angleName",2),R([Ji(on,{optional:!0})],sm.prototype,"angleFilterKey",2),R([Ji(on,{optional:!0})],sm.prototype,"radiusKey",2),R([Ji(on,{optional:!0})],sm.prototype,"radiusName",2),R([Ji(hn,{optional:!0})],sm.prototype,"radiusMin",2),R([Ji(hn,{optional:!0})],sm.prototype,"radiusMax",2),R([Ji(on,{optional:!0})],sm.prototype,"calloutLabelKey",2),R([Ji(on,{optional:!0})],sm.prototype,"calloutLabelName",2),R([Ji(on,{optional:!0})],sm.prototype,"sectorLabelKey",2),R([Ji(on,{optional:!0})],sm.prototype,"sectorLabelName",2),R([Ji(on,{optional:!0})],sm.prototype,"legendItemKey",2),R([Ji(Dn)],sm.prototype,"fills",2),R([Ji(Dn)],sm.prototype,"strokes",2),R([Ji(dn)],sm.prototype,"fillOpacity",2),R([Ji(dn)],sm.prototype,"strokeOpacity",2),R([Ji(Rn)],sm.prototype,"lineDash",2),R([Ji(hn)],sm.prototype,"lineDashOffset",2),R([Ji(hn)],sm.prototype,"cornerRadius",2),R([Ji(rn,{optional:!0})],sm.prototype,"itemStyler",2),R([Ji(pn)],sm.prototype,"rotation",2),R([Ji(ln)],sm.prototype,"outerRadiusOffset",2),R([Ji(dn)],sm.prototype,"outerRadiusRatio",2),R([Ji(ln,{optional:!0})],sm.prototype,"innerRadiusOffset",2),R([Ji(dn,{optional:!0})],sm.prototype,"innerRadiusRatio",2),R([Ji(hn)],sm.prototype,"strokeWidth",2),R([Ji(ln)],sm.prototype,"sectorSpacing",2),R([Ji(An)],sm.prototype,"innerLabels",2),R([Ji(nn)],sm.prototype,"title",2),R([Ji(nn)],sm.prototype,"innerCircle",2),R([Ji(nn)],sm.prototype,"shadow",2),R([Ji(nn)],sm.prototype,"calloutLabel",2),R([Ji(nn)],sm.prototype,"sectorLabel",2),R([Ji(nn)],sm.prototype,"calloutLine",2),R([Ji(nn)],sm.prototype,"tooltip",2);var cm=class extends Oh{constructor(t){let{useLabelLayer:e=!1,pickModes:i=[1,0],canHaveAxes:n=!1,animationResetFns:a,...s}=t;super({...s,useLabelLayer:e,pickModes:i,contentGroupVirtual:!1,directionKeys:{x:["angleKey"],y:["radiusKey"]},directionNames:{x:["angleName"],y:["radiusName"]},canHaveAxes:n}),this.itemGroup=this.contentGroup.appendChild(new Ka),this.nodeData=[],this.itemSelection=es.select(this.itemGroup,(()=>this.nodeFactory()),!1),this.labelSelection=es.select(this.labelGroup,(()=>this.labelFactory()),!1),this.highlightSelection=es.select(this.highlightGroup,(()=>this.nodeFactory())),this.highlightLabelSelection=es.select(this.highlightLabel,(()=>this.labelFactory())),this.centerX=0,this.centerY=0,this.radius=0,this.itemGroup.zIndexSubOrder=[()=>this._declarationOrder,1],this.animationResetFns=a,this.animationState=new nr("empty",{empty:{update:{target:"ready",action:t=>this.animateEmptyUpdateReady(t)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:t=>this.animateReadyHighlight(t),highlightMarkers:t=>this.animateReadyHighlightMarkers(t),resize:t=>this.animateReadyResize(t),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:t=>this.animateWaitingUpdateReady(t)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:t=>this.animateClearingUpdateEmpty(t)},reset:"empty",skip:"ready"}},(()=>this.checkProcessedDataAnimatable()))}getItemNodes(){return[...this.itemGroup.children()]}getNodeData(){return this.nodeData}resetAnimation(t){"initial"===t?this.animationState.transition("reset"):"ready"===t&&this.animationState.transition("skip")}labelFactory(){const t=new Rs;return t.pointerEvents=1,t}getInnerRadius(){return 0}getLabelData(){return[]}computeLabelsBBox(t,e){return null}resetAllAnimation(){const{item:t,label:e}=this.animationResetFns??{};this.ctx.animationManager.stopByAnimationGroupId(this.id),t&&ea([this.itemSelection,this.highlightSelection],t),e&&ea([this.labelSelection,this.highlightLabelSelection],e),this.itemSelection.cleanup(),this.labelSelection.cleanup(),this.highlightSelection.cleanup(),this.highlightLabelSelection.cleanup()}animateEmptyUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateWaitingUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateReadyHighlight(t){const{item:e,label:i}=this.animationResetFns??{};e&&ea([this.highlightSelection],e),i&&ea([this.highlightLabelSelection],i)}animateReadyHighlightMarkers(t){}animateReadyResize(t){this.resetAllAnimation()}animateClearingUpdateEmpty(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animationTransitionClear(){this.animationState.transition("clear",this.getAnimationData())}getAnimationData(t){return{seriesRect:t}}computeFocusBounds(t){const e=this.getNodeData()?.[t.datumIndex];if(void 0!==e)return this.itemSelection.select((t=>t instanceof Gl&&t.datum===e))[0]}},um=class extends Ku{constructor(t,e,i,n){super(t,e,i,n),this.angleKey=n.properties.angleKey,this.radiusKey=n.properties.radiusKey,this.calloutLabelKey=n.properties.calloutLabelKey,this.sectorLabelKey=n.properties.sectorLabelKey}},hm=class extends cm{constructor(t){super({moduleCtx:t,pickModes:[1,0],useLabelLayer:!0,animationResetFns:{item:om,label:kg}}),this.properties=new sm,this.phantomNodeData=void 0,this.previousRadiusScale=new Jh,this.radiusScale=new Jh,this.phantomGroup=this.contentGroup.appendChild(new Ka),this.phantomSelection=es.select(this.phantomGroup,(()=>this.nodeFactory()),!1),this.calloutLabelGroup=this.contentGroup.appendChild(new Ka({name:"pieCalloutLabels"})),this.calloutLabelSelection=new es(this.calloutLabelGroup,Ka),this.backgroundGroup=this.rootGroup.appendChild(new Mr({name:`${this.id}-background`,zIndex:0})),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new Ka({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new mh),this.zerosumInnerRing=this.zerosumRingsGroup.appendChild(new mh),this.innerLabelsGroup=this.contentGroup.appendChild(new Ka({name:"innerLabels"})),this.innerCircleGroup=this.backgroundGroup.appendChild(new Ka({name:`${this.id}-innerCircle`})),this.innerLabelsSelection=es.select(this.innerLabelsGroup,Rs),this.innerCircleSelection=es.select(this.innerCircleGroup,mh),this.seriesItemEnabled=[],this.legendItemEnabled=[],this.surroundingRadius=void 0,this.NodeEvent=um,this.angleScale=new Jh,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map((t=>t+Math.PI/2)),this.phantomGroup.opacity=.2,this.phantomGroup.zIndexSubOrder=[()=>this._declarationOrder,0]}get calloutNodeData(){return this.phantomNodeData??this.nodeData}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager?.addListener("legend-item-click",(t=>this.onLegendItemClick(t))))}get visible(){return super.visible&&(0===this.seriesItemEnabled.length||this.seriesItemEnabled.includes(!0))}nodeFactory(){return new Qy}getSeriesDomain(t){return"x"===t?this.angleScale.domain:this.radiusScale.domain}async processData(t){if(null==this.data||!this.properties.isValid())return;let{data:e}=this;const{visible:i,seriesItemEnabled:n}=this,{angleKey:a,angleFilterKey:s,radiusKey:r,calloutLabelKey:o,sectorLabelKey:l,legendItemKey:c}=this.properties,u=!this.ctx.animationManager.isSkipped(),h=[],d=[];c?h.push(ag(c,"band",{id:"legendItemKey"})):o?h.push(ag(o,"band",{id:"calloutLabelKey"})):l&&h.push(ag(l,"band",{id:"sectorLabelKey"}));const p=this.radiusScale.type,g=this.radiusScale.type;r&&d.push(rg(r,{id:"radiusValue",min:this.properties.radiusMin??0,max:this.properties.radiusMax}),sg(r,p,{id:"radiusRaw"}),mg("radiusValue",[0,1],1,this.properties.radiusMin??0,this.properties.radiusMax)),o&&d.push(sg(o,"band",{id:"calloutLabelValue"})),l&&d.push(sg(l,"band",{id:"sectorLabelValue"})),c&&d.push(sg(c,"band",{id:"legendItemValue"})),s&&d.push(og(s,g,{id:"angleFilterValue",onlyPositive:!0}),sg(s,g,{id:"angleFilterRaw"}),mg("angleFilterValue",[0,1],0,0)),u&&this.processedData&&h.length>0&&d.push(Dg(this.processedData)),d.push(xg()),e=e.map(((t,e)=>i&&n[e]?t:{...t,[a]:0})),await this.requestDataModel(t,e,{props:[...h,og(a,g,{id:"angleValue",onlyPositive:!0}),sg(a,g,{id:"angleRaw"}),mg("angleValue",[0,1],0,0),...d]});for(const f of this.processedData?.defs?.values??[]){const{id:t,missing:e,property:i}=f,n=hu(this,e);"angleRaw"!==t&&n>0&&_.warnOnce(`no value was found for the key '${String(i)}' on ${n} data element${n>1?"s":""}`)}this.animationState.transition("updateData")}async maybeRefreshNodeData(){if(!this.nodeDataRefresh)return;const{nodeData:t=[],phantomNodeData:e}=await this.createNodeData()??{};this.nodeData=t,this.phantomNodeData=e,this.nodeDataRefresh=!1}getProcessedDataIndexes(t){return{angleIdx:t.resolveProcessedDataIndexById(this,"angleValue"),angleRawIdx:t.resolveProcessedDataIndexById(this,"angleRaw"),angleFilterIdx:null!=this.properties.angleFilterKey?t.resolveProcessedDataIndexById(this,"angleFilterValue"):void 0,angleFilterRawIdx:null!=this.properties.angleFilterKey?t.resolveProcessedDataIndexById(this,"angleFilterRaw"):void 0,radiusIdx:this.properties.radiusKey?t.resolveProcessedDataIndexById(this,"radiusValue"):void 0,radiusRawIdx:this.properties.radiusKey?t.resolveProcessedDataIndexById(this,"radiusRaw"):void 0,calloutLabelIdx:this.properties.calloutLabelKey?t.resolveProcessedDataIndexById(this,"calloutLabelValue"):void 0,sectorLabelIdx:this.properties.sectorLabelKey?t.resolveProcessedDataIndexById(this,"sectorLabelValue"):void 0,legendItemIdx:this.properties.legendItemKey?t.resolveProcessedDataIndexById(this,"legendItemValue"):void 0}}async createNodeData(){const{id:t,processedData:e,dataModel:i,angleScale:n}=this,{rotation:a,innerRadiusRatio:s}=this.properties;if(!this.properties.isValid())return this.zerosumOuterRing.visible=!0,this.zerosumInnerRing.visible=!0,{itemId:t,nodeData:[],labelData:[]};if(!e||!i||"ungrouped"!==e.type)return;const{angleIdx:r,angleRawIdx:o,angleFilterIdx:l,angleFilterRawIdx:c,radiusIdx:u,radiusRawIdx:h,calloutLabelIdx:d,sectorLabelIdx:p,legendItemIdx:g}=this.getProcessedDataIndexes(i),f=null!=c&&e.data.some((t=>{let{values:e}=t;return e[c]>e[o]}));let y=0,m=0;const x=[],b=null!=c?[]:void 0;return e.data.forEach(((t,e)=>{const{datum:i,values:s}=t,v=f?s[l]:s[r],M=null==c||f?1:Math.sqrt(s[c]/s[o]),S=n.convert(y)+os(a);y=v,m+=v;const I=n.convert(y)+os(a),D=Math.abs(I-S),w=S+D/2,N=s[o],L=(null!=u?s[u]??1:1)*M,k=null!=h?s[h]:void 0,A=null!=g?s[g]:void 0,C=this.getLabels(i,w,D,!0,null!=d?s[d]:void 0,null!=p?s[p]:void 0,A),T=this.getSectorFormat(i,e,!1),E={itemId:e,series:this,datum:i,index:e,angleValue:N,midAngle:w,midCos:Math.cos(w),midSin:Math.sin(w),startAngle:S,endAngle:I,radius:L,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(L),0),sectorFormat:T,radiusValue:k,legendItemValue:A,enabled:this.seriesItemEnabled[e],focusable:!0,...C};x.push(E),null!=b&&b.push({...E,radius:1,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(1),0),focusable:!1})})),this.zerosumOuterRing.visible=0===m,this.zerosumInnerRing.visible=0===m&&null!=s&&1!==s&&s>0,{itemId:t,nodeData:x,labelData:x,phantomNodeData:b}}getLabels(t,e,i,n,a,s,r){const{calloutLabel:o,sectorLabel:l,legendItemKey:c}=this.properties,u=!n||o.enabled?this.properties.calloutLabelKey:void 0,h=!n||l.enabled?this.properties.sectorLabelKey:void 0;if(!u&&!h&&!c)return{};const d={datum:t,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},p={};return u&&i>os(o.minAngle)&&(p.calloutLabel={...this.getTextAlignment(e),text:this.getLabelText(o,{...d,value:a}),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0}),h&&(p.sectorLabel={text:this.getLabelText(l,{...d,value:s})}),null!=c&&null!=r&&(p.legendItem={key:c,text:r}),p}getTextAlignment(t){const e=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],i=ss(t)- -.75*Math.PI;return e[se(Math.floor(i/(Math.PI/2)),e.length)]}getSectorFormat(t,e,i){const{callbackCache:n}=this.ctx,{angleKey:a,radiusKey:s,calloutLabelKey:r,sectorLabelKey:o,legendItemKey:l,fills:c,strokes:u,itemStyler:h}=this.properties,d=u[e%u.length],{fill:p,fillOpacity:g,stroke:f,strokeWidth:y,strokeOpacity:m,lineDash:x,lineDashOffset:b,cornerRadius:v}=Xe(i&&this.properties.highlightStyle.item,{fill:c.length>0?c[e%c.length]:void 0,stroke:d,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()},this.properties);let M;return h&&(M=n.call(h,{datum:t,angleKey:a,radiusKey:s,calloutLabelKey:r,sectorLabelKey:o,legendItemKey:l,fill:p,fillOpacity:g,stroke:f,strokeWidth:y,strokeOpacity:m,lineDash:x,lineDashOffset:b,cornerRadius:v,highlighted:i,seriesId:this.id})),{fill:M?.fill??p,fillOpacity:M?.fillOpacity??g,stroke:M?.stroke??f,strokeWidth:M?.strokeWidth??y,strokeOpacity:M?.strokeOpacity??m,lineDash:M?.lineDash??x,lineDashOffset:M?.lineDashOffset??b,cornerRadius:M?.cornerRadius??v}}getInnerRadius(){const{radius:t}=this,{innerRadiusRatio:e=1,innerRadiusOffset:i=0}=this.properties,n=t*e+i;return n===t||n<0?0:n}getOuterRadius(){const{outerRadiusRatio:t,outerRadiusOffset:e}=this.properties;return Math.max(this.radius*t+e,0)}updateRadiusScale(t){const e=[this.getInnerRadius(),this.getOuterRadius()];this.radiusScale.range=e,t&&(this.previousRadiusScale.range=e);const i=t=>({...t,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(t.radius),0)});this.nodeData=this.nodeData.map(i),this.phantomNodeData=this.phantomNodeData?.map(i)}getTitleTranslationY(){const t=Math.max(0,this.radiusScale.range[1]);if(0===t)return NaN;return-t-(2+(this.properties.title?.spacing??0))-Math.max(0,-t)}async update(t){let{seriesRect:e}=t;const{title:i}=this.properties,n={seriesRectWidth:e?.width,seriesRectHeight:e?.height},a=null!=Us(this.nodeDataDependencies,n);if(a&&(this._nodeDataDependencies=n),await this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(a),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),i){const t=this.getTitleTranslationY();i.node.y=isFinite(t)?t:0;const e=i.node.getBBox();i.node.visible=i.enabled&&isFinite(t)&&!this.bboxIntersectsSurroundingSeries(e)}for(const s of[this.zerosumInnerRing,this.zerosumOuterRing])s.fillOpacity=0,s.stroke=this.properties.calloutLabel.color,s.strokeWidth=1,s.strokeOpacity=1;this.updateNodeMidPoint(),await this.updateSelections(),await this.updateNodes(e)}updateTitleNodes(){const{oldTitle:t}=this,{title:e}=this.properties;t!==e&&(t&&this.labelGroup?.removeChild(t.node),e&&(e.node.textBaseline="bottom",this.labelGroup?.appendChild(e.node)),this.oldTitle=e)}updateNodeMidPoint(){const t=t=>{const e=t.innerRadius+(t.outerRadius-t.innerRadius)/2;t.midPoint={x:t.midCos*Math.max(0,e),y:t.midSin*Math.max(0,e)}};this.nodeData.forEach(t),this.phantomNodeData?.forEach(t)}async updateSelections(){await this.updateGroupSelection(),this.updateInnerCircleSelection()}async updateGroupSelection(){const{itemSelection:t,highlightSelection:e,phantomSelection:i,highlightLabelSelection:n,calloutLabelSelection:a,labelSelection:s,innerLabelsSelection:r}=this,o=this.nodeData.map((t=>({...t,sectorFormat:{...t.sectorFormat}}))),l=(t,e)=>{t.update(e,void 0,(t=>this.getDatumId(t))),this.ctx.animationManager.isSkipped()&&t.cleanup()};l(t,this.nodeData),l(e,o),l(i,this.phantomNodeData??[]),a.update(this.calloutNodeData,(t=>{const e=new Ns;e.tag=0,e.pointerEvents=1,t.appendChild(e);const i=new Rs;i.tag=1,i.pointerEvents=1,t.appendChild(i)})),s.update(this.nodeData),n.update(o),r.update(this.properties.innerLabels,(t=>{t.pointerEvents=1}))}updateInnerCircleSelection(){const{innerCircle:t}=this.properties;let e=0;const i=this.getInnerRadius();if(i>0){const t=Math.min(i,this.getOuterRadius()),n=1;e=Math.ceil(2*t+n)}const n=t?[{radius:e}]:[];this.innerCircleSelection.update(n)}async updateNodes(t){const e=this.ctx.highlightManager.getActiveHighlight(),i=this.visible&&this.seriesItemEnabled.includes(!0);this.rootGroup.visible=i,this.backgroundGroup.visible=i,this.contentGroup.visible=i,this.highlightGroup.visible=i&&e?.series===this,this.highlightLabel.visible=i&&e?.series===this,this.labelGroup.visible=i,this.contentGroup.opacity=this.getOpacity(),this.innerCircleSelection.each(((t,e)=>{let{radius:i}=e;t.setProperties({fill:this.properties.innerCircle?.fill,opacity:this.properties.innerCircle?.fillOpacity,size:i})}));const n=this.ctx.animationManager.isSkipped(),a=(t,e,i,a)=>{const s=this.getSectorFormat(e.datum,e.itemId,a);e.sectorFormat.fill=s.fill,e.sectorFormat.stroke=s.stroke,n&&(t.startAngle=e.startAngle,t.endAngle=e.endAngle,t.innerRadius=e.innerRadius,t.outerRadius=e.outerRadius),(a||n)&&(t.fill=s.fill,t.stroke=s.stroke),t.strokeWidth=s.strokeWidth,t.fillOpacity=s.fillOpacity,t.strokeOpacity=s.strokeOpacity,t.lineDash=s.lineDash,t.lineDashOffset=s.lineDashOffset,t.cornerRadius=s.cornerRadius,t.fillShadow=this.properties.shadow;const r=Math.max((this.properties.sectorSpacing+(null!=s.stroke?s.strokeWidth:0))/2,0);t.inset=r,t.lineJoin=this.properties.sectorSpacing>=0||r>0?"miter":"round"};this.itemSelection.each(((t,e,i)=>a(t,e,0,!1))),this.highlightSelection.each(((t,i,n)=>{a(t,i,0,!0),t.visible=i.itemId===e?.itemId})),this.phantomSelection.each(((t,e,i)=>a(t,e,0,!1))),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(t),this.updateSectorLabelNodes(),this.updateInnerLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")}updateCalloutLineNodes(){const{calloutLine:t}=this.properties,e=t.length,i=t.strokeWidth,n=t.colors??this.properties.strokes,{offset:a}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(0).forEach(((t,s)=>{const r=t.datum,{calloutLabel:o,outerRadius:l}=r;if(o?.text&&!o.hidden&&0!==l){t.visible=!0,t.strokeWidth=i,t.stroke=n[s%n.length],t.fill=void 0;const c=r.midCos*l,u=r.midSin*l;let h=r.midCos*(l+e),d=r.midSin*(l+e);if((o.collisionTextAlign??0!==o.collisionOffsetY)&&null!=o.box){const t=o.box;let e=h,i=d;h<t.x?e=t.x:h>t.x+t.width&&(e=t.x+t.width),d<t.y?i=t.y:d>t.y+t.height&&(i=t.y+t.height);const n=e-h,s=i-d,r=Math.sqrt(Math.pow(n,2)+Math.pow(s,2)),l=r-a;l>0&&(h+=n*l/r,d+=s*l/r)}t.x1=c,t.y1=u,t.x2=h,t.y2=d}else t.visible=!1}))}getLabelOverflow(t,e,i){const n=i.x-this.centerX,a=i.x+i.width-this.centerX,s=i.y-this.centerY,r=i.y+i.height-this.centerY;let o=1;e.x+1<n?o=(e.x+e.width-n)/e.width:e.x+e.width-1>a&&(o=(a-e.x)/e.width);const l=e.y+1<s||e.y+e.height-1>r;return{textLength:1===o?t.length:Math.floor(t.length*o)-1,hasVerticalOverflow:l,hasSurroundingSeriesOverflow:this.bboxIntersectsSurroundingSeries(e)}}bboxIntersectsSurroundingSeries(t){const{surroundingRadius:e}=this;if(null==e)return!1;const i=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],n=e**2;return i.some((t=>t.x**2+t.y**2>n))}computeCalloutLabelCollisionOffsets(){const{radiusScale:t}=this,{calloutLabel:e,calloutLine:i}=this.properties,{offset:n,minSpacing:a}=e,s=t.convert(0),r=this.calloutNodeData,o=r.filter((t=>{return!(!(e=t).calloutLabel||0===e.outerRadius);var e}));if(o.forEach((t=>{const e=t.calloutLabel;null!=e&&(e.hidden=!1,e.collisionTextAlign=void 0,e.collisionOffsetY=0)})),o.length<=1)return;const l=o.filter((t=>t.midCos<0)).sort(((t,e)=>t.midSin-e.midSin)),c=o.filter((t=>t.midCos>=0)).sort(((t,e)=>t.midSin-e.midSin)),u=o.filter((t=>t.midSin<0&&"center"===t.calloutLabel?.textAlign)).sort(((t,e)=>t.midCos-e.midCos)),h=o.filter((t=>t.midSin>=0&&"center"===t.calloutLabel?.textAlign)).sort(((t,e)=>t.midCos-e.midCos)),d=t=>{const e=t.calloutLabel;if(null==e)return ue.zero.clone();const a=t.outerRadius+i.length+n,s=t.midCos*a,r=t.midSin*a+e.collisionOffsetY,o=e.collisionTextAlign??e.textAlign,l=e.textBaseline;return Rs.computeBBox(e.text,s,r,{font:this.properties.calloutLabel,textAlign:o,textBaseline:l})},p=(t,e,i)=>{const n=d(t).grow(a/2),s=d(e).grow(a/2);if(n.x<s.x+s.width&&n.x+n.width>s.x&&("to-top"===i?n.y<s.y+s.height:n.y+n.height>s.y)){const t="to-top"===i?n.y-s.y-s.height:n.y+n.height-s.y;e.calloutLabel.collisionOffsetY=t}},g=t=>{const e=t.slice().sort(((t,e)=>Math.abs(t.midSin)-Math.abs(e.midSin)))[0],i=t.indexOf(e);for(let n=i-1;n>=0;n--){const e=t[n+1],i=t[n];p(e,i,"to-top")}for(let n=i+1;n<t.length;n++){const e=t[n-1],i=t[n];p(e,i,"to-bottom")}},f=t=>{const e=o.some((t=>0!==t.calloutLabel.collisionOffsetY)),i=t.map((t=>d(t))),n=i.map((t=>t.clone().grow(a/2)));let l=!1;for(let a=0;a<n.length&&!l;a++){const e=n[a];for(let i=a+1;i<t.length;i++){const t=n[i];if(e.collidesBBox(t)){l=!0;break}}}const c=r.map((t=>{const{startAngle:e,endAngle:i,outerRadius:n}=t;return{startAngle:e,endAngle:i,innerRadius:s,outerRadius:n}})),u=i.some((t=>c.some((e=>Yy(t,e)))));(l||e||u)&&t.filter((t=>"center"===t.calloutLabel.textAlign)).forEach((t=>{const e=t.calloutLabel;t.midCos<0?e.collisionTextAlign="right":t.midCos>0?e.collisionTextAlign="left":e.collisionTextAlign="center"}))};g(l),g(c),f(u),f(h)}updateCalloutLabelNodes(t){const{radiusScale:e}=this,{calloutLabel:i,calloutLine:n}=this.properties,a=n.length,{offset:s,color:r}=i,o=new Rs;this.calloutLabelSelection.selectByTag(1).forEach((n=>{const{datum:l}=n,c=l.calloutLabel,u=e.convert(l.radius),h=Math.max(0,u);if(!c?.text||0===h||c.hidden)return void(n.visible=!1);const d=h+a+s,p=l.midCos*d,g=l.midSin*d+c.collisionOffsetY,f={textAlign:c.collisionTextAlign??c.textAlign,textBaseline:c.textBaseline};o.text=c.text,o.x=p,o.y=g,o.setFont(this.properties.calloutLabel),o.setAlign(f);const y=o.getBBox();let m=c.text,x=!0;if(i.avoidCollisions){const{textLength:e,hasVerticalOverflow:i}=this.getLabelOverflow(c.text,y,t);m=c.text.length===e?c.text:`${c.text.substring(0,e)}\u2026`,x=!i}n.text=m,n.x=p,n.y=g,n.setFont(this.properties.calloutLabel),n.setAlign(f),n.fill=r,n.visible=x}))}async computeLabelsBBox(t,e){const{calloutLabel:i,calloutLine:n}=this.properties,a=n.length,{offset:s,maxCollisionOffset:r,minSpacing:o}=i;if(!i.avoidCollisions)return null;await this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();const l=[],c=new Rs;let u;const{title:h}=this.properties;if(h?.text&&h.enabled){const t=this.getTitleTranslationY();isFinite(t)&&(c.text=h.text,c.x=0,c.y=t,c.setFont(h),c.setAlign({textBaseline:"bottom",textAlign:"center"}),u=c.getBBox(),l.push(u))}return this.calloutNodeData.forEach((i=>{const n=i.calloutLabel;if(!n||0===i.outerRadius)return null;const h=i.outerRadius+a+s,d=i.midCos*h,p=i.midSin*h+n.collisionOffsetY;c.text=n.text,c.x=d,c.y=p,c.setFont(this.properties.calloutLabel),c.setAlign({textAlign:n.collisionTextAlign??n.textAlign,textBaseline:n.textBaseline});const g=c.getBBox();if(n.box=g,Math.abs(n.collisionOffsetY)>r)n.hidden=!0;else{if(u){const t=e.y-this.centerY,i=new ue(u.x-o,t,u.width+2*o,u.y+u.height+o-t);if(g.collidesBBox(i))return void(n.hidden=!0)}if(t.hideWhenNecessary){const{textLength:t,hasVerticalOverflow:i,hasSurroundingSeriesOverflow:a}=this.getLabelOverflow(n.text,g,e),s=n.text.length>2&&t<2;if(i||s||a)return void(n.hidden=!0)}n.hidden=!1,l.push(g)}})),0===l.length?null:ue.merge(l)}updateSectorLabelNodes(){const{radiusScale:t}=this,e=t.convert(0),{fontSize:i,fontStyle:n,fontWeight:a,fontFamily:s,positionOffset:r,positionRatio:o,color:l}=this.properties.sectorLabel,c=(t,c)=>{const{sectorLabel:u,outerRadius:h}=c;let d=!1;if(u&&0!==h){const p=e*(1-o)+h*o+r;t.fill=l,t.fontStyle=n,t.fontWeight=a,t.fontSize=i,t.fontFamily=s,t.text=u.text,t.x=c.midCos*p,t.y=c.midSin*p,t.textAlign="center",t.textBaseline="middle";const g=t.getBBox(),f=[[g.x,g.y],[g.x+g.width,g.y],[g.x+g.width,g.y+g.height],[g.x,g.y+g.height]],{startAngle:y,endAngle:m}=c,x={startAngle:y,endAngle:m,innerRadius:e,outerRadius:h};f.every((t=>{let[e,i]=t;return _y(e,i,x)}))&&(d=!0)}t.visible=d};this.labelSelection.each(c),this.highlightLabelSelection.each(c)}updateInnerLabelNodes(){const t=[],e=[];this.innerLabelsSelection.each(((i,n)=>{const{fontStyle:a,fontWeight:s,fontSize:r,fontFamily:o,color:l}=n;i.fontStyle=a,i.fontWeight=s,i.fontSize=r,i.fontFamily=o,i.text=n.text,i.x=0,i.y=0,i.fill=l,i.textAlign="center",i.textBaseline="alphabetic",t.push(i.getBBox()),e.push(n.spacing)}));const i=t=>0===t?0:e[t],n=t=>t===e.length-1?0:e[t],a=t.reduce(((t,e,a)=>t+e.height+i(a)+n(a)),0),s=Math.max(...t.map((t=>t.width))),r=this.getInnerRadius(),o=Math.sqrt(Math.pow(s/2,2)+Math.pow(a/2,2))<=(r>0?r:this.getOuterRadius()),l=[];for(let c=0,u=-a/2;c<t.length;c++){const e=t[c].height+u+i(c);l.push(e),u=e+n(c)}this.innerLabelsSelection.each(((t,e,i)=>{t.y=l[i],t.visible=o}))}updateZerosumRings(){this.zerosumOuterRing.size=2*this.getOuterRadius(),this.zerosumInnerRing.size=2*this.getInnerRadius()}getDatumLegendName(t){const{angleKey:e,calloutLabelKey:i,sectorLabelKey:n,legendItemKey:a}=this.properties,{sectorLabel:s,calloutLabel:r,legendItem:o}=t;return a&&void 0!==o?o.text:i&&i!==e&&void 0!==r?.text?r.text:n&&n!==e&&void 0!==s?.text?s.text:void 0}pickNodeClosestDatum(t){return lm(this,t)}getTooltipHtml(t){if(!this.properties.isValid())return pr;const{datum:e,angleValue:i,sectorFormat:{fill:n},itemId:a}=t,s=Up(this.properties.title?.text),r=Ye(i)?ae(i):String(i),o=this.getDatumLegendName(t);return this.properties.tooltip.toTooltipHtml({title:s??o,content:s&&o?`${o}: ${r}`:r,backgroundColor:n},{datum:e,itemId:a,title:s,color:n,seriesId:this.id,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey})}getLegendData(t){const{visible:e,processedData:i,dataModel:n}=this;if(!n||!i?.data.length||!this.properties.isValid()||"category"!==t)return[];const{angleKey:a,calloutLabelKey:s,sectorLabelKey:r,legendItemKey:o}=this.properties;if(!o&&(!s||s===a)&&(!r||r===a))return[];const{calloutLabelIdx:l,sectorLabelIdx:c,legendItemIdx:u}=this.getProcessedDataIndexes(n),h=this.properties.title?.showInLegend&&this.properties.title.text,d=[];for(let p=0;p<i.data.length;p++){const{datum:t,values:n}=i.data[p],g=[];h&&g.push(h);const f=this.getLabels(t,2*Math.PI,2*Math.PI,!1,null!=l?n[l]:void 0,null!=c?n[c]:void 0,null!=u?n[u]:void 0);if(o&&void 0!==f.legendItem?g.push(f.legendItem.text):s&&s!==a&&void 0!==f.calloutLabel?.text?g.push(f.calloutLabel?.text):r&&r!==a&&void 0!==f.sectorLabel?.text&&g.push(f.sectorLabel?.text),0===g.length)continue;const y=this.getSectorFormat(t,p,!1);d.push({legendType:"category",id:this.id,itemId:p,seriesId:this.id,enabled:e&&this.legendItemEnabled[p],label:{text:g.join(" - ")},symbols:[{marker:{fill:y.fill,stroke:y.stroke,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,strokeWidth:this.properties.strokeWidth}}],legendItemName:null!=o?t[o]:void 0})}return d}onLegendItemClick(t){const{enabled:e,itemId:i,series:n,legendItemName:a}=t;n.id===this.id?this.toggleSeriesItem(i,e):null!=a&&this.toggleOtherSeriesItems(a,e)}toggleSeriesItem(t,e){this.seriesItemEnabled[t]=e,this.legendItemEnabled[t]=e,this.nodeData[t]&&(this.nodeData[t].enabled=e),this.nodeDataRefresh=!0}setLegendState(t){this.legendItemEnabled=t,this.ctx.updateService.update(4)}toggleOtherSeriesItems(t,e){if(!this.properties.legendItemKey||!this.dataModel)return;const i=this.dataModel.resolveProcessedDataIndexById(this,"legendItemValue");this.processedData?.data.forEach(((n,a)=>{let{values:s}=n;s[i]===t&&this.toggleSeriesItem(a,e)}))}animateEmptyUpdateReady(t){const{animationManager:e}=this.ctx,i=rm(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);Si(this.id,"nodes",e,[this.itemSelection,this.highlightSelection,this.phantomSelection],i.nodes,((t,e)=>this.getDatumId(e))),Si(this.id,"innerCircle",e,[this.innerCircleSelection],i.innerCircle),Ng(this,"callout",e,this.calloutLabelSelection),Ng(this,"sector",e,this.labelSelection),Ng(this,"highlight",e,this.highlightLabelSelection),Ng(this,"inner",e,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){const{itemSelection:t,highlightSelection:e,phantomSelection:i,processedData:n,radiusScale:a,previousRadiusScale:s}=this,{animationManager:r}=this.ctx,o=n?.reduced?.diff;this.ctx.animationManager.stopByAnimationGroupId(this.id);const l=0===(o?.moved.size??0),c=(n?.defs.keys.length??0)>0;l&&c&&(n?.reduced?.animationValidation?.uniqueKeys??!0)||this.ctx.animationManager.skipCurrentBatch();const u=rm(!1,this.properties.rotation,a,s);Si(this.id,"nodes",r,[t,e,i],u.nodes,((t,e)=>this.getDatumId(e)),o),Si(this.id,"innerCircle",r,[this.innerCircleSelection],u.innerCircle),Ng(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),Ng(this,"sector",this.ctx.animationManager,this.labelSelection),Ng(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),Ng(this,"inner",this.ctx.animationManager,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){const{itemSelection:t,highlightSelection:e,phantomSelection:i,radiusScale:n,previousRadiusScale:a}=this,{animationManager:s}=this.ctx,r=rm(!1,this.properties.rotation,n,a);Si(this.id,"nodes",s,[t,e,i],r.nodes,((t,e)=>this.getDatumId(e))),Si(this.id,"innerCircle",s,[this.innerCircleSelection],r.innerCircle),Lg(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),Lg(this,"sector",this.ctx.animationManager,this.labelSelection),Lg(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),Lg(this,"inner",this.ctx.animationManager,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}getDatumIdFromData(t){const{calloutLabelKey:e,sectorLabelKey:i,legendItemKey:n}=this.properties;if(this.processedData?.reduced?.animationValidation?.uniqueKeys)return n?t[n]:e?t[e]:i?t[i]:void 0}getDatumId(t){const{index:e}=t,i=this.getDatumIdFromData(t.datum);return null!=i?String(i):`${e}`}onDataChange(){const{data:t,seriesItemEnabled:e,legendItemEnabled:i}=this;this.seriesItemEnabled=t?.map(((t,i)=>e[i]??!0))??[],this.legendItemEnabled=t?.map(((t,e)=>i[e]??!0))??[]}};hm.className="DonutSeries",hm.type="donut";var dm={series:{title:{enabled:!0,fontWeight:"normal",fontSize:14,fontFamily:Zd,color:Qd,spacing:5},calloutLabel:{enabled:!0,fontSize:12,fontFamily:Zd,color:Hd,offset:3,minAngle:0},sectorLabel:{enabled:!0,fontWeight:"normal",fontSize:12,fontFamily:Zd,color:$d,positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,rotation:0,sectorSpacing:1,shadow:{enabled:!1,color:ep,xOffset:3,yOffset:3,blur:5}}},pm=t=>{let{takeColors:e,colorsCount:i}=t;const{fills:n,strokes:a}=e(i);return{fills:n,strokes:a,calloutLine:{colors:a}}},gm={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"donut",moduleFactory:t=>new hm(t),tooltipDefaults:{range:"exact"},themeTemplate:{series:{title:{enabled:!0,fontWeight:"normal",fontSize:14,fontFamily:Zd,color:Qd,spacing:5},calloutLabel:{enabled:!0,fontSize:12,fontFamily:Zd,color:Hd,offset:3,minAngle:0},sectorLabel:{enabled:!0,fontWeight:"normal",fontSize:12,fontFamily:Zd,color:$d,positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,rotation:0,sectorSpacing:1,shadow:{enabled:!1,color:ep,xOffset:3,yOffset:3,blur:5},innerLabels:{fontSize:12,fontFamily:Zd,color:Hd,spacing:2}}},paletteFactory:pm},fm=class extends xr{constructor(){super(...arguments),this.showInLegend=!1}};R([Ji(sn)],fm.prototype,"showInLegend",2);var ym=class extends Ir{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};R([Ji(hn)],ym.prototype,"offset",2),R([Ji(pn)],ym.prototype,"minAngle",2),R([Ji(hn)],ym.prototype,"minSpacing",2),R([Ji(hn)],ym.prototype,"maxCollisionOffset",2),R([Ji(sn)],ym.prototype,"avoidCollisions",2);var mm=class extends Ir{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};R([Ji(ln)],mm.prototype,"positionOffset",2),R([Ji(dn)],mm.prototype,"positionRatio",2);var xm=class extends $i{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};R([Ji(Dn,{optional:!0})],xm.prototype,"colors",2),R([Ji(hn)],xm.prototype,"length",2),R([Ji(hn)],xm.prototype,"strokeWidth",2);var bm=class extends Gh{constructor(){super(...arguments),this.fills=Object.values(Xy),this.strokes=Object.values(Jy),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=0,this.title=new fm,this.shadow=new Cg,this.calloutLabel=new ym,this.sectorLabel=new mm,this.calloutLine=new xm,this.tooltip=new Og}};R([Ji(on)],bm.prototype,"angleKey",2),R([Ji(on,{optional:!0})],bm.prototype,"angleName",2),R([Ji(on,{optional:!0})],bm.prototype,"angleFilterKey",2),R([Ji(on,{optional:!0})],bm.prototype,"radiusKey",2),R([Ji(on,{optional:!0})],bm.prototype,"radiusName",2),R([Ji(hn,{optional:!0})],bm.prototype,"radiusMin",2),R([Ji(hn,{optional:!0})],bm.prototype,"radiusMax",2),R([Ji(on,{optional:!0})],bm.prototype,"calloutLabelKey",2),R([Ji(on,{optional:!0})],bm.prototype,"calloutLabelName",2),R([Ji(on,{optional:!0})],bm.prototype,"sectorLabelKey",2),R([Ji(on,{optional:!0})],bm.prototype,"sectorLabelName",2),R([Ji(on,{optional:!0})],bm.prototype,"legendItemKey",2),R([Ji(Dn)],bm.prototype,"fills",2),R([Ji(Dn)],bm.prototype,"strokes",2),R([Ji(dn)],bm.prototype,"fillOpacity",2),R([Ji(dn)],bm.prototype,"strokeOpacity",2),R([Ji(Rn)],bm.prototype,"lineDash",2),R([Ji(hn)],bm.prototype,"lineDashOffset",2),R([Ji(hn)],bm.prototype,"cornerRadius",2),R([Ji(rn,{optional:!0})],bm.prototype,"itemStyler",2),R([Ji(pn)],bm.prototype,"rotation",2),R([Ji(ln)],bm.prototype,"outerRadiusOffset",2),R([Ji(dn)],bm.prototype,"outerRadiusRatio",2),R([Ji(hn)],bm.prototype,"strokeWidth",2),R([Ji(ln)],bm.prototype,"sectorSpacing",2),R([Ji(nn)],bm.prototype,"title",2),R([Ji(nn)],bm.prototype,"shadow",2),R([Ji(nn)],bm.prototype,"calloutLabel",2),R([Ji(nn)],bm.prototype,"sectorLabel",2),R([Ji(nn)],bm.prototype,"calloutLine",2),R([Ji(nn)],bm.prototype,"tooltip",2);var vm=class extends Ku{constructor(t,e,i,n){super(t,e,i,n),this.angleKey=n.properties.angleKey,this.radiusKey=n.properties.radiusKey,this.calloutLabelKey=n.properties.calloutLabelKey,this.sectorLabelKey=n.properties.sectorLabelKey}},Mm=class extends cm{constructor(t){super({moduleCtx:t,pickModes:[1,0],useLabelLayer:!0,animationResetFns:{item:om,label:kg}}),this.properties=new bm,this.phantomNodeData=void 0,this.previousRadiusScale=new Jh,this.radiusScale=new Jh,this.phantomGroup=this.contentGroup.appendChild(new Ka),this.phantomSelection=es.select(this.phantomGroup,(()=>this.nodeFactory()),!1),this.calloutLabelGroup=this.contentGroup.appendChild(new Ka({name:"pieCalloutLabels"})),this.calloutLabelSelection=new es(this.calloutLabelGroup,Ka),this.backgroundGroup=this.rootGroup.appendChild(new Mr({name:`${this.id}-background`,zIndex:0})),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new Ka({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new mh),this.seriesItemEnabled=[],this.legendItemEnabled=[],this.surroundingRadius=void 0,this.NodeEvent=vm,this.angleScale=new Jh,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map((t=>t+Math.PI/2)),this.phantomGroup.opacity=.2,this.phantomGroup.zIndexSubOrder=[()=>this._declarationOrder,0]}get calloutNodeData(){return this.phantomNodeData??this.nodeData}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager?.addListener("legend-item-click",(t=>this.onLegendItemClick(t))))}get visible(){return super.visible&&(0===this.seriesItemEnabled.length||this.seriesItemEnabled.includes(!0))}nodeFactory(){const t=new Qy;return t.miterLimit=1e9,t}getSeriesDomain(t){return"x"===t?this.angleScale.domain:this.radiusScale.domain}async processData(t){if(null==this.data||!this.properties.isValid())return;let{data:e}=this;const{visible:i,seriesItemEnabled:n}=this,{angleKey:a,angleFilterKey:s,radiusKey:r,calloutLabelKey:o,sectorLabelKey:l,legendItemKey:c}=this.properties,u=!this.ctx.animationManager.isSkipped(),h=[],d=[];c?h.push(ag(c,"band",{id:"legendItemKey"})):o?h.push(ag(o,"band",{id:"calloutLabelKey"})):l&&h.push(ag(l,"band",{id:"sectorLabelKey"}));const p=this.radiusScale.type,g=this.radiusScale.type;r&&d.push(rg(r,{id:"radiusValue",min:this.properties.radiusMin??0,max:this.properties.radiusMax}),sg(r,p,{id:"radiusRaw"}),mg("radiusValue",[0,1],1,this.properties.radiusMin??0,this.properties.radiusMax)),o&&d.push(sg(o,"band",{id:"calloutLabelValue"})),l&&d.push(sg(l,"band",{id:"sectorLabelValue"})),c&&d.push(sg(c,"band",{id:"legendItemValue"})),s&&d.push(og(s,g,{id:"angleFilterValue",onlyPositive:!0}),sg(s,g,{id:"angleFilterRaw"}),mg("angleFilterValue",[0,1],0,0)),u&&this.processedData?.reduced?.animationValidation?.uniqueKeys&&h.length>0&&d.push(Dg(this.processedData)),d.push(xg()),e=e.map(((t,e)=>i&&n[e]?t:{...t,[a]:0})),await this.requestDataModel(t,e,{props:[...h,og(a,g,{id:"angleValue",onlyPositive:!0}),sg(a,g,{id:"angleRaw"}),mg("angleValue",[0,1],0,0),...d]});for(const f of this.processedData?.defs?.values??[]){const{id:t,missing:e,property:i}=f,n=hu(this,e);"angleRaw"!==t&&n>0&&_.warnOnce(`no value was found for the key '${String(i)}' on ${n} data element${n>1?"s":""}`)}this.animationState.transition("updateData")}async maybeRefreshNodeData(){if(!this.nodeDataRefresh)return;const{nodeData:t=[],phantomNodeData:e}=await this.createNodeData()??{};this.nodeData=t,this.phantomNodeData=e,this.nodeDataRefresh=!1}getProcessedDataIndexes(t){return{angleIdx:t.resolveProcessedDataIndexById(this,"angleValue"),angleRawIdx:t.resolveProcessedDataIndexById(this,"angleRaw"),angleFilterIdx:null!=this.properties.angleFilterKey?t.resolveProcessedDataIndexById(this,"angleFilterValue"):void 0,angleFilterRawIdx:null!=this.properties.angleFilterKey?t.resolveProcessedDataIndexById(this,"angleFilterRaw"):void 0,radiusIdx:this.properties.radiusKey?t.resolveProcessedDataIndexById(this,"radiusValue"):void 0,radiusRawIdx:this.properties.radiusKey?t.resolveProcessedDataIndexById(this,"radiusRaw"):void 0,calloutLabelIdx:this.properties.calloutLabelKey?t.resolveProcessedDataIndexById(this,"calloutLabelValue"):void 0,sectorLabelIdx:this.properties.sectorLabelKey?t.resolveProcessedDataIndexById(this,"sectorLabelValue"):void 0,legendItemIdx:this.properties.legendItemKey?t.resolveProcessedDataIndexById(this,"legendItemValue"):void 0}}async createNodeData(){const{id:t,processedData:e,dataModel:i,angleScale:n}=this,{rotation:a}=this.properties;if(!e||!i||"ungrouped"!==e.type)return;const{angleIdx:s,angleRawIdx:r,angleFilterIdx:o,angleFilterRawIdx:l,radiusIdx:c,radiusRawIdx:u,calloutLabelIdx:h,sectorLabelIdx:d,legendItemIdx:p}=this.getProcessedDataIndexes(i),g=null!=l&&e.data.some((t=>{let{values:e}=t;return e[l]>e[r]}));let f=0,y=0;const m=[],x=null!=l?[]:void 0;return e.data.forEach(((t,e)=>{const{datum:i,values:b}=t,v=g?b[o]:b[s],M=null==l||g?1:Math.sqrt(b[l]/b[r]),S=n.convert(f)+os(a);f=v,y+=v;const I=n.convert(f)+os(a),D=Math.abs(I-S),w=S+D/2,N=b[r],L=(null!=c?b[c]??1:1)*M,k=null!=u?b[u]:void 0,A=null!=p?b[p]:void 0,C=this.getLabels(i,w,D,!0,null!=h?b[h]:void 0,null!=d?b[d]:void 0,A),T=this.getSectorFormat(i,e,!1),E={itemId:e,series:this,datum:i,index:e,angleValue:N,midAngle:w,midCos:Math.cos(w),midSin:Math.sin(w),startAngle:S,endAngle:I,radius:L,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(L),0),sectorFormat:T,radiusValue:k,legendItemValue:A,enabled:this.seriesItemEnabled[e],...C};m.push(E),null!=x&&x.push({...E,radius:1,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(1),0)})})),this.zerosumOuterRing.visible=0===y,{itemId:t,nodeData:m,labelData:m,phantomNodeData:x}}getLabels(t,e,i,n,a,s,r){const{calloutLabel:o,sectorLabel:l,legendItemKey:c}=this.properties,u=!n||o.enabled?this.properties.calloutLabelKey:void 0,h=!n||l.enabled?this.properties.sectorLabelKey:void 0;if(!u&&!h&&!c)return{};const d={datum:t,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},p={};return u&&i>os(o.minAngle)&&(p.calloutLabel={...this.getTextAlignment(e),text:this.getLabelText(o,{...d,value:a}),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0}),h&&(p.sectorLabel={text:this.getLabelText(l,{...d,value:s})}),null!=c&&null!=r&&(p.legendItem={key:c,text:r}),p}getTextAlignment(t){const e=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],i=ss(t)- -.75*Math.PI;return e[se(Math.floor(i/(Math.PI/2)),e.length)]}getSectorFormat(t,e,i){const{callbackCache:n}=this.ctx,{angleKey:a,radiusKey:s,calloutLabelKey:r,sectorLabelKey:o,legendItemKey:l,fills:c,strokes:u,itemStyler:h}=this.properties,d=u[e%u.length],{fill:p,fillOpacity:g,stroke:f,strokeWidth:y,strokeOpacity:m,lineDash:x,lineDashOffset:b,cornerRadius:v}=Xe(i&&this.properties.highlightStyle.item,{fill:c.length>0?c[e%c.length]:void 0,stroke:d,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()},this.properties);let M;return h&&(M=n.call(h,{datum:t,angleKey:a,radiusKey:s,calloutLabelKey:r,sectorLabelKey:o,legendItemKey:l,fill:p,strokeOpacity:m,stroke:f,strokeWidth:y,fillOpacity:g,lineDash:x,lineDashOffset:b,cornerRadius:v,highlighted:i,seriesId:this.id})),{fill:M?.fill??p,fillOpacity:M?.fillOpacity??g,stroke:M?.stroke??f,strokeWidth:M?.strokeWidth??y,strokeOpacity:M?.strokeOpacity??m,lineDash:M?.lineDash??x,lineDashOffset:M?.lineDashOffset??b,cornerRadius:M?.cornerRadius??v}}getOuterRadius(){return Math.max(this.radius*this.properties.outerRadiusRatio+this.properties.outerRadiusOffset,0)}updateRadiusScale(t){const e=[0,this.getOuterRadius()];this.radiusScale.range=e,t&&(this.previousRadiusScale.range=e);const i=t=>({...t,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(t.radius),0)});this.nodeData=this.nodeData.map(i),this.phantomNodeData=this.phantomNodeData?.map(i)}getTitleTranslationY(){const t=Math.max(0,this.radiusScale.range[1]);if(0===t)return NaN;return-t-(2+(this.properties.title?.spacing??0))-Math.max(0,-t)}async update(t){let{seriesRect:e}=t;const{title:i}=this.properties,n={seriesRectWidth:e?.width,seriesRectHeight:e?.height},a=null!=Us(this.nodeDataDependencies,n);if(a&&(this._nodeDataDependencies=n),await this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(a),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),i){const t=this.getTitleTranslationY();i.node.y=isFinite(t)?t:0;const e=i.node.getBBox();i.node.visible=i.enabled&&isFinite(t)&&!this.bboxIntersectsSurroundingSeries(e)}this.zerosumOuterRing.fillOpacity=0,this.zerosumOuterRing.stroke=this.properties.calloutLabel.color,this.zerosumOuterRing.strokeWidth=1,this.zerosumOuterRing.strokeOpacity=1,this.updateNodeMidPoint(),await this.updateSelections(),await this.updateNodes(e)}updateTitleNodes(){const{oldTitle:t}=this,{title:e}=this.properties;t!==e&&(t&&this.labelGroup?.removeChild(t.node),e&&(e.node.textBaseline="bottom",this.labelGroup?.appendChild(e.node)),this.oldTitle=e)}updateNodeMidPoint(){const t=t=>{const e=t.innerRadius+(t.outerRadius-t.innerRadius)/2;t.midPoint={x:t.midCos*Math.max(0,e),y:t.midSin*Math.max(0,e)}};this.nodeData.forEach(t),this.phantomNodeData?.forEach(t)}async updateSelections(){await this.updateGroupSelection()}async updateGroupSelection(){const{itemSelection:t,highlightSelection:e,phantomSelection:i,highlightLabelSelection:n,calloutLabelSelection:a,labelSelection:s}=this,r=this.nodeData.map((t=>({...t,sectorFormat:{...t.sectorFormat}}))),o=(t,e)=>{t.update(e,void 0,(t=>this.getDatumId(t))),this.ctx.animationManager.isSkipped()&&t.cleanup()};o(t,this.nodeData),o(e,r),o(i,this.phantomNodeData??[]),a.update(this.calloutNodeData,(t=>{const e=new Ns;e.tag=0,e.pointerEvents=1,t.appendChild(e);const i=new Rs;i.tag=1,i.pointerEvents=1,t.appendChild(i)})),s.update(this.nodeData),n.update(r)}async updateNodes(t){const e=this.ctx.highlightManager.getActiveHighlight(),i=this.visible&&this.seriesItemEnabled.includes(!0);this.rootGroup.visible=i,this.backgroundGroup.visible=i,this.contentGroup.visible=i,this.highlightGroup.visible=i&&e?.series===this,this.highlightLabel.visible=i&&e?.series===this,this.labelGroup&&(this.labelGroup.visible=i),this.contentGroup.opacity=this.getOpacity();const n=this.ctx.animationManager.isSkipped(),a=(t,e,i,a)=>{const s=this.getSectorFormat(e.datum,e.itemId,a);e.sectorFormat.fill=s.fill,e.sectorFormat.stroke=s.stroke,n&&(t.startAngle=e.startAngle,t.endAngle=e.endAngle,t.innerRadius=e.innerRadius,t.outerRadius=e.outerRadius),(a||n)&&(t.fill=s.fill,t.stroke=s.stroke),t.strokeWidth=s.strokeWidth,t.fillOpacity=s.fillOpacity,t.strokeOpacity=s.strokeOpacity,t.lineDash=s.lineDash,t.lineDashOffset=s.lineDashOffset,t.cornerRadius=s.cornerRadius,t.fillShadow=this.properties.shadow;const r=Math.max((this.properties.sectorSpacing+(null!=s.stroke?s.strokeWidth:0))/2,0);t.inset=r,t.lineJoin=this.properties.sectorSpacing>=0||r>0?"miter":"round"};this.itemSelection.each(((t,e,i)=>a(t,e,0,!1))),this.highlightSelection.each(((t,i,n)=>{a(t,i,0,!0),t.visible=i.itemId===e?.itemId})),this.phantomSelection.each(((t,e,i)=>a(t,e,0,!1))),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(t),this.updateSectorLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")}updateCalloutLineNodes(){const{calloutLine:t}=this.properties,e=t.length,i=t.strokeWidth,n=t.colors??this.properties.strokes,{offset:a}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(0).forEach(((t,s)=>{const r=t.datum,{calloutLabel:o,outerRadius:l}=r;if(o?.text&&!o.hidden&&0!==l){t.visible=!0,t.strokeWidth=i,t.stroke=n[s%n.length],t.fill=void 0;const c=r.midCos*l,u=r.midSin*l;let h=r.midCos*(l+e),d=r.midSin*(l+e);if((o.collisionTextAlign??0!==o.collisionOffsetY)&&null!=o.box){const t=o.box;let e=h,i=d;h<t.x?e=t.x:h>t.x+t.width&&(e=t.x+t.width),d<t.y?i=t.y:d>t.y+t.height&&(i=t.y+t.height);const n=e-h,s=i-d,r=Math.sqrt(Math.pow(n,2)+Math.pow(s,2)),l=r-a;l>0&&(h+=n*l/r,d+=s*l/r)}t.x1=c,t.y1=u,t.x2=h,t.y2=d}else t.visible=!1}))}getLabelOverflow(t,e,i){const n=i.x-this.centerX,a=i.x+i.width-this.centerX,s=i.y-this.centerY,r=i.y+i.height-this.centerY;let o=1;e.x+1<n?o=(e.x+e.width-n)/e.width:e.x+e.width-1>a&&(o=(a-e.x)/e.width);const l=e.y+1<s||e.y+e.height-1>r;return{textLength:1===o?t.length:Math.floor(t.length*o)-1,hasVerticalOverflow:l,hasSurroundingSeriesOverflow:this.bboxIntersectsSurroundingSeries(e)}}bboxIntersectsSurroundingSeries(t){const{surroundingRadius:e}=this;if(null==e)return!1;const i=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],n=e**2;return i.some((t=>t.x**2+t.y**2>n))}computeCalloutLabelCollisionOffsets(){const{radiusScale:t}=this,{calloutLabel:e,calloutLine:i}=this.properties,{offset:n,minSpacing:a}=e,s=t.convert(0),r=this.calloutNodeData,o=r.filter((t=>{return!(!(e=t).calloutLabel||0===e.outerRadius);var e}));if(o.forEach((t=>{const e=t.calloutLabel;null!=e&&(e.hidden=!1,e.collisionTextAlign=void 0,e.collisionOffsetY=0)})),o.length<=1)return;const l=o.filter((t=>t.midCos<0)).sort(((t,e)=>t.midSin-e.midSin)),c=o.filter((t=>t.midCos>=0)).sort(((t,e)=>t.midSin-e.midSin)),u=o.filter((t=>t.midSin<0&&"center"===t.calloutLabel?.textAlign)).sort(((t,e)=>t.midCos-e.midCos)),h=o.filter((t=>t.midSin>=0&&"center"===t.calloutLabel?.textAlign)).sort(((t,e)=>t.midCos-e.midCos)),d=t=>{const e=t.calloutLabel;if(null==e)return ue.zero.clone();const a=t.outerRadius+i.length+n,s=t.midCos*a,r=t.midSin*a+e.collisionOffsetY,o=e.collisionTextAlign??e.textAlign,l=e.textBaseline;return Rs.computeBBox(e.text,s,r,{font:this.properties.calloutLabel,textAlign:o,textBaseline:l})},p=(t,e,i)=>{const n=d(t).grow(a/2),s=d(e).grow(a/2);if(n.x<s.x+s.width&&n.x+n.width>s.x&&("to-top"===i?n.y<s.y+s.height:n.y+n.height>s.y)){const t="to-top"===i?n.y-s.y-s.height:n.y+n.height-s.y;e.calloutLabel.collisionOffsetY=t}},g=t=>{const e=t.slice().sort(((t,e)=>Math.abs(t.midSin)-Math.abs(e.midSin)))[0],i=t.indexOf(e);for(let n=i-1;n>=0;n--){const e=t[n+1],i=t[n];p(e,i,"to-top")}for(let n=i+1;n<t.length;n++){const e=t[n-1],i=t[n];p(e,i,"to-bottom")}},f=t=>{const e=o.some((t=>0!==t.calloutLabel.collisionOffsetY)),i=t.map((t=>d(t))),n=i.map((t=>t.clone().grow(a/2)));let l=!1;for(let a=0;a<n.length&&!l;a++){const e=n[a];for(let i=a+1;i<t.length;i++){const t=n[i];if(e.collidesBBox(t)){l=!0;break}}}const c=r.map((t=>{const{startAngle:e,endAngle:i,outerRadius:n}=t;return{startAngle:e,endAngle:i,innerRadius:s,outerRadius:n}})),u=i.some((t=>c.some((e=>Yy(t,e)))));(l||e||u)&&t.filter((t=>"center"===t.calloutLabel.textAlign)).forEach((t=>{const e=t.calloutLabel;t.midCos<0?e.collisionTextAlign="right":t.midCos>0?e.collisionTextAlign="left":e.collisionTextAlign="center"}))};g(l),g(c),f(u),f(h)}updateCalloutLabelNodes(t){const{radiusScale:e}=this,{calloutLabel:i,calloutLine:n}=this.properties,a=n.length,{offset:s,color:r}=i,o=new Rs;this.calloutLabelSelection.selectByTag(1).forEach((n=>{const{datum:l}=n,c=l.calloutLabel,u=e.convert(l.radius),h=Math.max(0,u);if(!c?.text||0===h||c.hidden)return void(n.visible=!1);const d=h+a+s,p=l.midCos*d,g=l.midSin*d+c.collisionOffsetY,f={textAlign:c.collisionTextAlign??c.textAlign,textBaseline:c.textBaseline};o.text=c.text,o.x=p,o.y=g,o.setFont(this.properties.calloutLabel),o.setAlign(f);const y=o.getBBox();let m=c.text,x=!0;if(i.avoidCollisions){const{textLength:e,hasVerticalOverflow:i}=this.getLabelOverflow(c.text,y,t);m=c.text.length===e?c.text:`${c.text.substring(0,e)}\u2026`,x=!i}n.text=m,n.x=p,n.y=g,n.setFont(this.properties.calloutLabel),n.setAlign(f),n.fill=r,n.visible=x}))}async computeLabelsBBox(t,e){const{calloutLabel:i,calloutLine:n}=this.properties,a=n.length,{offset:s,maxCollisionOffset:r,minSpacing:o}=i;if(!i.avoidCollisions)return null;await this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();const l=[],c=new Rs;let u;const{title:h}=this.properties;if(h?.text&&h.enabled){const t=this.getTitleTranslationY();isFinite(t)&&(c.text=h.text,c.x=0,c.y=t,c.setFont(h),c.setAlign({textBaseline:"bottom",textAlign:"center"}),u=c.getBBox(),l.push(u))}return this.calloutNodeData.forEach((i=>{const n=i.calloutLabel;if(!n||0===i.outerRadius)return null;const h=i.outerRadius+a+s,d=i.midCos*h,p=i.midSin*h+n.collisionOffsetY;c.text=n.text,c.x=d,c.y=p,c.setFont(this.properties.calloutLabel),c.setAlign({textAlign:n.collisionTextAlign??n.textAlign,textBaseline:n.textBaseline});const g=c.getBBox();if(n.box=g,Math.abs(n.collisionOffsetY)>r)n.hidden=!0;else{if(u){const t=e.y-this.centerY,i=new ue(u.x-o,t,u.width+2*o,u.y+u.height+o-t);if(g.collidesBBox(i))return void(n.hidden=!0)}if(t.hideWhenNecessary){const{textLength:t,hasVerticalOverflow:i,hasSurroundingSeriesOverflow:a}=this.getLabelOverflow(n.text,g,e),s=n.text.length>2&&t<2;if(i||s||a)return void(n.hidden=!0)}n.hidden=!1,l.push(g)}})),0===l.length?null:ue.merge(l)}updateSectorLabelNodes(){const{radiusScale:t}=this,e=t.convert(0),{fontSize:i,fontStyle:n,fontWeight:a,fontFamily:s,positionOffset:r,positionRatio:o,color:l}=this.properties.sectorLabel,c=e>0,u=1===this.seriesItemEnabled.filter(Boolean).length,h=(t,h)=>{const{sectorLabel:d,outerRadius:p,startAngle:g,endAngle:f}=h;let y=!1;if(d&&0!==p){const m=e*(1-o)+p*o+r;t.fill=l,t.fontStyle=n,t.fontWeight=a,t.fontSize=i,t.fontFamily=s,t.text=d.text;!c&&u?(t.x=0,t.y=0):(t.x=h.midCos*m,t.y=h.midSin*m),t.textAlign="center",t.textBaseline="middle";const x=t.getBBox(),b=[[x.x,x.y],[x.x+x.width,x.y],[x.x+x.width,x.y+x.height],[x.x,x.y+x.height]],v={startAngle:g,endAngle:f,innerRadius:e,outerRadius:p};b.every((t=>{let[e,i]=t;return _y(e,i,v)}))&&(y=!0)}t.visible=y};this.labelSelection.each(h),this.highlightLabelSelection.each(h)}updateZerosumRings(){this.zerosumOuterRing.size=2*this.getOuterRadius()}getDatumLegendName(t){const{angleKey:e,calloutLabelKey:i,sectorLabelKey:n,legendItemKey:a}=this.properties,{sectorLabel:s,calloutLabel:r,legendItem:o}=t;return a&&void 0!==o?o.text:i&&i!==e&&void 0!==r?.text?r.text:n&&n!==e&&void 0!==s?.text?s.text:void 0}pickNodeClosestDatum(t){return lm(this,t)}getTooltipHtml(t){if(!this.properties.isValid())return pr;const{datum:e,angleValue:i,sectorFormat:{fill:n},itemId:a}=t,s=Up(this.properties.title?.text),r=Ye(i)?ae(i):String(i),o=this.getDatumLegendName(t);return this.properties.tooltip.toTooltipHtml({title:s??o,content:s&&o?`${o}: ${r}`:r,backgroundColor:n},{datum:e,itemId:a,title:s,color:n,seriesId:this.id,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey})}getLegendData(t){const{visible:e,processedData:i,dataModel:n}=this;if(!n||!i?.data.length||"category"!==t)return[];const{angleKey:a,calloutLabelKey:s,sectorLabelKey:r,legendItemKey:o}=this.properties;if(!o&&(!s||s===a)&&(!r||r===a))return[];const{calloutLabelIdx:l,sectorLabelIdx:c,legendItemIdx:u}=this.getProcessedDataIndexes(n),h=this.properties.title?.showInLegend&&this.properties.title.text,d=[];for(let p=0;p<i.data.length;p++){const{datum:t,values:n}=i.data[p],g=[];h&&g.push(h);const f=this.getLabels(t,2*Math.PI,2*Math.PI,!1,null!=l?n[l]:void 0,null!=c?n[c]:void 0,null!=u?n[u]:void 0);if(o&&void 0!==f.legendItem?g.push(f.legendItem.text):s&&s!==a&&void 0!==f.calloutLabel?.text?g.push(f.calloutLabel?.text):r&&r!==a&&void 0!==f.sectorLabel?.text&&g.push(f.sectorLabel?.text),0===g.length)continue;const y=this.getSectorFormat(t,p,!1);d.push({legendType:"category",id:this.id,itemId:p,seriesId:this.id,enabled:e&&this.legendItemEnabled[p],label:{text:g.join(" - ")},symbols:[{marker:{fill:y.fill,stroke:y.stroke,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,strokeWidth:this.properties.strokeWidth}}],legendItemName:null!=o?t[o]:void 0})}return d}onLegendItemClick(t){const{enabled:e,itemId:i,series:n,legendItemName:a}=t;n.id===this.id?this.toggleSeriesItem(i,e):null!=a&&this.toggleOtherSeriesItems(a,e)}toggleSeriesItem(t,e){this.seriesItemEnabled[t]=e,this.legendItemEnabled[t]=e,this.nodeData[t]&&(this.nodeData[t].enabled=e),this.nodeDataRefresh=!0}setLegendState(t){this.legendItemEnabled=t,this.ctx.updateService.update(4)}toggleOtherSeriesItems(t,e){if(!this.properties.legendItemKey||!this.dataModel)return;const i=this.dataModel.resolveProcessedDataIndexById(this,"legendItemValue");this.processedData?.data.forEach(((n,a)=>{let{values:s}=n;s[i]===t&&this.toggleSeriesItem(a,e)}))}animateEmptyUpdateReady(t){const{animationManager:e}=this.ctx,i=rm(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);Si(this.id,"nodes",e,[this.itemSelection,this.highlightSelection,this.phantomSelection],i.nodes,((t,e)=>this.getDatumId(e))),Ng(this,"callout",e,this.calloutLabelSelection),Ng(this,"sector",e,this.labelSelection),Ng(this,"highlight",e,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){const{itemSelection:t,highlightSelection:e,phantomSelection:i,processedData:n,radiusScale:a,previousRadiusScale:s}=this,{animationManager:r}=this.ctx,o=n?.reduced?.diff;this.ctx.animationManager.stopByAnimationGroupId(this.id);const l=0===(o?.moved.size??0),c=(n?.defs.keys.length??0)>0;l&&c&&(n?.reduced?.animationValidation?.uniqueKeys??!0)||this.ctx.animationManager.skipCurrentBatch();const u=rm(!1,this.properties.rotation,a,s);Si(this.id,"nodes",r,[t,e,i],u.nodes,((t,e)=>this.getDatumId(e)),o),Ng(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),Ng(this,"sector",this.ctx.animationManager,this.labelSelection),Ng(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){const{itemSelection:t,highlightSelection:e,phantomSelection:i,radiusScale:n,previousRadiusScale:a}=this,{animationManager:s}=this.ctx,r=rm(!1,this.properties.rotation,n,a);Si(this.id,"nodes",s,[t,e,i],r.nodes,((t,e)=>this.getDatumId(e))),Lg(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),Lg(this,"sector",this.ctx.animationManager,this.labelSelection),Lg(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}getDatumIdFromData(t){const{calloutLabelKey:e,sectorLabelKey:i,legendItemKey:n}=this.properties;if(this.processedData?.reduced?.animationValidation?.uniqueKeys)return n?t[n]:e?t[e]:i?t[i]:void 0}getDatumId(t){const{index:e}=t,i=this.getDatumIdFromData(t.datum);return null!=i?String(i):`${e}`}onDataChange(){const{data:t,seriesItemEnabled:e,legendItemEnabled:i}=this;this.seriesItemEnabled=t?.map(((t,i)=>e[i]??!0))??[],this.legendItemEnabled=t?.map(((t,e)=>i[e]??!0))??[]}};Mm.className="PieSeries",Mm.type="pie";var Sm={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"pie",moduleFactory:t=>new Mm(t),tooltipDefaults:{range:"exact"},themeTemplate:dm,paletteFactory:pm},Im={add:function(t,e){if("number"===typeof e)return{x:t.x+e,y:t.y+e};return{x:t.x+e.x,y:t.y+e.y}},angle:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:0,y:0};return Math.atan2(t.y,t.x)-Math.atan2(e.y,e.x)},apply:function(t,e){return t.x=e.x,t.y=e.y,t},equal:function(t,e){return t.x===e.x&&t.y===e.y},distance:function(t,e){const i=Dm(t,e);return Math.sqrt(i.x*i.x+i.y*i.y)},distanceSquared:function(t,e){const i=Dm(t,e);return i.x*i.x+i.y*i.y},from:function(t,e){if("number"===typeof t)return{x:t,y:e};if("regionOffsetX"in t)return{x:t.regionOffsetX,y:t.regionOffsetY};if("offsetWidth"in t)return{x:t.offsetWidth,y:t.offsetHeight};if("width"in t)return[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y+t.height}];if("x1"in t)return[{x:t.x1,y:t.y1},{x:t.x2,y:t.y2}];throw new Error(`Values can not be converted into a vector: [${t}] [${e}]`)},gradient:function(t,e,i){const n=e.x-t.x;return(null==i?e.y-t.y:i-e.y-(i-t.y))/n},intercept:function(t,e,i){return(null==i?t.y:i-t.y)-e*t.x},intersectAtX:function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3?arguments[3]:void 0;const a=t===1/0?1/0:t*i+e;return{x:i,y:null==n?a:n-a}},intersectAtY:function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3?arguments[3]:void 0;return{x:t===1/0?1/0:(i-e)/t,y:null==n?i:n-i}},length:wm,lengthSquared:function(t){return t.x*t.x+t.y*t.y},multiply:function(t,e){if("number"===typeof e)return{x:t.x*e,y:t.y*e};return{x:t.x*e.x,y:t.y*e.y}},normalized:function(t){const e=wm(t);return{x:t.x/e,y:t.y/e}},origin:Nm,required:function(t){return{x:t?.x??0,y:t?.y??0}},rotate:function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0};const n=wm(t);return{x:i.x+n*Math.cos(e),y:i.y+n*Math.sin(e)}},round:function(t){return{x:Math.round(t.x),y:Math.round(t.y)}},sub:Dm};function Dm(t,e){return"number"===typeof e?{x:t.x-e,y:t.y-e}:{x:t.x-e.x,y:t.y-e.y}}function wm(t){return Math.sqrt(t.x*t.x+t.y*t.y)}function Nm(){return{x:0,y:0}}var Lm=class extends $i{constructor(t,e){super(),this.onChange=t,this.onButtonsChange=e,this.align="start",this.position="top",this.size="normal",this.buttonOverrides=new Map}buttonConfigurations(){const t=[...this.buttons??[]];return this.draggable&&t.unshift({icon:"drag-handle",tooltip:"toolbarAnnotationsDragHandle",value:"drag",id:"drag"}),t?.map((t=>{const e=t.id??t.value,i=this.buttonOverrides.get(e);return null!=i?{...t,...i}:t}))??[]}buttonsChanged(t){this.onButtonsChange(this.buttonConfigurations(),t)}overrideButtonConfiguration(t,e){let i=this.buttonOverrides.get(t);null==i&&(i=Object.create(null),this.buttonOverrides.set(t,i));for(const n in e){const t=e[n];null==t?delete i[n]:i[n]=t}this.buttonsChanged(!0)}};R([qs((t=>{t.onChange(t.enabled)})),Ji(sn)],Lm.prototype,"enabled",2),R([qs((t=>{t.onChange(t.enabled)})),Ji(Wn([...Wc]),{optional:!0})],Lm.prototype,"align",2),R([qs((t=>{t.onChange(t.enabled)})),Ji(Wn($c),{optional:!0})],Lm.prototype,"position",2),R([Ji(sn)],Lm.prototype,"draggable",2),R([qs((t=>{t.onChange(t.enabled)})),Ji(Wn(["small","normal"]),{optional:!0})],Lm.prototype,"size",2),R([qs((t=>{for(const e of t.buttons??[])null!=e.icon&&z.includes(e.icon)&&_.warnOnce(`Icon '${e.icon}' is deprecated, use another icon instead.`),"toolbarAnnotationsColor"===e.ariaLabel&&_.warnOnce(`Aria label '${e.ariaLabel}' is deprecated, use 'toolbarAnnotationsLineColor' instead.`);t.buttonsChanged(!1)})),Ji(fn,{optional:!0})],Lm.prototype,"buttons",2);var km="ag-charts-toolbar",Am="ag-charts-toolbar__align",Cm="ag-charts-toolbar__section",Tm="ag-charts-toolbar__button",Em="ag-charts-toolbar__icon",Rm="ag-charts-toolbar__label",Om={top:"ag-charts-toolbar--top",right:"ag-charts-toolbar--right",bottom:"ag-charts-toolbar--bottom",left:"ag-charts-toolbar--left",floating:"ag-charts-toolbar--floating","floating-top":"ag-charts-toolbar--floating-top","floating-bottom":"ag-charts-toolbar--floating-bottom",small:"ag-charts-toolbar--small",normal:"ag-charts-toolbar--normal",hidden:"ag-charts-toolbar--hidden",preventFlash:"ag-charts-toolbar--prevent-flash",floatingHidden:"ag-charts-toolbar--floating-hidden",align:{start:"ag-charts-toolbar__align--start",center:"ag-charts-toolbar__align--center",end:"ag-charts-toolbar__align--end"},button:{first:"ag-charts-toolbar__button--first",last:"ag-charts-toolbar__button--last",active:"ag-charts-toolbar__button--active",hiddenValue:"ag-charts-toolbar__button--hidden-value",hiddenToggled:"ag-charts-toolbar__button--hidden-toggled",fillVisible:"ag-charts-toolbar__button--fill-visible",strokeWidthVisible:"ag-charts-toolbar__button--stroke-width-visible",withTransition:"ag-charts-toolbar__button--with-transition",dragHandle:"ag-charts-toolbar__button--drag-handle",dragging:"ag-charts-toolbar__button--dragging"}},zm=class extends Bo{constructor(t){super(),this.ctx=t,this.enabled=!0,this.seriesType=new Lm(this.onGroupChanged.bind(this,"seriesType"),this.onGroupButtonsChanged.bind(this,"seriesType")),this.annotations=new Lm(this.onGroupChanged.bind(this,"annotations"),this.onGroupButtonsChanged.bind(this,"annotations")),this.annotationOptions=new Lm(this.onGroupChanged.bind(this,"annotationOptions"),this.onGroupButtonsChanged.bind(this,"annotationOptions")),this.ranges=new Lm(this.onGroupChanged.bind(this,"ranges"),this.onGroupButtonsChanged.bind(this,"ranges")),this.zoom=new Lm(this.onGroupChanged.bind(this,"zoom"),this.onGroupButtonsChanged.bind(this,"zoom")),this.dragState={client:{x:0,y:0},position:{x:0,y:0},detached:!1},this.horizontalSpacing=10,this.verticalSpacing=10,this.floatingDetectionRange=38,this.positions={top:new Set,left:new Set,right:new Set,bottom:new Set,floating:new Set,"floating-top":new Set,"floating-bottom":new Set},this.positionAlignments={top:{},left:{},right:{},bottom:{},floating:{},"floating-top":{},"floating-bottom":{}},this.groupCallers={seriesType:new Set,annotations:new Set,annotationOptions:new Set,ranges:new Set,zoom:new Set},this.groupButtons={seriesType:[],annotations:[],annotationOptions:[],ranges:[],zoom:[]},this.ariaToolbars=[{groups:["seriesType","annotations"],destroyFns:[],resetListeners:()=>{}},{groups:["annotationOptions"],destroyFns:[],resetListeners:()=>{}},{groups:["ranges"],destroyFns:[],resetListeners:()=>{}},{groups:["zoom"],destroyFns:[],resetListeners:()=>{}}],this.pendingButtonToggledEvents=[],this.groupProxied=new Map,this.hasNewLocale=!0,this.elements={};for(const i of $c)this.elements[i]=t.domManager.addChild("canvas-overlay",`toolbar-${i}`),this.elements[i].role="presentation",this.renderToolbar(i);this.toggleVisibilities();const e=t.regionManager.getRegion("series");this.destroyFns.push(t.interactionManager.addListener("hover",this.onHover.bind(this),63),t.interactionManager.addListener("leave",this.onLeave.bind(this),63),e.addListener("drag-start",this.toggleNoPointerEvents.bind(this,!0),40),e.addListener("drag-end",this.toggleNoPointerEvents.bind(this,!1),63),t.toolbarManager.addListener("button-toggled",this.onButtonToggled.bind(this)),t.toolbarManager.addListener("button-updated",this.onButtonUpdated.bind(this)),t.toolbarManager.addListener("group-toggled",this.onGroupToggled.bind(this)),t.toolbarManager.addListener("group-updated",this.onGroupUpdated.bind(this)),t.toolbarManager.addListener("floating-anchor-changed",this.onFloatingAnchorChanged.bind(this)),t.toolbarManager.addListener("proxy-group-options",this.onProxyGroupOptions.bind(this)),t.layoutManager.registerElement(2,this.onLayoutStart.bind(this)),t.layoutManager.addListener("layout:complete",this.onLayoutComplete.bind(this)),t.updateService.addListener("pre-dom-update",this.onPreDomUpdate.bind(this)),t.updateService.addListener("update-complete",this.onUpdateComplete.bind(this)),t.localeManager.addListener("locale-changed",(()=>{this.hasNewLocale=!0})),(()=>this.destroyElements()))}destroyElements(){this.ctx.domManager.removeStyles(km);for(const t of Object.keys(this.elements))this.ctx.domManager.removeChild("canvas-overlay",`toolbar-${t}`)}onHover(t){const{enabled:e,elements:i,floatingDetectionRange:n,ctx:{scene:a}}=this,{offsetY:s,sourceEvent:{target:r}}=t,{FloatingBottom:o,FloatingTop:l}=Kc;if(!e)return;const c=i[o],u=i[l],h=s>c.offsetTop-n&&s<a.canvas.element.offsetHeight||r===c,d=u.offsetTop+u.offsetHeight+n,p=s>0&&s<d||r===u;this.translateFloatingElements(o,h),this.translateFloatingElements(l,p)}onLeave(t){const{enabled:e,ctx:{scene:i}}=this,{relatedElement:n,targetElement:a}=t,{FloatingBottom:s,FloatingTop:r}=Kc;if(!e||a!==i.canvas.element)return;Zc.some((t=>this.groupButtons[t].some((t=>t===n))))||(this.translateFloatingElements(s,!1),this.translateFloatingElements(r,!1))}toggleNoPointerEvents(t){this.groupButtons.annotationOptions.forEach((e=>e.classList.toggle("ag-charts-toolbar__no-pointer-events",t)))}onGroupChanged(t){null==this[t]||this.groupProxied.has(t)||(this.createGroup(t),this.toggleVisibilities())}onGroupButtonsChanged(t,e,i){if(this.enabled&&!this.groupProxied.has(t)){if(i)for(const e of this[t].buttonConfigurations())this.refreshButtonContent(t,e);else this.createGroupButtons(t,e);this.toggleVisibilities()}}onLayoutComplete(t){for(const e of $c)this.elements[e].classList.remove(Om.preventFlash);this.enabled&&this.refreshInnerLayout(t.series.rect)}toggleButtonsTransition(t){const e=Om.button.withTransition;for(const i of Object.values(this.groupButtons).flat())t&&!i.classList.contains(e)&&i.getBoundingClientRect(),i.classList.toggle(e,t)}onPreDomUpdate(){this.toggleButtonsTransition(!1)}onUpdateComplete(){this.toggleButtonsTransition(!0)}onButtonUpdated(t){const{type:e,group:i,id:n,...a}=t;this[i].overrideButtonConfiguration(n,a)}setButtonActive(t,e){t.classList.toggle(Om.button.active,e)}setButtonChecked(t,e){"switch"===t.role&&(t.ariaChecked=e.toString())}setButtonGroupFirstLast(t){const e=Array.from(t.childNodes??[]),i=(t,e,i)=>{const n=!e.classList.contains(Om.button.hiddenToggled);return e.classList.toggle(i,n&&t),!n&&t};let n=!0;e.forEach((t=>n=i(n,t,Om.button.first)));let a=!0;e.toReversed().forEach((t=>a=i(a,t,Om.button.last)))}onButtonToggled(t){const{group:e,id:i,active:n,enabled:a,visible:s,checked:r}=t;if(0===this.groupButtons[e].length)return void this.pendingButtonToggledEvents.push(t);const o=this.groupButtons[e].find((t=>t.dataset.toolbarId===`${i}`));null!=o&&(o.ariaDisabled=`${!a}`,o.classList.toggle(Om.button.hiddenToggled,!s),this.setButtonActive(o,n),this.setButtonChecked(o,r),this.setButtonGroupFirstLast(o.parentNode))}onGroupToggled(t){const{caller:e,group:i,active:n,visible:a}=t;this.toggleGroup(e,i,n,a),this.toggleVisibilities()}onGroupUpdated(t){const{group:e}=t;for(const i of this.ariaToolbars)if(i.groups.includes(e))return void i.resetListeners()}onFloatingAnchorChanged(t){const{elements:e,positions:i,horizontalSpacing:n,verticalSpacing:a}=this,{group:s,anchor:r}=t,o=e.floating;if(this.dragState.detached||o.classList.contains(Om.hidden))return;if(this.dragState.detached=!1,!i.floating.has(s))return;const l=r.position??"above",{offsetWidth:c,offsetHeight:u}=o;let h=r.y-u-a,d=r.x-c/2;"below"===l?h=r.y+a:"right"===l?(h=r.y-u/2,d=r.x+n):"above-left"===l&&(d=r.x);const p=new ue(d,h,c,u);this.positionGroup(o,s,p)}positionGroup(t,e,i){const{ctx:{domManager:n}}=this,a=n.getBoundingClientRect();i.x=Xt(0,i.x,a.width-i.width),i.y=Xt(0,i.y,a.height-i.height);const s=`${Math.floor(i.x)}px`,r=`${Math.floor(i.y)}px`;(t.style.getPropertyValue("left")!==s||t.style.getPropertyValue("top")!==r)&&(t.style.setProperty("left",s),t.style.setProperty("top",r),this.onGroupMoved(e,i))}onGroupMoved(t,e){const{groupButtons:i,ctx:{toolbarManager:n}}=this;for(const a of i[t]){if(a.classList.contains(Om.button.hiddenToggled))continue;const i=a.offsetParent;n.buttonMoved(t,a.dataset.toolbarId,new ue(a.offsetLeft+(i?.offsetLeft??0),a.offsetTop+(i?.offsetTop??0),a.offsetWidth,a.offsetHeight),e)}}buttonRect(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.ctx.domManager.getBoundingClientRect();const i=t.getBoundingClientRect();return new ue(i.left-e.left,i.top-e.top,i.width,i.height)}onProxyGroupOptions(t){if(!this.enabled)return;const{caller:e,group:i,options:n}=t;this.groupProxied.set(i,n),this[i].set(n),this.toggleGroup(e,i,void 0,n.enabled),this.createGroup(i,n.enabled,n.position),n.enabled&&this.createGroupButtons(i,n.buttons)}createGroup(t,e,i){e??(e=this[t].enabled),i??(i=this[t].position);for(const n of $c)e&&i===n?this.positions[n].add(t):this.positions[n].delete(t)}createGroupButtons(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];for(const u of this.groupButtons[t])u.remove();if(this.groupButtons[t]=[],0===e.length)return;const{align:i,position:n}=this[t],a=this.positionAlignments[n][i];if(!a)return;const s=e=>{const i=Array.from(a.children),n="data-group",s="data-section";let r=i.find((i=>i.getAttribute(n)===t&&i.getAttribute(s)===(e??"")));if(!r){r=Ut("div"),r.role="presentation",r.setAttribute(n,t),r.setAttribute(s,e??"");const o=Hc[t],l=i.find((t=>{const e=t.getAttribute(n);return Hc[e]>o}));null!=l?a.insertBefore(r,l):a.appendChild(r),this.destroyFns.push((()=>r.remove()))}return r.classList.add(Cm,Om[this[t].size]),r};let r=e.at(0)?.section,o=s(r);for(const u of e){r!==u.section&&(this.setButtonGroupFirstLast(o),o=s(u.section)),r=u.section;const e=this.createButtonElement(t,u);o.appendChild(e),this.groupButtons[t].push(e)}this.setButtonGroupFirstLast(o);let l,c;Qc(n)&&(l=()=>this.translateFloatingElements(n,!0),c=()=>this.translateFloatingElements(n,!1)),this.createAriaToolbar(t,a,l,c,(()=>{this.ctx.toolbarManager.cancel(t)}))}createAriaToolbar(t,e,i,n,a){const s=this.computeAriaOrientation(this[t].position),r=this.getAriaToolbar(t);r.resetListeners=()=>{const t=r.groups.map((t=>this.groupButtons[t])).flat().filter((t=>!t.classList.contains(Om.button.hiddenToggled)&&!t.classList.contains(Om.button.dragHandle)));r.destroyFns.forEach((t=>t())),r.destroyFns=fl({orientation:s,toolbar:e,buttons:t,onEscape:a,onFocus:i,onBlur:n})},r.resetListeners(),this.updateToolbarAriaLabel(t,e)}computeAriaOrientation(t){return{top:"horizontal",right:"vertical",bottom:"horizontal",left:"vertical",floating:"horizontal","floating-top":"horizontal","floating-bottom":"horizontal"}[t]}toggleGroup(t,e,i,n){if(!0===n?this.groupCallers[e].add(t):!1===n&&this.groupCallers[e].delete(t),null!=i)for(const a of this.groupButtons[e])this.setButtonActive(a,i)}processPendingEvents(){const t=(this.pendingButtonToggledEvents??[]).slice();for(const e of t)this.onButtonToggled(e);this.pendingButtonToggledEvents=[]}onLayoutStart(t){this.enabled&&(this.refreshOuterLayout(t.layoutBox),this.refreshLocale())}refreshOuterLayout(t){const{elements:e,horizontalSpacing:i,verticalSpacing:n}=this;e.top.classList.contains(Om.hidden)||t.shrink(e.top.offsetHeight+n,"top"),e.right.classList.contains(Om.hidden)||t.shrink(e.right.offsetWidth+i,"right"),e.bottom.classList.contains(Om.hidden)||(t.shrink(e.bottom.offsetHeight+n,"bottom"),e.bottom.style.top=`${t.y+t.height+n}px`),e.left.classList.contains(Om.hidden)||t.shrink(e.left.offsetWidth+i,"left")}refreshLocale(){const{hasNewLocale:t}=this;if(t){for(const t of Zc){const e=this[t].buttonConfigurations();for(const i of e)this.refreshButtonContent(t,i);this.updateToolbarAriaLabel(t)}this.hasNewLocale=!1}}refreshInnerLayout(t){const{elements:e,verticalSpacing:i}=this,{FloatingBottom:n,FloatingTop:a}=Kc;e.top.style.top=t.y-e.top.offsetHeight-i+"px",e.top.style.left=`${t.x}px`,e.top.style.width=`${t.width}px`,e.bottom.style.left=`${t.x}px`,e.bottom.style.width=`${t.width}px`,e.right.style.top=`${t.y}px`,e.right.style.right="0px",e.right.style.height=`${t.height}px`,e.left.style.top=`${t.y}px`,e.left.style.left="0px",e.left.style.height=`${t.height}px`,e[a].style.top=`${t.y}px`,e[n].style.top=t.y+t.height-e[n].offsetHeight+"px"}refreshButtonContent(t,e){const i=this.buttonId(e),n=this.groupProxied.get(t)?.buttons?.find((t=>this.buttonId(t)===i))??e,a=this.groupButtons[t].find((t=>t.getAttribute("data-toolbar-id")===i));null!=a&&this.updateButton(a,n)}toggleVisibilities(){if(null==this.elements)return;const t=t=>this[t].enabled&&this.groupCallers[t].size>0,e=t=>e=>{const i=this.buttonId(e);return null==i||i===t.dataset.toolbarId};for(const i of $c){const e=this.enabled&&Array.from(this.positions[i].values()).some(t);"floating"!==i||e||(this.dragState.detached=!1),this.elements[i].classList.toggle(Om.hidden,!e)}for(const i of Zc){if(null==this[i])continue;const n=t(i);for(const t of this.groupButtons[i]){const a=n&&this[i].buttonConfigurations().some(e(t));t.classList.toggle(Om.button.hiddenValue,!a)}}}translateFloatingElements(t,e){const{elements:i,verticalSpacing:n,positionAlignments:a}=this,s=i[t],r=Object.values(a[t]);s.classList.toggle(Om.floatingHidden,!e);const o="floating-bottom"===t?1:-1;for(const l of r)l.style.transform=e&&""!==l.style.transform?"translateY(0)":`translateY(${(s.offsetHeight+n)*o}px)`}renderToolbar(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"top";const e=this.elements[t];e.classList.add(km,Om[t],Om.preventFlash),Qc(t)&&e.classList.add(Om.floatingHidden);for(const i of Wc){const n=Ut("div");n.role="presentation",n.classList.add(Am,Om.align[i]),e.appendChild(n),this.positionAlignments[t][i]=n}}createButtonElement(t,e){const i=Ut("button");return i.classList.add(Tm),i.dataset.toolbarGroup=t,rr(i,"tabindex",-1),e.haspopup&&or(i,{"aria-haspopup":!0,"aria-expanded":!1}),i.dataset.toolbarId=this.buttonId(e),i.addEventListener("click",bl(i,(n=>this.onButtonPress(n,i,t,e.id,e.value)))),"drag"===e.value&&(i.addEventListener("mousedown",bl(i,(e=>this.onDragStart(e,i,t)))),i.classList.add(Om.button.dragHandle)),"switch"===e.role&&or(i,{role:e.role,"aria-checked":!1}),this.updateButton(i,e),this.destroyFns.push((()=>i.remove())),i}getAriaToolbar(t){for(const e of this.ariaToolbars)if(e.groups.includes(t))return e;throw new Error(`AG Charts - cannot find aria-toolbar of '${t}'`)}updateToolbarAriaLabel(t,e){if(!e){const{align:i,position:n}=this[t];if(!(e=this.positionAlignments[n][i]))return}e.ariaLabel=this.ctx.localeManager.t({seriesType:"ariaLabelFinancialCharts",annotations:"ariaLabelFinancialCharts",annotationOptions:"ariaLabelAnnotationOptionsToolbar",ranges:"ariaLabelRangesToolbar",zoom:"ariaLabelZoomToolbar"}[t])}expandButtonConfig(t,e){return"switch"!==e.role||"true"!==t.ariaChecked||void 0===e.checkedOverrides?e:{icon:e.checkedOverrides.icon??e.icon,label:e.checkedOverrides.label??e.label,ariaLabel:e.checkedOverrides.ariaLabel??e.ariaLabel,tooltip:e.checkedOverrides.tooltip??e.tooltip}}updateButton(t,e){const{domManager:i,localeManager:n}=this.ctx,{icon:a,label:s,ariaLabel:r,tooltip:o}=this.expandButtonConfig(t,e);o&&(t.title=n.t(o));let l="";if(null!=a&&(l=`<span class="${i.getIconClassNames(a)} ${Em}"></span>`),null!=s){const t=n.t(s);l=`${l}<span class="${Rm}">${t}</span>`}t.innerHTML=l,t.classList.toggle(Om.button.fillVisible,null!=e.fill),t.style.setProperty("--fill",e.fill??null);const c=null!=e.strokeWidth;t.classList.toggle(Om.button.strokeWidthVisible,c),t.style.setProperty("--strokeWidth",c?`${e.strokeWidth}px`:null);rr(t,"aria-label",r?this.ctx.localeManager.t(r):void 0)}onButtonPress(t,e,i,n,a){this.ctx.toolbarManager.pressButton(i,this.buttonId({id:n,value:a}),a,this.buttonRect(e),t)}onDragStart(t,e,i){const n=this.elements.floating;t.preventDefault(),t.stopPropagation(),this.dragState={client:Im.from(t.clientX,t.clientY),position:Im.from(Number(n.style.getPropertyValue("left").replace("px","")),Number(n.style.getPropertyValue("top").replace("px",""))),detached:!0},e.classList.toggle(Om.button.dragging,!0);const a=t=>this.onDrag(t,i),s=_t();s.addEventListener("mousemove",a),s.addEventListener("mouseup",(()=>{e.classList.toggle(Om.button.dragging,!1),s.removeEventListener("mousemove",a)}),{once:!0}),this.ctx.toolbarManager.groupMoved(i)}onDrag(t,e){const{elements:i,dragState:n}=this,a=i.floating,{offsetWidth:s,offsetHeight:r}=a,o=Im.sub(Im.from(t.clientX,t.clientY),n.client),l=Im.add(n.position,o),c=new ue(l.x,l.y,s,r);this.positionGroup(a,e,c)}buttonId(t){const{id:e,value:i,label:n}=t;return null!=e?e:null!=i&&"object"!==typeof i?String(i):n??""}};R([qs((t=>{t.processPendingEvents(),t.toggleVisibilities()})),Ji(sn)],zm.prototype,"enabled",2);var jm=864e5,Pm=30*jm,Bm={type:"root",optionsKey:"toolbar",packageType:"community",chartTypes:["cartesian"],moduleFactory:t=>new zm(t),themeTemplate:{toolbar:{enabled:!0,seriesType:{enabled:!1,position:"left",align:"start",buttons:[{tooltip:"toolbarSeriesTypeDropdown",value:"type",haspopup:!0}]},annotations:{enabled:!0,position:"left",align:"start",buttons:[{icon:"trend-line-drawing",tooltip:"toolbarAnnotationsLineAnnotations",value:"line-menu",section:"line-annotations",haspopup:!0},{icon:"text-annotation",tooltip:"toolbarAnnotationsTextAnnotations",value:"text-menu",section:"text-annotations",haspopup:!0},{icon:"arrow-drawing",tooltip:"toolbarAnnotationsShapeAnnotations",value:"shape-menu",section:"shape-annotations",haspopup:!0},{icon:"measurer-drawing",tooltip:"toolbarAnnotationsMeasurerAnnotations",value:"measurer-menu",section:"measure-annotations",haspopup:!0},{icon:"delete",tooltip:"toolbarAnnotationsClearAll",value:"clear",section:"tools"}]},annotationOptions:{enabled:!0,position:"floating",align:"start",draggable:!0,buttons:[{icon:"text-annotation",tooltip:"toolbarAnnotationsTextColor",value:"text-color",haspopup:!0},{icon:"line-color",tooltip:"toolbarAnnotationsLineColor",value:"line-color",haspopup:!0},{icon:"fill-color",tooltip:"toolbarAnnotationsFillColor",value:"fill-color",haspopup:!0},{tooltip:"toolbarAnnotationsTextSize",value:"text-size",haspopup:!0},{tooltip:"toolbarAnnotationsLineStrokeWidth",value:"line-stroke-width",haspopup:!0},{icon:"line-style-solid",tooltip:"toolbarAnnotationsLineStyle",value:"line-style-type",haspopup:!0},{icon:"settings",tooltip:"toolbarAnnotationsSettings",value:"settings",haspopup:!0},{role:"switch",icon:"unlocked",tooltip:"toolbarAnnotationsLock",ariaLabel:"toolbarAnnotationsLock",checkedOverrides:{icon:"locked",tooltip:"toolbarAnnotationsUnlock"},value:"lock"},{icon:"delete",tooltip:"toolbarAnnotationsDelete",value:"delete"}]},ranges:{enabled:!1,position:Pp,align:"start",buttons:[{label:"toolbarRange1Month",ariaLabel:"toolbarRange1MonthAria",value:Pm},{label:"toolbarRange3Months",ariaLabel:"toolbarRange3MonthsAria",value:3*Pm},{label:"toolbarRange6Months",ariaLabel:"toolbarRange6MonthsAria",value:6*Pm},{label:"toolbarRangeYearToDate",ariaLabel:"toolbarRangeYearToDateAria",value:(t,e)=>[new Date(`${new Date(e).getFullYear()}-01-01`).getTime(),e],id:"year-to-date"},{label:"toolbarRange1Year",ariaLabel:"toolbarRange1YearAria",value:365*jm},{label:"toolbarRangeAll",ariaLabel:"toolbarRangeAllAria",value:(t,e)=>[t,e],id:"all"}]},zoom:{enabled:!0,position:"top",align:"end",buttons:[{icon:"zoom-out",tooltip:"toolbarZoomZoomOut",value:"zoom-out"},{icon:"zoom-in",tooltip:"toolbarZoomZoomIn",value:"zoom-in"},{icon:"pan-left",tooltip:"toolbarZoomPanLeft",value:"pan-left"},{icon:"pan-right",tooltip:"toolbarZoomPanRight",value:"pan-right"},{icon:"pan-start",tooltip:"toolbarZoomPanStart",value:"pan-start"},{icon:"pan-end",tooltip:"toolbarZoomPanEnd",value:"pan-end"},{icon:"reset",tooltip:"toolbarZoomReset",value:"reset"}]}}}};function Fm(){Go.register(ud,Ad,Xh,Od,Bm,ty,Sy,ky,Oy,By,gm,Sm,Ty);for(const t of[td,wo,nd,Po,id])xu.register(t.type,{moduleFactory:e=>new t(e),hidden:t===Po})}function Gm(){for(const t of Go.modules){if("enterprise"!==t.packageType||Mu(t)||_.errorOnce("Unexpected enterprise module registered: "+t.identifier),"root"===t.type&&t.themeTemplate)for(const e of t.chartTypes)Lu.set(e,t.themeTemplate);if("series"===t.type){if(t.chartTypes.length>1)throw new Error(`AG Charts - Module definition error: ${t.identifier}`);ku.register(t.identifier,t)}if("series-option"===t.type&&t.themeTemplate)for(const e of t.seriesTypes)ku.setThemeTemplate(e,t.themeTemplate);if("axis-option"===t.type&&t.themeTemplate)for(const e of t.axisTypes){const i=xu.getThemeTemplate(e),n=Xe(t.themeTemplate,i);xu.setThemeTemplate(e,n)}"axis"===t.type&&xu.register(t.identifier,t),"legend"===t.type&&Su.register(t.identifier,t)}if(Go.hasEnterpriseModules()){const t=bu.filter((t=>{let{useCount:e}=t;return null==e||0===e}));t.length>0&&_.errorOnce("Enterprise modules expected but not registered: ",t)}}var _m=class extends lh{getChartType(){return"flow-proportion"}async updateData(){await super.updateData();const{nodes:t}=this.getOptions();this.series.forEach((e=>{(function(t){return"sankey"===t.type||"chord"===t.type})(e)&&e.setChartNodes(t)}))}performLayout(t){const{seriesRoot:e,annotationRoot:i,highlightRoot:n}=this,{layoutBox:a}=t,s=a.clone();a.shrink(this.seriesArea.padding.toJson()),this.seriesRect=a,this.animationRect=a,e.visible=this.series.some((t=>t.visible));for(const r of[e,i,n])r.translationX=Math.floor(a.x),r.translationY=Math.floor(a.y),r.setClipRect(s.clone());this.ctx.layoutManager.emitLayoutComplete(t,{series:{visible:e.visible,rect:s,paddedRect:a}})}};_m.className="FlowProportionChart",_m.type="flow-proportion";var Um=class extends vo{constructor(){super(...arguments),this.shape="polygon",this.innerRadiusRatio=0,this.defaultTickMinSpacing=20}computeLabelsBBox(t,e){return null}computeRange(){}getAxisLinePoints(){}};R([Ji(Wn(["polygon","circle"],"a polar axis shape"))],Um.prototype,"shape",2),R([Ji(dn)],Um.prototype,"innerRadiusRatio",2);var Ym=class extends lh{getChartType(){return"gauge"}updateRadialGauge(t,e){const i=this.axes.find((t=>"x"===t.direction));if(!(i instanceof Um))return;i.computeRange();const n=t.x,a=n+t.width,s=t.y,r=s+t.height,[o,l]=i.range,c=as(l-o)>Math.PI,u=c||rs(1.5*Math.PI,o,l),h=c||rs(0*Math.PI,o,l),d=c||rs(.5*Math.PI,o,l),p=c||rs(1*Math.PI,o,l);let g,f;g=p&&!h?"right":!p&&h?"left":"center",f=u&&!d?"bottom":!u&&d?"top":"middle";const y=Gy({startAngle:o,endAngle:l,innerRadius:0,outerRadius:.5}),m=2*-(y.x+y.width/2),x=2*-(y.y+y.height/2),{minimumRadius:b=0,maximumRadius:v}=e,M=Math.max(.5*Math.min(t.width/y.width,t.height/y.height),0);let S=Math.min(v??1/0,Math.max(M,b??0));for(let I=0;I<8;I+=1){const e=S<=b||7===I,o=t.x+t.width/2+m*S,l=t.y+t.height/2+x*S;i.translation.x=o,i.translation.y=l,i.gridLength=S,i.calculateLayout();const c=i.computeLabelsBBox({hideWhenNecessary:e},t);if(e)break;let u=0;if(null!=c){const t=c.x+o,e=t+c.width,i=c.y+l,h=i+c.height;u=Math.max(s-i,n-t,h-r,e-a,0)}if(!(u>0))break;S=Math.max(S-u,b)}i.translation.x=t.x+t.width/2+m*S,i.translation.y=t.y+t.height/2+x*S,e.centerX=t.width/2+m*S,e.centerY=t.height/2+x*S,e.radius=S,e.textAlign=g,e.verticalAlign=f,(0===S||S>M)&&_.warnOnce("There was insufficient space to display the Radial Gauge.")}updateLinearGauge(t,e){const i=this.axes.find((t=>"x"===t.direction)),n=this.axes.find((t=>"y"===t.direction));if(!(i instanceof Io))return t;if(!(n instanceof Io))return t;const{horizontal:a,thickness:s}=e;let r=0,o=0;const l=new Jh;l.domain=[0,100],l.range=a?i.range:n.range;const c=l.ticks();a?r=e.computeInset("x",c):o=e.computeInset("y",c);const u=t.width-Math.abs(r),h=t.height-Math.abs(o),d=Math.max(a?u:s,0),p=Math.max(a?s:h,0),g=t.x+(u-d)/2+Math.max(r,0),f=t.y+(h-p)/2-Math.min(o,0);i.range=[0,d],i.gridLength=d,i.calculateLayout(),i.translation.x=g,i.translation.y=f+("bottom"===i.position?s:0),n.range=[0,p],n.gridLength=p,n.calculateLayout(),n.translation.x=g+("right"===n.position?s:0),n.translation.y=f,e.originX=g-t.x,e.originY=f-t.y,0!==d&&0!==p||_.warnOnce("There was insufficient space to display the Linear Gauge.")}performLayout(t){const{seriesRoot:e,annotationRoot:i,highlightRoot:n,series:a,seriesArea:s}=this,{layoutBox:r}=t,o=r.clone();r.shrink(s.padding.toJson());const l=this.series[0];!function(t){return"radial-gauge"===t.type}(l)?function(t){return"linear-gauge"===t.type}(l)&&this.updateLinearGauge(r,l):this.updateRadialGauge(r,l),this.axes.forEach((t=>t.update())),this.seriesRect=o.clone().translate(o.x-r.x,o.y-r.y),this.animationRect=r,e.visible=a.some((t=>t.visible));for(const c of[e,i,n])c.translationX=Math.floor(r.x),c.translationY=Math.floor(r.y);this.ctx.layoutManager.emitLayoutComplete(t,{series:{visible:e.visible,rect:o,paddedRect:r}})}getAriaLabel(){const t=[],e=this.getCaptionText();0!==e.length&&t.push(e);for(const n of this.series)t.push(n.getCaptionText());const i=t.join(". ");return this.ctx.localeManager.t("ariaAnnounceGaugeChart",{caption:i})}};Ym.className="GaugeChart",Ym.type="gauge";var Vm=class extends lh{constructor(t,e){super(t,e)}getChartType(){return"hierarchy"}performLayout(t){const{seriesRoot:e,annotationRoot:i,highlightRoot:n}=this,{layoutBox:a}=t,s=a.clone();a.shrink(this.seriesArea.padding.toJson()),this.seriesRect=a,this.animationRect=a;for(const r of[e,i,n])r.translationX=Math.floor(a.x),r.translationY=Math.floor(a.y);e.visible=this.series[0].visible,e.setClipRect(a.clone()),this.ctx.layoutManager.emitLayoutComplete(t,{series:{visible:!0,rect:s,paddedRect:a}})}getAriaLabel(){const t=this.getCaptionText();return this.ctx.localeManager.t("ariaAnnounceHierarchyChart",{caption:t})}};Vm.className="HierarchyChart",Vm.type="hierarchy";var Wm=class extends lh{constructor(t,e){super(t,e),this.padding=new Vo(40),this.ctx.axisManager.axisGroup.zIndex=6}getChartType(){return"polar"}async performLayout(t){const{layoutBox:e}=t,i=e.clone();e.shrink(this.seriesArea.padding.toJson()),this.seriesRect=e,this.animationRect=e,await this.computeCircle(e),this.axes.forEach((t=>t.update())),this.ctx.layoutManager.emitLayoutComplete(t,{series:{visible:!0,rect:i,paddedRect:e}})}updateAxes(t,e,i){const n=this.axes.find((t=>"x"===t.direction)),a=this.axes.find((t=>"y"===t.direction));if(!(n instanceof Um)||!(a instanceof Um))return;const s=n.scale,r=a.innerRadiusRatio;n.innerRadiusRatio=r,n.computeRange(),n.gridLength=i,a.gridAngles=s.ticks?.().map((t=>s.convert(t))),a.gridRange=n.range,a.range=[i,i*r],[n,a].forEach((i=>{i.translation.x=t,i.translation.y=e,i.calculateLayout()}))}async computeCircle(t){var e=this;const i=this.series.filter(Zm),n=this.axes.filter(Hm),a=(t,e,n)=>{this.updateAxes(t,e,n),i.forEach((i=>{i.centerX=t,i.centerY=e,i.radius=n}));const a=i.filter((t=>"donut"===t.type||"pie"===t.type));if(a.length>1){const t=a.map((t=>{const e=t.getInnerRadius();return{series:t,innerRadius:e}})).sort(((t,e)=>t.innerRadius-e.innerRadius));t.at(-1).series.surroundingRadius=void 0;for(let e=0;e<t.length-1;e++)t[e].series.surroundingRadius=t[e+1].innerRadius}},s=t.x+t.width/2,r=t.y+t.height/2,o=Math.max(0,Math.min(t.width,t.height)/2);let l=o;a(s,r,l);const c=async function(){let{hideWhenNecessary:c=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const u=[];for(const e of Rt(n,i)){const i=await e.computeLabelsBBox({hideWhenNecessary:c},t);i&&u.push(i)}if(0===u.length)return void a(s,r,o);const h=ue.merge(u),d=e.refineCircle(h,l,t);a(d.centerX,d.centerY,d.radius),l=d.radius};await c(),await c(),await c(),await c({hideWhenNecessary:!0}),await c({hideWhenNecessary:!0});for(const u of Rt(n,i))await u.computeLabelsBBox({hideWhenNecessary:!0},t);return{radius:l,centerX:s,centerY:r}}refineCircle(t,e,i){const n=-e,a=-e,s=e,r=e;let o=Math.max(0,n-t.x),l=Math.max(0,a-t.y),c=Math.max(0,t.x+t.width-s),u=Math.max(0,t.y+t.height-r);o=c=Math.max(o,c),l=u=Math.max(l,u);const h=i.width-o-c,d=i.height-l-u;let p=Math.min(h,d)/2;const g=.5*i.width/2,f=.5*i.height/2,y=Math.min(g,f);if(p<y){p=y;const t=o+c;if(2*p+(l+u)>i.height){const t=i.height-2*p;2*Math.min(l,u)>t?(l=t/2,u=t/2):l>u?l=t-u:u=t-l}if(2*p+t>i.width){const t=i.width-2*p;2*Math.min(o,c)>t?(o=t/2,c=t/2):o>c?o=t-c:c=t-o}}const m=o+2*p+c,x=l+2*p+u;return{centerX:i.x+(i.width-m)/2+o+p,centerY:i.y+(i.height-x)/2+l+p,radius:p}}};function Zm(t){return t instanceof cm}function Hm(t){return t instanceof Um}Wm.className="PolarChart",Wm.type="polar";var Km=class extends lh{constructor(t,e){super(t,e)}getChartType(){return"standalone"}performLayout(t){const{seriesRoot:e,annotationRoot:i,highlightRoot:n}=this,{layoutBox:a}=t,s=a.clone();a.shrink(this.seriesArea.padding.toJson()),this.seriesRect=a,this.animationRect=a;for(const r of[e,i,n])r.translationX=Math.floor(a.x),r.translationY=Math.floor(a.y);e.visible=this.series[0].visible,this.ctx.layoutManager.emitLayoutComplete(t,{series:{visible:!0,rect:s,paddedRect:a}})}getAriaLabel(){const t=this.getCaptionText();return this.ctx.localeManager.t("ariaAnnounceHierarchyChart",{caption:t})}};Km.className="StandaloneChart",Km.type="standalone";var $m=Math.PI/180,Qm=t=>t*$m,Xm=t=>-Math.log(Math.tan(.25*Math.PI+t*$m*.5)),Jm=t=>t/$m,qm=t=>(Math.atan(Math.exp(-t))-.25*Math.PI)/(.5*$m),tx=class t{constructor(e,i){this.domain=e,this.range=i,this.type="mercator",this.bounds=t.bounds(e)}static bounds(t){const[[e,i],[n,a]]=t,s=Qm(e),r=Xm(i),o=Qm(n),l=Xm(a);return new ue(Math.min(s,o),Math.min(r,l),Math.abs(o-s),Math.abs(l-r))}static fixedScale(){return new t([[Jm(0),qm(0)],[Jm(1),qm(1)]],[[0,0],[1,1]])}convert(t){let[e,i]=t;const[[n,a],[s,r]]=this.range,o=(s-n)/this.bounds.width,l=(r-a)/this.bounds.height;return[(Qm(e)-this.bounds.x)*o+n,(Xm(i)-this.bounds.y)*l+a]}invert(t){let[e,i]=t;const[[n,a],[s,r]]=this.range,o=(s-n)/this.bounds.width,l=(r-a)/this.bounds.height;return[Jm((e-n)/o+this.bounds.x),qm((i-a)/l+this.bounds.y)]}};function ex(t){return"map-shape"===t.type||"map-line"===t.type||"map-marker"===t.type||"map-shape-background"===t.type||"map-line-background"===t.type}var ix=class extends lh{constructor(t,e){super(t,e),this.xAxis=new td(this.getModuleContext()),this.xAxis.position="bottom",this.yAxis=new td(this.getModuleContext()),this.yAxis.position="left",this.ctx.zoomManager.updateAxes([this.xAxis,this.yAxis])}getChartType(){return"topology"}async updateData(){await super.updateData();const{topology:t}=this.getOptions();this.series.forEach((e=>{ex(e)&&e.setChartTopology(t)}))}performLayout(t){const{seriesRoot:e,annotationRoot:i,highlightRoot:n}=this,{layoutBox:a}=t,s=a.clone();a.shrink(this.seriesArea.padding.toJson()),this.seriesRect=a,this.animationRect=a;const r=this.series.filter(ex),o=r.reduce(((t,e)=>{if(!e.visible)return t;const i=e.topologyBounds;return null==i?t:null==t?i:(t.merge(i),t)}),void 0);let l;if(null!=o){const{lon0:t,lat0:e,lon1:i,lat1:n}=o,s=[[t,e],[i,n]],r=tx.bounds(s),{width:c,height:u}=a,h=Math.min(c/r.width,u/r.height),d=r.width*h,p=r.height*h,g=(c-d)/2,f=(u-p)/2,y=g,m=f,x=g+d,b=f+p,v=this.ctx.zoomManager.getAxisZoom(this.xAxis.id),M=this.ctx.zoomManager.getAxisZoom(this.yAxis.id),S=(x-y)/(v.max-v.min),I=y-S*v.min,D=(b-m)/(1-M.min-(1-M.max)),w=m-D*(1-M.max);l=new tx(s,[[I,w],[I+S,w+D]])}r.forEach((t=>{t.scale=l}));const c=this.series.some((t=>t.visible));e.visible=c;for(const u of[e,i,n])u.translationX=Math.floor(a.x),u.translationY=Math.floor(a.y),u.setClipRect(a.clone());this.ctx.layoutManager.emitLayoutComplete(t,{series:{visible:c,rect:s,paddedRect:a}})}};ix.className="TopologyChart",ix.type="topology";var nx=Symbol("IGNORED_PROP");function ax(t,e){const i={};for(const n in e){const a=e[n];a!==nx&&Object.hasOwn(t,n)&&(i[n]=a)}return i}function sx(t,e){if(null==e)return t;const{targets:i,...n}=e;return null!=(t=Xe(t,n)).targets&&null!=i&&(t.targets=Je(t.targets,i)),t}function rx(t,e){if(Be(t))return e(t)}var ox=["ohlc","line","step-line","hlc","high-low","candlestick","hollow-candlestick"];var lx="range-area";function cx(t,e){return{fill:rx(e,(e=>e.overrides?.[t]?.series?.fill)),stroke:rx(e,(e=>e.overrides?.[t]?.series?.stroke))}}var ux={line:{enabled:!1},title:{enabled:!1},label:{enabled:!1},crosshair:{enabled:!1,strokeOpacity:.25,lineDash:[0],label:{enabled:!1}}},hx={...ux,nice:!1},dx={bottom:{crosshair:{enabled:Wd}}},px={category:dx,number:dx,log:dx,time:dx},gx={position:{type:"sparkline"}},fx={overrides:{common:{animation:{enabled:!1},padding:{top:0,right:0,bottom:0,left:0},axes:{number:{...hx,interval:{values:[0]}},log:{...hx},time:{...hx},category:{...ux,gridLine:{enabled:!1}}}},bar:{series:{sparklineMode:!0},tooltip:{range:"nearest"}},line:{seriesArea:{padding:{top:2,right:2,bottom:2,left:2}},axes:px,series:{strokeWidth:1,marker:{enabled:!1,size:3},tooltip:gx}},area:{seriesArea:{padding:{top:1,right:0,bottom:1,left:0}},axes:px,series:{strokeWidth:1,fillOpacity:.4,tooltip:gx}}}};function yx(t,e){return"string"===typeof t?{...e,baseTheme:t}:null!=t?{...t,baseTheme:yx(t.baseTheme,e)}:e}var mx={"price-volume":function(t,e,i){const{xKey:n,dateKey:a=n??"date",highKey:s="high",openKey:r="open",lowKey:o="low",closeKey:l="close",volumeKey:c="volume",chartType:u="candlestick",navigator:h=!1,volume:d=!0,rangeToolbar:p,rangeButtons:g=p??!0,statusBar:f=!0,annotations:y,toolbar:m=y??!0,zoom:x=!0,theme:b,data:v,...M}=t;null!=n&&_.warnOnce("Property [xKey] is deprecated, use [dateKey] instead."),null!=p&&_.warnOnce("Property [rangeToolbar] is deprecated, use [rangeButtons] instead."),null!=y&&_.warnOnce("Property [annotations] is deprecated, use [toolbar] instead.");const S=function(t,e,i,n,a,s,r){e===lx&&(_.warnOnce(`type '${e}' is deprecated, use 'hlc' chart type instead`),e="hlc");const o={xKey:i,openKey:s,closeKey:r,highKey:n,lowKey:a},l={xKey:i,yKey:r},c={pickOutsideVisibleMinorAxis:!0};switch(e??"candlestick"){case"ohlc":return[{type:"ohlc",focusPriority:0,...c,...o}];case"line":return[{type:"line",focusPriority:0,...c,...l,stroke:rx(t,(t=>t.overrides?.line?.series?.stroke))??up,marker:rx(t,(t=>t.overrides?.line?.series?.marker))??{enabled:!1}}];case"step-line":return[{type:"line",focusPriority:0,...c,...l,stroke:rx(t,(t=>t.overrides?.line?.series?.stroke))??up,interpolation:rx(t,(t=>t.overrides?.line?.series?.interpolation))??{type:"step"},marker:rx(t,(t=>t.overrides?.line?.series?.marker))??{enabled:!1}}];case"hlc":{const e=cx(lx,t);return[{type:lx,focusPriority:0,...c,xKey:i,yHighKey:n,yLowKey:r,fill:e.fill??lp,stroke:e.stroke??rp,fillOpacity:rx(t,(t=>t.overrides?.["range-area"]?.series?.fillOpacity))??.3,strokeWidth:rx(t,(t=>t.overrides?.["range-area"]?.series?.strokeWidth))??2},{type:lx,focusPriority:0,...c,xKey:i,yHighKey:r,yLowKey:a,fill:e.fill??cp,stroke:e.stroke??op,fillOpacity:rx(t,(t=>t.overrides?.["range-area"]?.series?.fillOpacity))??.3,strokeWidth:rx(t,(t=>t.overrides?.["range-area"]?.series?.strokeWidth))??2},{type:"line",...c,...l,stroke:rx(t,(t=>t.overrides?.line?.series?.stroke))??mp,strokeWidth:rx(t,(t=>t.overrides?.line?.series?.strokeWidth))??2,marker:rx(t,(t=>t.overrides?.line?.series?.marker))??{enabled:!1}}]}case"high-low":{const e=cx("range-bar",t);return[{type:"range-bar",focusPriority:0,...c,xKey:i,yHighKey:n,yLowKey:a,fill:e.fill??hp,stroke:e.stroke??up,tooltip:{range:"nearest"}}]}case"candlestick":return[{type:"candlestick",focusPriority:0,...c,...o}];case"hollow-candlestick":{const e=rx(t,(t=>t.overrides?.candlestick?.series?.item));return[{type:"candlestick",focusPriority:0,...c,...o,item:{up:{fill:e?.up?.fill??"transparent"}}}]}default:return _.warnOnce(`unknown chart type: ${e}; expected one of: ${ox.join(", ")}`),[{type:"candlestick",focusPriority:0,...c,...o}]}}(b,u,a,s,o,r,l),I=function(t,e,i,n,a,s){if(!a)return[];const r=rx(t,(t=>t.overrides?.bar?.series?.fill)),o=r?{fill:r}:{itemStyler(t){let{datum:a}=t;const{up:s,down:r}=e().palette;return{fill:a[i]<a[n]?s?.fill:r?.fill}}};return[{type:"bar",xKey:"date",yKey:s,focusPriority:1,tooltip:{enabled:!1},highlight:{enabled:!1},fillOpacity:rx(t,(t=>t.overrides?.bar?.series?.fillOpacity))??.5,...o}]}(b,i,r,l,d,c),D={navigator:{enabled:h,...d?{miniChart:{enabled:h,series:[{type:"line",xKey:a,yKey:c,marker:{enabled:!1}}]}}:null}},w={annotations:{enabled:m,data:v,xKey:a,volumeKey:d?c:void 0}},N=f?{statusBar:{enabled:!0,data:v,highKey:s,openKey:r,lowKey:o,closeKey:l,volumeKey:d?c:void 0}}:null,L={zoom:{enabled:x,enableIndependentAxes:!0}},k={chartToolbar:{enabled:!0},toolbar:{seriesType:{enabled:m},annotationOptions:{enabled:m},annotations:{enabled:m},ranges:{enabled:g}}},A=d?[{type:"number",position:"left",keys:[c],label:{enabled:!1},crosshair:{enabled:!1},gridLine:{enabled:!1},nice:!1,layoutConstraints:{stacked:!1,width:20,unit:"percentage",align:"end"}}]:[];return{theme:{baseTheme:"string"===typeof b?b:"ag-financial",...Xe("object"===typeof b?b:null,{overrides:{common:{title:{padding:4},padding:{top:6,right:8,bottom:5}}}})},animation:{enabled:!1},legend:{enabled:!1},series:[...I,...S],axes:[{type:"number",position:"right",keys:[r,l,s,o],interval:{maxSpacing:rx(b,(t=>t.overrides?.common?.axes?.number?.interval?.maxSpacing))??45},label:{format:rx(b,(t=>t.overrides?.common?.axes?.number?.label?.format))??".2f"},crosshair:{enabled:!0,snap:!1},layoutConstraints:{stacked:!1,width:100,unit:"percentage",align:"start"}},...A,{type:"ordinal-time",position:"bottom",line:{enabled:!1},label:{enabled:!0},crosshair:{enabled:!0}}],tooltip:{enabled:!1},data:v,...w,...D,...N,...L,...k,...M}},gauge:function(t,e){if(function(t){return"radial-gauge"===t.type}(t)){return function(t){const{animation:e,background:i,container:n,contextMenu:a,footnote:s,height:r,listeners:o,locale:l,minHeight:c,minWidth:u,padding:h,subtitle:d,theme:p,title:g,width:f,type:y,cursor:m,nodeClickRange:x,tooltip:b,value:v,scale:M={},startAngle:S,endAngle:I,highlightStyle:D,segmentation:w,bar:N,needle:L,targets:k,outerRadius:A,innerRadius:C,outerRadiusRatio:T,innerRadiusRatio:E,cornerRadius:R,cornerMode:O,label:z,secondaryLabel:j,spacing:P,...B}=t,{fills:F,fillMode:G,fill:_,fillOpacity:U,stroke:Y,strokeWidth:V,strokeOpacity:W,lineDash:Z,lineDashOffset:H,min:K=0,max:$=1,interval:Q={},label:X={},...J}=M,q=ax(t,{animation:e,background:i,container:n,contextMenu:a,footnote:s,height:r,listeners:o,locale:l,minHeight:c,minWidth:u,padding:h,subtitle:d,theme:p,title:g,width:f}),tt=ax(M,{fills:F,fillMode:G,fill:_,fillOpacity:U,stroke:Y,strokeWidth:V,strokeOpacity:W,lineDash:Z,lineDashOffset:H});return{...q,series:[ax(t,{startAngle:nx,endAngle:nx,needle:null!=L?{enabled:!0,...L}:nx,scale:tt,type:y,cursor:m,nodeClickRange:x,listeners:o,tooltip:b,value:v,highlightStyle:D,segmentation:w,bar:N,targets:k,outerRadius:A,innerRadius:C,outerRadiusRatio:T,innerRadiusRatio:E,cornerRadius:R,cornerMode:O,label:z,secondaryLabel:j,spacing:P,...B})],axes:[{type:"angle-number",min:K,max:$,startAngle:S,endAngle:I,interval:Q??{},label:X??{}},{type:"radius-number"}]}}(sx(t,e))}if(function(t){return"linear-gauge"===t.type}(t)){return function(t){const{animation:e,background:i,container:n,contextMenu:a,footnote:s,height:r,listeners:o,locale:l,minHeight:c,minWidth:u,padding:h,subtitle:d,theme:p,title:g,width:f,type:y,cursor:m,nodeClickRange:x,tooltip:b,value:v,scale:M={},direction:S="vertical",thickness:I,highlightStyle:D,segmentation:w,bar:N,targets:L,cornerRadius:k,cornerMode:A,label:C,...T}=t,{fills:E,fillMode:R,fill:O,fillOpacity:z,stroke:j,strokeWidth:P,strokeOpacity:B,lineDash:F,lineDashOffset:G,min:_=0,max:U=1,interval:Y={},label:V={},...W}=M,Z=ax(t,{animation:e,background:i,container:n,contextMenu:a,footnote:s,height:r,listeners:o,locale:l,minHeight:c,minWidth:u,padding:h,subtitle:d,theme:p,title:g,width:f}),H=ax(M,{fills:E,fillMode:R,fill:O,fillOpacity:z,stroke:j,strokeWidth:P,strokeOpacity:B,lineDash:F,lineDashOffset:G}),K=ax(t,{scale:H,type:y,cursor:m,nodeClickRange:x,listeners:o,tooltip:b,value:v,direction:S,thickness:I,highlightStyle:D,segmentation:w,bar:N,targets:L,cornerRadius:k,cornerMode:A,label:C,...T}),{placement:$,...Q}=V;let X,J;const q="horizontal"===S;q?(X="before"===$?"top":"bottom",J="left"):(X="after"===$?"right":"left",J="bottom");const tt={type:"number",position:X,min:_,max:U,reverse:!q,interval:Y,label:Q,nice:!1},et={type:"number",position:J,min:0,max:1,label:{enabled:!1}};return{...Z,series:[K],axes:q?[tt,et]:[et,tt]}}(sx(t,e))}const{animation:i,background:n,container:a,contextMenu:s,footnote:r,height:o,listeners:l,locale:c,minHeight:u,minWidth:h,padding:d,subtitle:p,theme:g,title:f,width:y}=t;return ax(t,{animation:i,background:n,container:a,contextMenu:s,footnote:r,height:o,listeners:l,locale:c,minHeight:u,minWidth:h,padding:d,subtitle:p,theme:g,title:f,width:y})},sparkline:function(t){const{background:e,container:i,height:n,listeners:a,locale:s,minHeight:r,minWidth:o,padding:l,width:c,theme:u,data:h,xAxis:d,yAxis:p,...g}=t,f=g,y="bar"!==f.type||"horizontal"!==f.direction,m=ax(t,{background:e,container:i,height:n,listeners:a,locale:s,minHeight:r,minWidth:o,padding:l,width:c,data:h,xAxis:nx,yAxis:nx,theme:nx});return m.theme=yx(u,fx),m.series=[f],m.axes=y?[{type:"number",...p,position:"left"},{type:"category",...d,position:"bottom"}]:[{type:"category",...d,position:"left"},{type:"number",...p,position:"bottom"}],m}};function xx(t,e){let i=[];const n=_u(t),a=Ou(t),s=a?wu.get(a):"unknown";for(const{type:r,chartTypes:o,optionsKey:l,optionsInnerKey:c,identifier:u}of bu)if("unknown"===s||o.includes(s))if("root"===r||"legend"===r){const e=t[l];if(null==e)continue;c?e[c]&&(i.push(`${l}.${c}`),delete e[c]):(i.push(l),delete t[l])}else if("axis"===r){if(!("axes"in t)||!t.axes?.some((t=>t.type===u)))continue;i.push(`axis[type=${u}]`),t.axes=t.axes.filter((t=>t.type!==u))}else if("axis-option"===r){if(!("axes"in t)||!t.axes?.some((t=>t[l])))continue;i.push(`axis.${l}`),t.axes.forEach((t=>{t[l]&&delete t[l]}))}else if("series"===r){if(!t.series?.some((t=>t.type===u)))continue;i.push(`series[type=${u}]`),t.series=t.series.filter((t=>t.type!==u))}else if("series-option"===r){if(!t.series?.some((t=>t[l])))continue;i.push(`series.${l}`),t.series.forEach((t=>{t[l]&&delete t[l]}))}if(i.length&&!e){n&&(i=["AgCharts.createGauge"]);let e="ag-charts-enterprise",a="https://ag-grid.com/charts/javascript/installation/";"integrated"===t.mode&&(e="ag-grid-charts-enterprise' or 'ag-grid-enterprise/charts-enterprise",a="https://www.ag-grid.com/javascript-data-grid/integrated-charts-installation/"),_.warnOnce([`unable to use these enterprise features as '${e}' has not been loaded:`,"",...i,"",`See: ${a}`].join("\n"))}}var bx=Symbol("description"),vx=Symbol("required");function Mx(t,e,i){const{errors:n}=Ix(t,e,i);for(const{message:a}of n)_.warn(a);return 0===n.length}function Sx(t,e,i){const n=_e(i)?i:i[bx],a=n?`; expecting ${n}`:"";return`${t?`Option \`${t}\``:"Value"} cannot be set to \`${function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;switch(typeof t){case"undefined":return"undefined";case"number":if(isNaN(t))return"NaN";if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";default:return(t=JSON.stringify(t)).length>e?`${t.slice(0,e)}... (+${t.length-e} characters)`:t}}(e)}\`${a}, ignoring.`}function Ix(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!Be(t))return{valid:null,errors:[{path:i,value:t,message:Sx(i,t,"an object")}]};const n=new Set(Object.keys(t)),a=[],s={};function r(t){return Ee(e)?`${i}[${t}]`:i?`${i}.${t}`:t}for(const[o,l]of Object.entries(e)){n.delete(o);const e=t[o];if(l[vx]||"undefined"!==typeof e)if(Pe(l))l(e)?s[o]=e:a.push({key:o,path:i,value:e,message:Sx(r(o),e,l)});else{const t=Ix(e,l,r(o));s[o]=t.valid,a.push(...t.errors)}}for(const o of n)a.push({key:o,path:i,unknown:!0,message:`Unknown option \`${r(o)}\`, ignoring.`});return{valid:s,errors:a}}function Dx(t,e){return Object.assign((e=>t(e)),{[bx]:e})}Dx(Ee,"an array"),Dx(Re,"a boolean"),Dx(Pe,"a function"),Dx(Ye,"a number");var wx=Dx(Be,"an object"),Nx=Dx(_e,"a string"),Lx=function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Dx((i=>Ye(i)&&(i>t||e&&i===t)),`a number greater than ${e?"or equal to ":""}${t}`)},kx=(t,e)=>Dx((i=>Ye(i)&&i>=t&&i<=e),`a number between ${t} and ${e} inclusive`),Ax=(Lx(0),Lx(1),kx(0,1),kx(0,360),(t,e)=>Dx((e=>Ee(e)&&e.every(t)),e??`${t[bx]} array`));function Cx(t){return t?.up||t?.down||t?.neutral?"user-full":t?.fills||t?.strokes?"user-indexed":"inbuilt"}var Tx="white",Ex={get cartesian(){return{seriesTypes:wu.cartesianTypes,commonOptions:["zoom","navigator"]}},get polar(){return{seriesTypes:wu.polarTypes,commonOptions:[]}},get hierarchy(){return{seriesTypes:wu.hierarchyTypes,commonOptions:[]}},get topology(){return{seriesTypes:wu.topologyTypes,commonOptions:[]}},get"flow-proportion"(){return{seriesTypes:wu.flowProportionTypes,commonOptions:[]}},get standalone(){return{seriesTypes:wu.standaloneTypes,commonOptions:[]}},get gauge(){return{seriesTypes:wu.gaugeTypes,commonOptions:[]}}},Rx={"radial-gauge":!0,"linear-gauge":!0};function Ox(t){return!0===Rx[t]}var zx=Object.values(Ex).reduce(((t,e)=>{let{commonOptions:i}=e;return t.concat(i)}),[]),jx=class t{static getAxisDefaults(t){return Xe(t,{title:{enabled:!1,text:"Axis Title",spacing:25,fontWeight:"normal",fontSize:13,fontFamily:Zd,color:Hd},label:{fontSize:12,fontFamily:Zd,padding:5,color:Hd,avoidCollisions:!0},line:{enabled:!0,width:1,stroke:Jd},tick:{enabled:!1,width:1,stroke:Jd},gridLine:{enabled:!0,style:[{stroke:Xd,lineDash:[]}]},crossLines:{enabled:!1,fill:qd,stroke:qd,fillOpacity:.1,strokeWidth:1,label:{enabled:!1,fontSize:12,fontFamily:Zd,padding:5,color:Hd}},crosshair:{enabled:!0}})}getChartDefaults(){return{minHeight:300,minWidth:300,background:{visible:!0,fill:tp},padding:{top:np,right:np,bottom:np,left:np},keyboard:{enabled:!0},title:{enabled:!1,text:"Title",fontWeight:"normal",fontSize:17,fontFamily:Zd,color:Hd,wrapping:"hyphenate",layoutStyle:ap,textAlign:sp},subtitle:{enabled:!1,text:"Subtitle",spacing:20,fontSize:13,fontFamily:Zd,color:Qd,wrapping:"hyphenate",layoutStyle:ap,textAlign:sp},footnote:{enabled:!1,text:"Footnote",spacing:20,fontSize:13,fontFamily:Zd,color:"rgb(140, 140, 140)",wrapping:"hyphenate",layoutStyle:ap,textAlign:sp},legend:{position:"bottom",spacing:30,listeners:{},toggleSeries:!0,item:{paddingX:16,paddingY:8,marker:{size:15,padding:8},showSeriesStroke:!0,label:{color:Hd,fontSize:12,fontFamily:Zd}},reverseOrder:!1,pagination:{marker:{size:12},activeStyle:{fill:Hd},inactiveStyle:{fill:Qd},highlightStyle:{fill:Hd},label:{color:Hd}}},tooltip:{enabled:!0,darkTheme:Yd,delay:0},overlays:{darkTheme:Yd},listeners:{}}}constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{overrides:e,palette:i}=Ys(t),n=this.createChartConfigPerChartType(this.getDefaults()),a={};e&&this.mergeOverrides(n,a,e);const{fills:s,strokes:r,...o}=this.getDefaultColors();this.palette=Xe(i,{fills:Object.values(s),strokes:Object.values(r),...o}),this.paletteType=Cx(i),this.config=Object.freeze(this.templateTheme(n)),this.presets=a}mergeOverrides(t,e,i){for(const{seriesTypes:n,commonOptions:a}of Object.values(Ex)){const e={...i.common};for(const t of zx)a.includes(t)||delete e[t];if(e)for(const i of n){const n=i;Ox(n)||(t[n]=Xe(e,t[n]))}}wu.seriesTypes.forEach((n=>{const a=n,s=i[a];Ox(a)?e[a]=s:t[a]=Xe(s,t[a])}))}createChartConfigPerChartType(t){for(const[e,{seriesTypes:i}]of Object.entries(Ex)){const n=Lu.get(e);for(const e of i)t[e]||(t[e]=Ys(n))}return t}getDefaults(){const e=(e,i)=>{const n={},a={axes:{},...Su.getThemeTemplates(),...this.getChartDefaults(),...Lu.get(e)};for(const s of i){n[s]=Xe(ku.getThemeTemplate(s),n[s]??Ys(a));const{axes:e}=n[s];for(const i of xu.keys())e[i]=Xe(e[i],xu.getThemeTemplate(i),t.cartesianAxisDefault[i])}return n};return Xe(e("cartesian",wu.cartesianTypes),e("polar",wu.polarTypes),e("hierarchy",wu.hierarchyTypes),e("topology",wu.topologyTypes),e("flow-proportion",wu.flowProportionTypes),e("standalone",wu.standaloneTypes),e("gauge",wu.gaugeTypes))}templateTheme(t){const e=Ys(t),i=this.getTemplateParameters();return Ws(e,(t=>{if(Ee(t))for(let e=0;e<t.length;e++){const n=t[e];i.has(n)&&(t[e]=i.get(n))}else for(const[e,n]of Object.entries(t))i.has(n)&&(t[e]=i.get(n))})),Ys(e)}getDefaultColors(){return{fills:Xy,strokes:Jy,up:{fill:Xy.GREEN,stroke:Jy.GREEN},down:{fill:Xy.RED,stroke:Jy.RED},neutral:{fill:Xy.GRAY,stroke:Jy.GRAY},altUp:{fill:Xy.BLUE,stroke:Jy.BLUE},altDown:{fill:Xy.ORANGE,stroke:Jy.ORANGE},altNeutral:{fill:Xy.GRAY,stroke:Jy.GRAY}}}getTemplateParameters(){const{isEnterprise:t}=sr,e=new Map;e.set(Yd,!1),e.set(Wd,t),e.set(Vd,!t),e.set(Zd,"Verdana, sans-serif"),e.set(Hd,"rgb(70, 70, 70)"),e.set(Kd,"white"),e.set(Qd,"rgb(140, 140, 140)"),e.set(Xd,"rgb(224,234,241)"),e.set(Jd,"rgb(195, 195, 195)"),e.set(qd,"rgb(70, 70, 70)"),e.set($d,Tx),e.set(tp,Tx),e.set(ep,"rgba(0, 0, 0, 0.5)"),e.set(bp,[Xy.ORANGE,Xy.YELLOW,Xy.GREEN]),e.set(vp,[Xy.GREEN,Xy.YELLOW,Xy.RED]),e.set(Mp,["#5090dc","#629be0","#73a6e3","#85b1e7","#96bcea","#a8c8ee","#b9d3f1","#cbdef5"]),e.set(np,20),e.set(ap,"block"),e.set(sp,"center"),e.set(Sp,["#ffffff","#e0e5ea","#c1ccd5","#a3b4c1","#859cad"]),e.set(Ip,["#ffffff","#c5cbd1","#a4b1bd","#8498a9","#648096"]),e.set(xp,Tx),e.set(Dp,Xy.BLUE),e.set(wp,Xy.BLUE),e.set(Np,Xy.BLUE),e.set(Lp,Tx),e.set(kp,"#fafafa"),e.set(Ap,"#dddddd"),e.set(Cp,"#000000"),e.set(Tp,"#181d1f"),e.set(Ep,"#e35c5c"),e.set(Rp,"#e35c5c"),e.set(Op,"#fafafa"),e.set(zp,"#dddddd"),e.set(jp,"#000000"),e.set(Pp,"top"),e.set(Bp,!1);const i=this.getDefaultColors();return e.set(rp,this.palette.up?.stroke??i.up.stroke),e.set(lp,this.palette.up?.fill??i.up.fill),e.set(op,this.palette.down?.stroke??i.down.stroke),e.set(cp,this.palette.down?.fill??i.down.fill),e.set(up,this.palette.neutral?.stroke??i.neutral.stroke),e.set(hp,this.palette.neutral?.fill??i.neutral.fill),e.set(dp,this.palette.altUp?.stroke??i.up.stroke),e.set(gp,this.palette.altUp?.fill??i.up.fill),e.set(pp,this.palette.altDown?.stroke??i.down.stroke),e.set(fp,this.palette.altDown?.fill??i.down.fill),e.set(yp,this.palette.altNeutral?.fill??i.altNeutral.fill),e.set(mp,this.palette.altNeutral?.stroke??i.altNeutral.stroke),e}};jx.cartesianAxisDefault={number:jx.getAxisDefaults({line:{enabled:!1}}),log:jx.getAxisDefaults({base:10,line:{enabled:!1},interval:{minSpacing:NaN}}),category:jx.getAxisDefaults({groupPaddingInner:.1,label:{autoRotate:!0},gridLine:{enabled:Bp},crosshair:{enabled:!1}}),time:jx.getAxisDefaults({gridLine:{enabled:Bp}}),"ordinal-time":jx.getAxisDefaults({groupPaddingInner:0,label:{autoRotate:!1},gridLine:{enabled:Bp}}),"angle-category":jx.getAxisDefaults({gridLine:{enabled:Bp}}),"angle-number":jx.getAxisDefaults({gridLine:{enabled:Bp}}),"radius-category":jx.getAxisDefaults({line:{enabled:!1}}),"radius-number":jx.getAxisDefaults({line:{enabled:!1}}),"grouped-category":jx.getAxisDefaults({tick:{enabled:!0}})};var Px=jx,Bx="#192232",Fx={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},Gx={BLUE:"#74a8e6",ORANGE:"#ffbe70",GREEN:"#6cb176",CYAN:"#75d4ef",YELLOW:"#f6e559",VIOLET:"#aa86d8",GRAY:"#a1a1a1",MAGENTA:"#ce7ab9",BROWN:"#997b52",RED:"#ff7872"},_x=class extends Px{getDefaultColors(){return{fills:Fx,strokes:Gx,up:{fill:Fx.GREEN,stroke:Gx.GREEN},down:{fill:Fx.RED,stroke:Gx.RED},neutral:{fill:Fx.GRAY,stroke:Gx.GRAY},altUp:{fill:Fx.BLUE,stroke:Gx.BLUE},altDown:{fill:Fx.ORANGE,stroke:Gx.ORANGE},altNeutral:{fill:Fx.GRAY,stroke:Gx.GRAY}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(Yd,!0),t.set(xp,Bx),t.set(Hd,"white"),t.set(Qd,"#7D91A0"),t.set(Xd,"#545A6E"),t.set(qd,"white"),t.set(bp,[Fx.ORANGE,Fx.YELLOW,Fx.GREEN]),t.set(vp,[Fx.GREEN,Fx.YELLOW,Fx.RED]),t.set(Mp,["#5090dc","#4882c6","#4073b0","#38659a","#305684","#28486e","#203a58","#182b42"]),t.set(Sp,["#192834","#253746","#324859","#3f596c","#4d6a80"]),t.set(Ip,["#192834","#3b5164","#496275","#577287","#668399"]),t.set(tp,Bx),t.set($d,Bx),t.set(Dp,Fx.BLUE),t.set(wp,"white"),t.set(Np,Fx.BLUE),t.set(Lp,Bx),t.set(kp,"#28313e"),t.set(Ap,"#4b525d"),t.set(Cp,"#ffffff"),t.set(Tp,"#ffffff"),t.set(Op,"#28313e"),t.set(zp,"#4b525d"),t.set(jp,"#ffffff"),t}constructor(t){super(t)}},Ux={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#A9A9A9"},Yx={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#909090"},Vx=class extends _x{getDefaultColors(){return{fills:{...Ux},strokes:{...Yx},up:{fill:Ux.GREEN,stroke:Yx.GREEN},down:{fill:Ux.RED,stroke:Yx.RED},neutral:{fill:Ux.BLUE,stroke:Yx.BLUE},altUp:{fill:Ux.GREEN,stroke:Yx.GREEN},altDown:{fill:Ux.RED,stroke:Yx.RED},altNeutral:{fill:Ux.GRAY,stroke:Yx.GRAY}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(bp,[Ux.GREEN,Ux.BLUE,Ux.RED]),t.set(Dp,Ux.BLUE),t.set(Np,Ux.BLUE),t.set(Xd,"#343A4E"),t.set(np,0),t.set(ap,"overlay"),t.set(sp,"left"),t.set(Pp,"bottom"),t.set(Bp,!0),t}},Wx={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#A9A9A9"},Zx={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#909090"},Hx=class extends Px{getDefaultColors(){return{fills:{...Wx},strokes:{...Zx},up:{fill:Wx.GREEN,stroke:Zx.GREEN},down:{fill:Wx.RED,stroke:Zx.RED},neutral:{fill:Wx.BLUE,stroke:Zx.BLUE},altUp:{fill:Wx.GREEN,stroke:Zx.GREEN},altDown:{fill:Wx.RED,stroke:Zx.RED},altNeutral:{fill:Wx.GRAY,stroke:Zx.GRAY}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(bp,[Wx.GREEN,Wx.BLUE,Wx.RED]),t.set(Dp,Wx.BLUE),t.set(Np,Wx.BLUE),t.set(Xd,"#F2F3F3"),t.set(np,0),t.set(ap,"overlay"),t.set(sp,"left"),t.set(Pp,"bottom"),t.set(Bp,!0),t}},Kx={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},$x={BLUE:"#90CAF9",ORANGE:"#FFCC80",GREEN:"#A5D6A7",CYAN:"#80DEEA",YELLOW:"#FFF9C4",VIOLET:"#B39DDB",GRAY:"#E0E0E0",MAGENTA:"#F48FB1",BROWN:"#A1887F",RED:"#EF9A9A"},Qx=class extends _x{getDefaultColors(){return{fills:Kx,strokes:$x,up:{fill:Kx.GREEN,stroke:$x.GREEN},down:{fill:Kx.RED,stroke:$x.RED},neutral:{fill:Kx.GRAY,stroke:$x.GRAY},altUp:{fill:Kx.BLUE,stroke:$x.BLUE},altDown:{fill:Kx.RED,stroke:$x.RED},altNeutral:{fill:Kx.GRAY,stroke:$x.GRAY}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(bp,[Kx.ORANGE,Kx.YELLOW,Kx.GREEN]),t.set(Mp,["#2196f3","#208FEC","#1E88E5","#1C7FDC","#1976d2","#176EC9","#1565c0"]),t.set(vp,[Kx.GREEN,Kx.YELLOW,Kx.RED]),t.set(Dp,Kx.BLUE),t.set(Np,Kx.BLUE),t}},Xx={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},Jx={BLUE:"#1565C0",ORANGE:"#E65100",GREEN:"#2E7D32",CYAN:"#00838F",YELLOW:"#F9A825",VIOLET:"#4527A0",GRAY:"#616161",MAGENTA:"#C2185B",BROWN:"#4E342E",RED:"#B71C1C"},qx=class extends Px{getDefaultColors(){return{fills:Xx,strokes:Jx,up:{fill:Xx.GREEN,stroke:Jx.GREEN},down:{fill:Xx.RED,stroke:Jx.RED},neutral:{fill:Xx.GRAY,stroke:Jx.GRAY},altUp:{fill:Xx.BLUE,stroke:Jx.BLUE},altDown:{fill:Xx.RED,stroke:Jx.RED},altNeutral:{fill:Xx.GRAY,stroke:Jx.GRAY}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(bp,[Xx.ORANGE,Xx.YELLOW,Xx.GREEN]),t.set(Mp,["#2196f3","#329EF4","#42a5f5","#53ADF6","#64b5f6","#7AC0F8","#90caf9"]),t.set(vp,[Xx.GREEN,Xx.YELLOW,Xx.RED]),t.set(Dp,Xx.BLUE),t.set(Np,Xx.BLUE),t}},tb={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4",GRAY:"#bbbbbb"},eb={BLUE:"#6698ff",PURPLE:"#c0a3ff",MAGENTA:"#fc8dfc",PINK:"#ff82b1",RED:"#ff9b70",ORANGE:"#ffcf4e",YELLOW:"#ffff58",GREEN:"#58dd70",CYAN:"#51e2c9",MODERATE_BLUE:"#4fd7ff",GRAY:"#eeeeee"},ib=class extends _x{getDefaultColors(){return{fills:tb,strokes:eb,up:{fill:tb.GREEN,stroke:eb.GREEN},down:{fill:tb.RED,stroke:eb.RED},neutral:{fill:tb.GRAY,stroke:eb.GRAY},altUp:{fill:tb.BLUE,stroke:eb.BLUE},altDown:{fill:tb.RED,stroke:eb.RED},altNeutral:{fill:tb.GRAY,stroke:eb.GRAY}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(bp,[tb.BLUE,tb.RED]),t.set(Mp,[tb.BLUE,tb.PURPLE,tb.MAGENTA,tb.PINK,tb.RED,tb.ORANGE,tb.YELLOW,tb.GREEN]),t.set(vp,[tb.BLUE,tb.RED]),t.set(Dp,tb.BLUE),t.set(Np,tb.BLUE),t}},nb={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4",GRAY:"#bbbbbb"},ab={BLUE:"#2346c9",PURPLE:"#7653d4",MAGENTA:"#a73da9",PINK:"#c32d66",RED:"#c84b1c",ORANGE:"#c87f00",YELLOW:"#c1b900",GREEN:"#008c1c",CYAN:"#00927c",MODERATE_BLUE:"#0087bb",GRAY:"#888888"},sb=class extends Px{getDefaultColors(){return{fills:nb,strokes:ab,up:{fill:nb.GREEN,stroke:ab.GREEN},down:{fill:nb.RED,stroke:ab.RED},neutral:{fill:nb.GRAY,stroke:ab.GRAY},altUp:{fill:nb.BLUE,stroke:ab.BLUE},altDown:{fill:nb.RED,stroke:ab.RED},altNeutral:{fill:nb.GRAY,stroke:ab.GRAY}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(bp,[nb.BLUE,nb.RED]),t.set(Mp,[nb.BLUE,nb.PURPLE,nb.MAGENTA,nb.PINK,nb.RED,nb.ORANGE,nb.YELLOW,nb.GREEN]),t.set(vp,[nb.BLUE,nb.RED]),t.set(Dp,nb.BLUE),t.set(Np,nb.BLUE),t}},rb={BLUE:"#4472C4",ORANGE:"#ED7D31",GRAY:"#A5A5A5",YELLOW:"#FFC000",MODERATE_BLUE:"#5B9BD5",GREEN:"#70AD47",DARK_GRAY:"#7B7B7B",DARK_BLUE:"#264478",VERY_DARK_GRAY:"#636363",DARK_YELLOW:"#997300"},ob={BLUE:"#6899ee",ORANGE:"#ffa55d",GRAY:"#cdcdcd",YELLOW:"#ffea53",MODERATE_BLUE:"#82c3ff",GREEN:"#96d56f",DARK_GRAY:"#a1a1a1",DARK_BLUE:"#47689f",VERY_DARK_GRAY:"#878787",DARK_YELLOW:"#c0993d"},lb=class extends _x{getDefaultColors(){return{fills:{...rb,RED:rb.ORANGE},strokes:{...ob,RED:ob.ORANGE},up:{fill:rb.GREEN,stroke:ob.GREEN},down:{fill:rb.ORANGE,stroke:ob.ORANGE},neutral:{fill:rb.GRAY,stroke:ob.GRAY},altUp:{fill:rb.BLUE,stroke:ob.BLUE},altDown:{fill:rb.ORANGE,stroke:ob.ORANGE},altNeutral:{fill:rb.GRAY,stroke:ob.GRAY}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(bp,[rb.ORANGE,rb.YELLOW,rb.GREEN]),t.set(vp,[rb.GREEN,rb.YELLOW,rb.ORANGE]),t.set(Dp,rb.BLUE),t.set(Np,rb.BLUE),t}},cb={BLUE:"#5281d5",ORANGE:"#ff8d44",GRAY:"#b5b5b5",YELLOW:"#ffd02f",MODERATE_BLUE:"#6aabe6",GREEN:"#7fbd57",DARK_GRAY:"#8a8a8a",DARK_BLUE:"#335287",VERY_DARK_GRAY:"#717171",DARK_YELLOW:"#a98220"},ub={BLUE:"#214d9b",ORANGE:"#c25600",GRAY:"#7f7f7f",YELLOW:"#d59800",MODERATE_BLUE:"#3575ac",GREEN:"#4b861a",DARK_GRAY:"#575757",DARK_BLUE:"#062253",VERY_DARK_GRAY:"#414141",DARK_YELLOW:"#734f00"},hb=class extends Px{getDefaultColors(){return{fills:{...cb,RED:cb.ORANGE},strokes:{...ub,RED:ub.ORANGE},up:{fill:cb.GREEN,stroke:ub.GREEN},down:{fill:cb.ORANGE,stroke:ub.ORANGE},neutral:{fill:ub.GRAY,stroke:ub.GRAY},altUp:{fill:cb.BLUE,stroke:ub.BLUE},altDown:{fill:cb.ORANGE,stroke:ub.ORANGE},altNeutral:{fill:cb.GRAY,stroke:ub.GRAY}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(bp,[cb.ORANGE,cb.YELLOW,cb.GREEN]),t.set(vp,[cb.GREEN,cb.YELLOW,cb.ORANGE]),t.set(Dp,cb.BLUE),t.set(Np,cb.BLUE),t}},db={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},pb={BLUE:"#67b7ff",ORANGE:"#ffc24d",GREEN:"#5cc86f",CYAN:"#54ebff",VIOLET:"#fff653",YELLOW:"#c18aff",GRAY:"#aeaeae",MAGENTA:"#f078d4",BROWN:"#ba8438",RED:"#ff726e"},gb=class extends _x{getDefaultColors(){return{fills:db,strokes:pb,up:{fill:db.GREEN,stroke:pb.GREEN},down:{fill:db.RED,stroke:pb.RED},neutral:{fill:db.GRAY,stroke:pb.GRAY},altUp:{fill:db.BLUE,stroke:pb.BLUE},altDown:{fill:db.ORANGE,stroke:pb.ORANGE},altNeutral:{fill:db.GRAY,stroke:pb.GRAY}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(bp,[db.ORANGE,db.YELLOW,db.GREEN]),t.set(Mp,["#0083ff","#0076e6","#0069cc","#005cb3","#004f99","#004280","#003466","#00274c"]),t.set(vp,[db.GREEN,db.YELLOW,db.RED]),t.set(Dp,db.BLUE),t.set(Np,db.BLUE),t}},fb={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},yb={BLUE:"#0f68c0",ORANGE:"#d47100",GREEN:"#007922",CYAN:"#009ac2",VIOLET:"#bca400",YELLOW:"#753cac",GRAY:"#646464",MAGENTA:"#9b2685",BROWN:"#6c3b00",RED:"#cb0021"},mb=class extends Px{getDefaultColors(){return{fills:fb,strokes:yb,up:{fill:fb.GREEN,stroke:yb.GREEN},down:{fill:fb.RED,stroke:yb.RED},neutral:{fill:fb.GRAY,stroke:yb.GRAY},altUp:{fill:fb.BLUE,stroke:yb.BLUE},altDown:{fill:fb.ORANGE,stroke:yb.ORANGE},altNeutral:{fill:fb.GRAY,stroke:yb.GRAY}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(bp,[fb.ORANGE,fb.YELLOW,fb.GREEN]),t.set(Mp,["#0083ff","#1a8fff","#339cff","#4da8ff","#66b5ff","#80c1ff","#99cdff","#b3daff"]),t.set(vp,[fb.GREEN,fb.YELLOW,fb.RED]),t.set(Dp,fb.BLUE),t.set(Np,fb.BLUE),t}},xb=()=>new Px,bb={"ag-default-dark":()=>new _x,"ag-sheets-dark":()=>new lb,"ag-polychroma-dark":()=>new ib,"ag-vivid-dark":()=>new gb,"ag-material-dark":()=>new Qx,"ag-financial-dark":()=>new Vx,null:xb,undefined:xb,"ag-default":xb,"ag-sheets":()=>new hb,"ag-polychroma":()=>new sb,"ag-vivid":()=>new mb,"ag-material":()=>new qx,"ag-financial":()=>new Hx};function vb(t){if(t instanceof Px)return t;if(null==t||"string"===typeof t){const e=bb[t];return e?e():(_.warnOnce(`the theme [${t}] is invalid, using [ag-default] instead.`),xb())}if(Mx(t,Mb,"theme")){const e=function(t){let e,i=t;const n=[];for(;"object"===typeof i;)e??(e=i.palette),i.overrides&&n.push(i.overrides),i=i.baseTheme;return{baseTheme:i,overrides:Xe(...n),palette:e}}(t);return new((e.baseTheme?vb(e.baseTheme):xb()).constructor)(e)}return xb()}var Mb={baseTheme:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return Dx((t=>e.some((e=>e(t)))),e.map((t=>t[bx])).filter(Boolean).join(" or "))}(Nx,wx),overrides:wx,palette:{fills:Ax(Nx),strokes:Ax(Nx),up:{fill:Nx,stroke:Nx},down:{fill:Nx,stroke:Nx},neutral:{fill:Nx,stroke:Nx}}},Sb=new Set(["map-shape-background","map-line-background"]),Ib=class{constructor(t,e,i,n){var a;this.debug=ts.create(!0,"opts"),this.optionMetadata=n??{},this.processedOverrides=e??{};const s={shallow:["data"]};this.userOptions=Ys(t,s);let r=Ys(t,s);const{presetType:o}=this.optionMetadata;if(null!=o){const t=mx[o],e=r,i=r.type,n=null!=i?vb(r.theme).presets[i]:void 0;this.debug(">>> AgCharts.createOrUpdate() - applying preset",e),r=t?.(e,n,(()=>this.activeTheme))??r}sr.isEnterprise||xx(r),this.activeTheme=vb(r.theme),o&&(r=this.activeTheme.templateTheme(r)),this.sanityCheckAndCleanup(r),this.defaultAxes=this.getDefaultAxes(r),this.specialOverrides=this.specialOverridesDefaults({...i});const l=this.optionsType(r),{axes:c={},annotations:{axesButtons:u=null,...h}={},series:d,...p}=this.getSeriesThemeConfig(l);this.processedOptions=Ys(Xe(e,r,null!=u?{annotations:{axesButtons:u}}:{},p,this.defaultAxes),s),this.processAxesOptions(this.processedOptions,c),this.processSeriesOptions(this.processedOptions),this.processMiniChartSeriesOptions(this.processedOptions),this.annotationThemes=h,(zu(this.processedOptions)||function(t){const e=Ou(t);return ju(t)&&"pie"!==e&&"donut"!==e}(this.processedOptions))&&null==this.processedOptions.legend?.enabled&&((a=this.processedOptions).legend??(a.legend={}),this.processedOptions.legend.enabled=this.processedOptions.series.length>1),this.enableConfiguredOptions(this.processedOptions,r),sr.isEnterprise||xx(this.processedOptions,!0)}getOptions(){return this.processedOptions??{}}diffOptions(t){return Us(t,this.processedOptions)}getSeriesThemeConfig(t){const e=Ys(this.activeTheme?.config[t]??{});return this.removeLeftoverSymbols(e),e}getDefaultAxes(t){const e=this.optionsType(t),i=t.series?.find((t=>(t.type??"line")===e))??{};return ku.cloneDefaultAxes(e,i)}optionsType(t){return t.series?.[0]?.type??"line"}sanityCheckAndCleanup(t){this.deprecationWarnings(t),this.axesTypeIntegrity(t),this.seriesTypeIntegrity(t),this.soloSeriesIntegrity(t),this.removeDisabledOptions(t),this.removeLeftoverSymbols(t),t.series?.some((t=>"bullet"===t.type))&&null!=t.sync&&!1!==t.sync.enabled&&(_.warnOnce("bullet series cannot be synced, disabling synchronization."),delete t.sync)}processAxesOptions(t,e){"axes"in t&&(t.axes=t.axes.map((t=>{const{crossLines:i,...n}=Xe(e[t.type]?.[t.position],e[t.type]);t.crossLines&&(t.crossLines=Je(t.crossLines,i));const a=n.gridLine?.style;t.gridLine?.style&&a?.length&&(t.gridLine.style=t.gridLine.style.map(((t,e)=>null!=t.stroke||null!=t.lineDash?Xe(t,a.at(e%a.length)):t)));const{top:s,right:r,bottom:o,left:l,...c}=Xe(t,n);return c})))}processSeriesOptions(t){const e=this.getTooltipPositionDefaults(t),i=Be(t.theme)?Cx(t.theme?.palette):"inbuilt",n={colourIndex:0,userPalette:i},a=t.series?.map((a=>{a.type??(a.type=this.getDefaultSeriesType(t));const{innerLabels:s,...r}=this.getSeriesThemeConfig(a.type).series??{},o=Sb.has(a.type)?{colourIndex:0,userPalette:i}:n,l=this.getSeriesPalette(a.type,o),c=this.getTooltipRangeDefaults(t,a.type),u=Xe(this.getSeriesGroupingOptions(a),a,e,c,r,l,{visible:!0});return u.innerLabels&&(u.innerLabels=Je(u.innerLabels,s)),this.activeTheme.templateTheme(u)}));t.series=this.setSeriesGroupingOptions(a??[])}processMiniChartSeriesOptions(t){let e=t.navigator?.miniChart?.series;if(null==e)return;const i={colourIndex:0,userPalette:Be(t.theme)?Cx(t.theme.palette):"inbuilt"};e=e.map((t=>{t.type??(t.type="line");const{innerLabels:e,...n}=this.getSeriesThemeConfig(t.type).series??{},a=Xe(this.getSeriesGroupingOptions(t),t,n,this.getSeriesPalette(t.type,i));return this.activeTheme.templateTheme(a)})),t.navigator.miniChart.series=this.setSeriesGroupingOptions(e)}getSeriesPalette(t,e){const i=ku.getPaletteFactory(t),{colourIndex:n,userPalette:a}=e,{fills:s=[],strokes:r=[]}=this.activeTheme.palette;return i?.({userPalette:a,colorsCount:Math.max(s.length,r.length),themeTemplateParameters:this.activeTheme.getTemplateParameters(),palette:this.activeTheme.palette,takeColors:t=>(e.colourIndex+=t,{fills:Oi(s,t,n),strokes:Oi(r,t,n)})})}getSeriesGroupingOptions(t){const e=ku.isGroupable(t.type),i=ku.isStackable(t.type),n=ku.isStackedByDefault(t.type);t.grouped&&!e&&_.warnOnce(`unsupported grouping of series type "${t.type}".`),!t.stacked&&!t.stackGroup||i||_.warnOnce(`unsupported stacking of series type "${t.type}".`);let{grouped:a,stacked:s}=t;return s??(s=(n||null!=t.stackGroup)&&!(e&&a)),a??(a=!0),{stacked:i&&s,grouped:e&&a&&!(i&&s)}}setSeriesGroupingOptions(t){const e=this.getSeriesGrouping(t);this.debug("setSeriesGroupingOptions() - series grouping: ",e);const i={},n=e.reduce(((t,e)=>{var i;return"default"===e.groupType||(t[i=e.seriesType]??(t[i]=0),t[e.seriesType]+="stack"===e.groupType?1:e.series.length),t}),{});return e.flatMap((t=>{var e;switch(i[e=t.seriesType]??(i[e]=0),t.groupType){case"stack":{const e=i[t.seriesType]++;return t.series.map(((i,a)=>Object.assign(i,{seriesGrouping:{groupId:t.groupId,groupIndex:e,groupCount:n[t.seriesType],stackIndex:a,stackCount:t.series.length}})))}case"group":return t.series.map((e=>Object.assign(e,{seriesGrouping:{groupId:t.groupId,groupIndex:i[t.seriesType]++,groupCount:n[t.seriesType],stackIndex:0,stackCount:0}})))}return t.series})).map((t=>{let{stacked:e,grouped:i,...n}=t;return n}))}getSeriesGroupId(t){return[t.type,t.xKey,t.stacked?t.stackGroup??"stacked":"grouped"].filter(Boolean).join("-")}getSeriesGrouping(t){const e=new Map;return t.reduce(((t,i)=>{const n=i.type;if(i.stacked||i.grouped){const a=this.getSeriesGroupId(i);if(!e.has(a)){const s={groupType:i.stacked?"stack":"group",seriesType:n,series:[],groupId:a};e.set(a,s),t.push(s)}e.get(a).series.push(i)}else t.push({groupType:"default",seriesType:n,series:[i],groupId:"__default__"});return t}),[])}getDefaultSeriesType(t){if(zu(t))return"line";if(ju(t))return"pie";if(Pu(t))return"treemap";if(Bu(t))return"map-shape";if(Fu(t))return"sankey";if(Gu(t))return"pyramid";if(_u(t))return"radial-gauge";throw new Error("Invalid chart options type detected.")}getTooltipPositionDefaults(t){const e=t.tooltip?.position;if(!Ge(e))return;const{type:i,xOffset:n,yOffset:a}=e,s={};return _e(i)&&Ze(j,i)&&(s.type=i),Ye(n)&&(s.xOffset=n),Ye(a)&&(s.yOffset=a),{tooltip:{position:s}}}getTooltipRangeDefaults(t,e){return{tooltip:{range:t.tooltip?.range??ku.getTooltipDefauls(e)?.range}}}deprecationWarnings(t){Object.entries({yKeys:"yKey",yNames:"yName"}).forEach((e=>{let[i,n]=e;t.series?.some((t=>null!=t[i]))&&_.warnOnce(`Property [series.${i}] is deprecated, please use [series.${n}] and multiple series instead.`)}))}axesTypeIntegrity(t){if("axes"in t){const i=t.axes??[];for(const{type:n}of i)if(null==(e=n)||!xu.has(e)){delete t.axes;const e=xu.publicKeys().join(", ");_.warnOnce(`unknown axis type: ${n}; expected one of: ${e}`)}}var e}seriesTypeIntegrity(t){t.series=t.series?.filter((t=>{let{type:e}=t;if(null==e||null!=(i=e)&&wu.has(i)||function(t){return bu.some((e=>"series"===e.type&&e.identifier===t))}(e))return!0;var i;_.warnOnce(`unknown series type: ${e}; expected one of: ${Nu.seriesTypes.join(", ")}`)}))}soloSeriesIntegrity(t){const e=t.series;if(e&&e.length>1&&e.some((t=>ku.isSolo(t.type)))){const i=this.optionsType(t);if(ku.isSolo(i))_.warn(`series[0] of type '${i}' is incompatible with other series types. Only processing series[0]`),t.series=e.slice(0,1);else{const{solo:i,nonSolo:n}=Ri(e,(t=>ku.isSolo(t.type)?"solo":"nonSolo")),a=Ei(i.map((t=>t.type))).join(", ");_.warn(`Unable to mix these series types with the lead series type: ${a}`),t.series=n}}}enableConfiguredOptions(t,e){Ws(e,((t,e)=>{e&&"enabled"in e&&!e._enabledFromTheme&&null==t.enabled&&(e.enabled=!0)}),{skip:["data","theme"]},t),Ws(t,(t=>{null!=t._enabledFromTheme&&delete t._enabledFromTheme}),{skip:["data","theme"]})}removeDisabledOptions(t){Ws(t,(t=>{"enabled"in t&&!1===t.enabled&&Object.keys(t).forEach((e=>{"enabled"!==e&&delete t[e]}))}),{skip:["data","theme"]})}removeLeftoverSymbols(t){Ws(t,(t=>{if(t&&Be(t))for(const[e,i]of Object.entries(t))He(i)&&delete t[e]}),{skip:["data"]})}specialOverridesDefaults(t){if(null!=t.window?Zt(t.window):"undefined"!==typeof window?t.window=window:"undefined"!==typeof global&&(t.window=global.window),null!=t.document?Wt(t.document):"undefined"!==typeof document?t.document=document:"undefined"!==typeof global&&(t.document=global.document),null==t.window)throw new Error("AG Charts - unable to resolve global window");if(null==t.document)throw new Error("AG Charts - unable to resolve global document");return t}},Db=ts.create(!0,"opts");function wb(t){if(zu(t))return"cartesian";if(ju(t))return"polar";if(Pu(t))return"hierarchy";if(Bu(t))return"topology";if(Fu(t))return"flow-proportion";if(Gu(t))return"standalone";if(_u(t))return"gauge";throw new Error(`AG Chart - unknown type of chart for options with type: ${t.type}`)}var Nb=class{static licenseCheck(t){this.licenseChecked||(this.licenseManager=sr.licenseManager?.(t),this.licenseManager?.setLicenseKey(this.licenseKey,this.gridContext),this.licenseManager?.validateLicense(),this.licenseChecked=!0)}static setLicenseKey(t){this.licenseKey=t}static setGridContext(t){this.gridContext=t}static getLicenseDetails(t){return sr.licenseManager?.({}).getLicenseDetails(t)}static getInstance(t){return kb.getInstance(t)}static create(t,e){this.licenseCheck(t);const i=kb.createOrUpdate({userOptions:t,licenseManager:this.licenseManager,styles:null!=sr.styles?[["ag-charts-enterprise",sr.styles]]:[],optionsMetadata:e});return this.licenseManager?.isDisplayWatermark()&&this.licenseManager&&sr.injectWatermark?.(i.chart.ctx.domManager,this.licenseManager.getWatermarkMessage()),i}static createFinancialChart(t){return this.create(t,{presetType:"price-volume"})}static createGauge(t){return this.create(t,{presetType:"gauge"})}static __createSparkline(t){return this.create(t,{presetType:"sparkline"})}};Nb.licenseChecked=!1,Nb.gridContext=!1;var Lb=class t{static getInstance(t){const e=lh.getInstance(t);return e?$h.chartInstances.get(e):void 0}static initialiseModules(){t.initialised||(Fm(),Gm(),t.initialised=!0)}static createOrUpdate(e){let{proxy:i}=e;const{userOptions:n,licenseManager:a,styles:s,processedOverrides:r=i?.chart.chartOptions.processedOverrides??{},specialOverrides:o=i?.chart.chartOptions.specialOverrides??{},optionsMetadata:l=i?.chart.chartOptions.optionMetadata??{}}=e,{presetType:c}=l;t.initialiseModules(),Db(">>> AgCharts.createOrUpdate() user options",n);let u=n;Nb.optionsMutationFn&&(u=Nb.optionsMutationFn(u,c),Db(">>> AgCharts.createOrUpdate() MUTATED user options",u));const{overrideDevicePixelRatio:h,document:d,window:p,styleContainer:g,...f}=u,y=new Ib(f,r,{...o,document:d,window:p,overrideDevicePixelRatio:h,styleContainer:g},l);let m=i?.chart;return null!=m&&wb(y.processedOptions)===wb(m?.chartOptions.processedOptions)||(m=t.createChartInstance(y,m),s?.forEach((t=>{let[e,i]=t;m?.ctx.domManager.addStyles(e,i)}))),null==i?i=new $h(m,t.callbackApi,a):i.chart=m,Db.check()&&"undefined"!==typeof window&&(window.agChartInstances??(window.agChartInstances={}),window.agChartInstances[m.id]=m),m.queuedUserOptions.push(n),m.requestFactoryUpdate((t=>{t.applyOptions(y);const e=t.queuedUserOptions.indexOf(n)+1;t.queuedUserOptions.splice(0,e)})),i}static updateUserDelta(e,i){Ws(i=Ys(i,{shallow:["data"]}),(t=>{if("object"===typeof t)for(const[e,i]of Object.entries(t))"undefined"===typeof i&&Object.assign(t,{[e]:Symbol("UNSET")})}),{skip:["data"]});const{chart:n}=e,a=n.getOptions(),s=Xe(i,a);Db(">>> AgCharts.updateUserDelta() user delta",i),Db("AgCharts.updateUserDelta() - base options",a),t.createOrUpdate({userOptions:s,proxy:e})}static createChartInstance(e,i){const n=i?.destroy({keepTransferableResources:!0});return new(t.getChartByOptions(e.processedOptions))(e,n)}static getChartByOptions(t){if(zu(t))return Hh;if(Pu(t))return Vm;if(ju(t))return Wm;if(Bu(t))return ix;if(Fu(t))return _m;if(Gu(t))return Km;if(_u(t))return Ym;throw new Error("AG Charts - couldn't apply configuration, check options are correctly structured and series types are specified")}};Lb.caretaker=new sl(il),Lb.initialised=!1,Lb.callbackApi={caretaker:Lb.caretaker,create:(t,e,i,n)=>Lb.createOrUpdate({userOptions:t,processedOverrides:e,specialOverrides:i,optionsMetadata:n}),update:(t,e)=>Lb.createOrUpdate({userOptions:t,proxy:e}),updateUserDelta:(t,e)=>Lb.updateUserDelta(t,e)};var kb=Lb;E({},{Arc:()=>Ab,ArrowDown:()=>Pb,ArrowUp:()=>jb,BBox:()=>ue,BandScale:()=>Ki,Caption:()=>xr,ChangeDetectableProperties:()=>Ag,Circle:()=>mh,ConicGradient:()=>Cb,ContinuousScale:()=>Li,Diamond:()=>Mh,DropShadow:()=>Cg,ExtendedPath2D:()=>Bl,Gradient:()=>Ms,Group:()=>Ka,HdpiCanvas:()=>Xl,Image:()=>gd,Label:()=>Ir,Layer:()=>vr,Line:()=>Ns,LinearGradient:()=>Ss,LinearScale:()=>Jh,Marker:()=>yh,Node:()=>ye,OrdinalTimeScale:()=>Ca,Path:()=>Gl,PointerEvents:()=>ge,RadialColumnShape:()=>Eb,Rect:()=>ld,RedrawType:()=>he,Rotatable:()=>Ya,RotatableGroup:()=>Qa,RotatableText:()=>Os,Scalable:()=>Va,ScalableGroup:()=>$a,Scene:()=>cc,SceneChangeDetection:()=>de,ScenePathChangeDetection:()=>Fl,Sector:()=>Qy,SectorBox:()=>Fy,Selection:()=>es,Shape:()=>ws,Square:()=>Nh,SvgPath:()=>Ob,Text:()=>Rs,Tooltip:()=>mr,Transformable:()=>Za,TransformableText:()=>zs,Translatable:()=>Wa,TranslatableGroup:()=>Xa,TranslatableLayer:()=>Mr,Triangle:()=>Ah,calculateDerivativeExtrema:()=>jl,calculateDerivativeExtremaXY:()=>Pl,drawCorner:()=>ad,easing:()=>si,evaluateBezier:()=>Rl,getFont:()=>Fb,getMarker:()=>Rh,getRadialColumnWidth:()=>Rb,motion:()=>Bb,sectorBox:()=>Gy,solveBezier:()=>Ol,splitBezier:()=>zl,toRadians:()=>os,toTooltipHtml:()=>fr});var Ab=class extends Gl{constructor(){super(),this.centerX=0,this.centerY=0,this.radius=10,this.startAngle=0,this.endAngle=2*Math.PI,this.counterClockwise=!1,this.type=0,this.restoreOwnStyles()}get fullPie(){return ee(ns(this.startAngle),ns(this.endAngle))}updatePath(){const t=this.path;t.clear(),t.arc(this.centerX,this.centerY,this.radius,this.startAngle,this.endAngle,this.counterClockwise),1===this.type?t.closePath():2!==this.type||this.fullPie||(t.lineTo(this.centerX,this.centerY),t.closePath())}computeBBox(){return new ue(this.centerX-this.radius,this.centerY-this.radius,2*this.radius,2*this.radius)}isPointInPath(t,e){const i=this.getBBox();return 0!==this.type&&i.containsPoint(t,e)&&this.path.isPointInPath(t,e)}};Ab.className="Arc",Ab.defaultStyles={...ws.defaultStyles,lineWidth:1,fillStyle:null},R([Fl()],Ab.prototype,"centerX",2),R([Fl()],Ab.prototype,"centerY",2),R([Fl()],Ab.prototype,"radius",2),R([Fl()],Ab.prototype,"startAngle",2),R([Fl()],Ab.prototype,"endAngle",2),R([Fl()],Ab.prototype,"counterClockwise",2),R([Fl()],Ab.prototype,"type",2);var Cb=class extends Ms{constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(t,e,arguments.length>3?arguments[3]:void 0),this.angle=i}createCanvasGradient(t,e){const{colorSpace:i,stops:n,angle:a}=this,s=ns(os(a+90));if(!("createConicGradient"in t)){return new Ss(i,n,a).createCanvasGradient(t,e)}const r=e.x+.5*e.width,o=e.y+.5*e.height;return t.createConicGradient(s,r,o)}};function Tb(t,e,i){const n=Math.sqrt(t**2+e**2),a=Math.atan2(e,t)+i;return{x:Math.cos(a)*n,y:Math.sin(a)*n}}var Eb=class extends Gl{constructor(){super(...arguments),this.isBeveled=!0,this.columnWidth=0,this.startAngle=0,this.endAngle=0,this.outerRadius=0,this.innerRadius=0,this.axisInnerRadius=0,this.axisOuterRadius=0,this.isRadiusAxisReversed=!1}set cornerRadius(t){}computeBBox(){const{innerRadius:t,outerRadius:e,columnWidth:i}=this,n=this.getRotation(),a=-i/2,s=i/2,r=-e,o=-t;let l=1/0,c=1/0,u=-1/0,h=-1/0;for(let d=0;d<4;d+=1){const{x:t,y:e}=Tb(d%2===0?a:s,d<2?r:o,n);l=Math.min(t,l),c=Math.min(e,c),u=Math.max(t,u),h=Math.max(e,h)}return new ue(l,c,u-l,h-c)}getRotation(){const{startAngle:t,endAngle:e}=this;return ns(t+us(t,e)/2+Math.PI/2)}updatePath(){const{isBeveled:t}=this;t?this.updateBeveledPath():this.updateRectangularPath(),this.checkPathDirty()}updateRectangularPath(){const{columnWidth:t,innerRadius:e,outerRadius:i,path:n}=this,a=-t/2,s=t/2,r=-i,o=-e,l=this.getRotation(),c=[[a,o],[a,r],[s,r],[s,o]].map((t=>{let[e,i]=t;return Tb(e,i,l)}));n.clear(!0),n.moveTo(c[0].x,c[0].y),n.lineTo(c[1].x,c[1].y),n.lineTo(c[2].x,c[2].y),n.lineTo(c[3].x,c[3].y),n.closePath()}updateBeveledPath(){const{columnWidth:t,path:e,outerRadius:i,innerRadius:n,axisInnerRadius:a,axisOuterRadius:s,isRadiusAxisReversed:r}=this,o=ee(n,a),l=Math.asin(t/2/n),c=this.getRotation(),u=(t,e)=>Tb(t,e,c),h=(t,e)=>Math.sqrt(t**2+e**2),d=(t,e)=>e>t?0:Math.sqrt(t**2-e**2),p=(t,e,i)=>i?t<e:t>e,g=o&&!isNaN(l)&&l<Math.PI/6;let f=-t/2,y=t/2;const m=-i,x=-n*(g?Math.cos(l):1),b=p(s,h(n,t/2),!r);if(b){const t=d(s,n);f=-t,y=t}e.clear(!0);const v=u(f,x);e.moveTo(v.x,v.y);const M=ee(n,i),S=p(s,h(i,t/2),!r);if(M&&g)e.arc(0,0,n,ns(-l-Math.PI/2)+c,ns(l-Math.PI/2)+c,!1);else if(S){const n=-d(s,t/2),a=d(s,i);if(!b){const t=u(f,n);e.lineTo(t.x,t.y)}if(e.arc(0,0,s,Math.atan2(n,f)+c,Math.atan2(m,-a)+c,!1),!ee(a,0)){const t=u(a,m);e.lineTo(t.x,t.y)}e.arc(0,0,s,Math.atan2(m,a)+c,Math.atan2(n,y)+c,!1)}else{const t=u(f,m),i=u(y,m);e.lineTo(t.x,t.y),e.lineTo(i.x,i.y)}const I=u(y,x);if(e.lineTo(I.x,I.y),g)e.arc(0,0,n,ns(l-Math.PI/2)+c,ns(-l-Math.PI/2)+c,!0);else{const t=u(f,x);e.lineTo(t.x,t.y)}e.closePath()}};function Rb(t,e,i,n,a){const s=us(t,e),r=s*(1-n)/2;if(t+=r,e-=r,s<.001)return 2*i*a;if(s>=2*Math.PI){const i=t+s/2;t=i-Math.PI,e=i+Math.PI}const o=i*Math.cos(t),l=i*Math.sin(t),c=i*Math.cos(e),u=i*Math.sin(e),h=Math.floor(Math.sqrt((o-c)**2+(l-u)**2)),d=2*i*a;return Math.max(1,Math.min(d,h))}Eb.className="RadialColumnShape",R([Fl()],Eb.prototype,"isBeveled",2),R([Fl()],Eb.prototype,"columnWidth",2),R([Fl()],Eb.prototype,"startAngle",2),R([Fl()],Eb.prototype,"endAngle",2),R([Fl()],Eb.prototype,"outerRadius",2),R([Fl()],Eb.prototype,"innerRadius",2),R([Fl()],Eb.prototype,"axisInnerRadius",2),R([Fl()],Eb.prototype,"axisOuterRadius",2),R([Fl()],Eb.prototype,"isRadiusAxisReversed",2);var Ob=class extends Gl{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";super(),this.x=0,this.y=0,this.commands=[],this._d="",this.d=t}get d(){return this._d}set d(t){if(t!==this._d){this._d=t,this.commands.length=0;for(const[e,i,n]of t.matchAll(/([A-Z])([0-9. ]*)/g)){const t=n.split(/\s+/g).map(Number);this.commands.push([i,t])}this.checkPathDirty()}}updatePath(){const{path:t,x:e,y:i}=this;t.clear();let n=e,a=i;for(const[s,r]of this.commands)switch(s){case"M":t.moveTo(e+r[0],i+r[1]),n=e+r[0];break;case"C":t.cubicCurveTo(e+r[0],i+r[1],e+r[2],i+r[3],e+r[4],i+r[5]),n=e+r[4],a=i+r[5];break;case"H":t.lineTo(e+r[0],a),n=i+r[0];break;case"L":t.lineTo(e+r[0],i+r[1]),n=e+r[0],a=i+r[1];break;case"V":t.lineTo(n,i+r[0]),a=i+r[0];break;case"Z":t.closePath();break;default:throw new Error(`Could not translate command '${s}' with '${r.join(" ")}'`)}t.closePath()}};R([Fl()],Ob.prototype,"x",2),R([Fl()],Ob.prototype,"y",2);var zb=class t extends yh{updatePath(){const e=this.size/2;super.applyPath(e,t.moves)}};zb.className="ArrowUp",zb.moves=[{x:0,y:0,t:"move"},{x:1,y:1.2},{x:-.5,y:0},{x:0,y:.8},{x:-1,y:0},{x:0,y:-.8},{x:-.5,y:0}];var jb=zb,Pb=class extends yh{updatePath(){const t=this.size/2;super.applyPath(t,jb.moves.map((t=>({x:-1*t.x,y:-1*t.y}))))}};Pb.className="ArrowDown";var Bb={...kt,...ta},Fb=Cs.toFontString;E({},{CARTESIAN_AXIS_TYPE:()=>Gd,CARTESIAN_POSITION:()=>Fd,ChartTheme:()=>Px,DEFAULT_ANNOTATION_BACKGROUND_FILL:()=>Np,DEFAULT_ANNOTATION_COLOR:()=>Dp,DEFAULT_ANNOTATION_HANDLE_FILL:()=>Lp,DEFAULT_ANNOTATION_STATISTICS_COLOR:()=>Cp,DEFAULT_ANNOTATION_STATISTICS_DIVIDER_STROKE:()=>Tp,DEFAULT_ANNOTATION_STATISTICS_DOWN_FILL:()=>Ep,DEFAULT_ANNOTATION_STATISTICS_DOWN_STROKE:()=>Rp,DEFAULT_ANNOTATION_STATISTICS_FILL:()=>kp,DEFAULT_ANNOTATION_STATISTICS_STROKE:()=>Ap,DEFAULT_AXIS_GRID_COLOUR:()=>Xd,DEFAULT_AXIS_LINE_COLOUR:()=>Jd,DEFAULT_BACKGROUND_COLOUR:()=>tp,DEFAULT_CAPTION_ALIGNMENT:()=>sp,DEFAULT_CAPTION_LAYOUT_STYLE:()=>ap,DEFAULT_COLOURS:()=>ip,DEFAULT_CROSS_LINES_COLOUR:()=>qd,DEFAULT_DIVERGING_SERIES_COLOR_RANGE:()=>bp,DEFAULT_FONT_FAMILY:()=>Zd,DEFAULT_FUNNEL_SERIES_COLOR_RANGE:()=>Mp,DEFAULT_GAUGE_SERIES_COLOR_RANGE:()=>vp,DEFAULT_GRIDLINE_ENABLED:()=>Bp,DEFAULT_HIERARCHY_FILLS:()=>Sp,DEFAULT_HIERARCHY_STROKES:()=>Ip,DEFAULT_INSIDE_SERIES_LABEL_COLOUR:()=>$d,DEFAULT_INVERTED_LABEL_COLOUR:()=>Kd,DEFAULT_LABEL_COLOUR:()=>Hd,DEFAULT_MUTED_LABEL_COLOUR:()=>Qd,DEFAULT_PADDING:()=>np,DEFAULT_POLAR_SERIES_STROKE:()=>xp,DEFAULT_SHADOW_COLOUR:()=>ep,DEFAULT_TEXTBOX_COLOR:()=>jp,DEFAULT_TEXTBOX_FILL:()=>Op,DEFAULT_TEXTBOX_STROKE:()=>zp,DEFAULT_TEXT_ANNOTATION_COLOR:()=>wp,DEFAULT_TOOLBAR_POSITION:()=>Pp,FONT_SIZE:()=>Pd,FONT_WEIGHT:()=>Bd,IS_COMMUNITY:()=>Vd,IS_DARK_THEME:()=>Yd,IS_ENTERPRISE:()=>Wd,PALETTE_ALT_DOWN_FILL:()=>fp,PALETTE_ALT_DOWN_STROKE:()=>pp,PALETTE_ALT_NEUTRAL_FILL:()=>yp,PALETTE_ALT_NEUTRAL_STROKE:()=>mp,PALETTE_ALT_UP_FILL:()=>gp,PALETTE_ALT_UP_STROKE:()=>dp,PALETTE_DOWN_FILL:()=>cp,PALETTE_DOWN_STROKE:()=>op,PALETTE_NEUTRAL_FILL:()=>hp,PALETTE_NEUTRAL_STROKE:()=>up,PALETTE_UP_FILL:()=>lp,PALETTE_UP_STROKE:()=>rp,POLAR_AXIS_SHAPE:()=>Ud,POLAR_AXIS_TYPE:()=>_d,getChartTheme:()=>vb,markerPaletteFactory:()=>jd,singleSeriesPaletteFactory:()=>zd,swapAxisCondition:()=>ey,themes:()=>Gb});var Gb=qe(bb,(t=>t?.()));E({},{BandScale:()=>Ki,ColorScale:()=>vs,ContinuousScale:()=>Li,Invalidating:()=>wi,LinearScale:()=>Jh,OrdinalTimeScale:()=>Ca,TimeScale:()=>La});E({},{Color:()=>Me,Debug:()=>ts,Logger:()=>_,Padding:()=>Vo,TimeInterval:()=>U,angleBetween:()=>us,angleDiff:()=>cs,arcDistanceSquared:()=>ys,areArrayNumbersEqual:()=>Gs,checkDatum:()=>Er,clamp:()=>Xt,clampArray:()=>Jt,clockwiseAngle:()=>ds,clockwiseAngles:()=>ps,countFractionDigits:()=>re,createId:()=>Tt,day:()=>lt,deepClone:()=>Ys,displacePointFromVector:()=>hs,extent:()=>ki,findMinMax:()=>qt,findRangeExtent:()=>te,formatNormalizedPercentage:()=>oe,formatPercentage:()=>le,friday:()=>yt,generateUUID:()=>Et,getAttribute:()=>lr,hour:()=>rt,interpolateColor:()=>Ie,interpolateNumber:()=>Se,isBetweenAngles:()=>rs,isContinuous:()=>Tr,isDate:()=>ze,isDenseInterval:()=>Da,isEqual:()=>ee,isNegative:()=>ie,isNumber:()=>Ye,isNumberEqual:()=>ee,isNumberObject:()=>Cr,isString:()=>_e,isStringObject:()=>Ar,jsonApply:()=>Zs,jsonDiff:()=>Us,jsonWalk:()=>Ws,lineDistanceSquared:()=>fs,millisecond:()=>V,minute:()=>nt,mod:()=>se,monday:()=>dt,month:()=>bt,normalisedExtentWithMetadata:()=>Ai,normalizeAngle180:()=>ss,normalizeAngle360:()=>ns,normalizeAngle360Inclusive:()=>as,range:()=>Ia,resetIds:()=>Ct,round:()=>ne,sanitizeHtml:()=>Up,saturday:()=>mt,second:()=>tt,setAttribute:()=>rr,setAttributes:()=>or,setElementStyle:()=>cr,shallowClone:()=>Vs,sunday:()=>ht,thursday:()=>ft,tickFormat:()=>Sa,tickStep:()=>va,ticks:()=>xa,toDegrees:()=>ls,toFixed:()=>ae,toRadians:()=>os,transformIntegratedCategoryValue:()=>Rr,tuesday:()=>pt,utcDay:()=>wt,utcHour:()=>Dt,utcMinute:()=>It,utcMonth:()=>Nt,utcYear:()=>Lt,wednesday:()=>gt,year:()=>Mt});function _b(){return(t,e)=>{const i=[`Property [${t}] is deprecated.`,e].filter(Boolean).join(" ");_.warnOnce(i)}}function Ub(t,e){const i=_b(),n=e?.default;return Le(((e,a,s)=>(s!==n&&i(a.toString(),t),s)))}function Yb(t,e){const i=_b();return Le(((n,a,s)=>(s!==n[t]&&(i(a.toString(),`Use [${t}] instead.`),ni(n,t,e?e(s):s)),De)),((e,n)=>(i(n.toString(),`Use [${t}] instead.`),ei(e,t))))}function Vb(t,e,i){if(t>e)return;let n;for(;e>=t;){const a=Math.floor((e+t)/2),s=i(a);null==s?e=a-1:(n=s,t=a+1)}return n}E({},{AND:()=>tn,ARRAY:()=>fn,ARRAY_OF:()=>yn,AbstractBarSeries:()=>sy,AbstractBarSeriesProperties:()=>ay,ActionOnSet:()=>Js,Animation:()=>vi,AnimationManager:()=>Lc,Axis:()=>vo,AxisInterval:()=>ao,AxisLabel:()=>so,AxisTick:()=>oo,AxisTicks:()=>Jb,BOOLEAN:()=>sn,BOOLEAN_ARRAY:()=>wn,Background:()=>cd,BackgroundModule:()=>ud,BaseModuleInstance:()=>Bo,BaseProperties:()=>$i,COLOR_STRING:()=>In,COLOR_STRING_ARRAY:()=>Dn,CachedTextMeasurer:()=>As,CachedTextMeasurerPool:()=>ks,CartesianAxis:()=>Io,CartesianSeries:()=>Wh,CartesianSeriesNodeEvent:()=>Yh,CartesianSeriesProperties:()=>Vh,CategoryAxis:()=>wo,ChartAxisDirection:()=>Jn,ChartEventManager:()=>kc,ChartOptions:()=>Ib,ChartUpdateType:()=>iu,ContextMenuRegistry:()=>Ac,Cursor:()=>Tc,CursorManager:()=>Ec,DATE:()=>vn,DATE_ARRAY:()=>kn,DATE_OR_DATETIME_MS:()=>Mn,DEFAULT_CARTESIAN_DIRECTION_KEYS:()=>_h,DEFAULT_CARTESIAN_DIRECTION_NAMES:()=>Uh,DEFAULT_TOOLTIP_CLASS:()=>hr,DEFAULT_TOOLTIP_DARK_CLASS:()=>dr,DEGREE:()=>pn,DIRECTION:()=>_n,DOMManager:()=>Ll,DRAG_INTERACTION_TYPES:()=>mc,DataController:()=>mu,DataModel:()=>fu,DataModelSeries:()=>Oh,DataService:()=>pc,Default:()=>io,Deprecated:()=>Ub,DeprecatedAndRenamedTo:()=>Yb,EMPTY_TOOLTIP_CONTENT:()=>pr,FONT_STYLE:()=>zn,FONT_WEIGHT:()=>jn,FUNCTION:()=>rn,GREATER_THAN:()=>bn,GestureDetector:()=>Oc,GroupedCategoryAxis:()=>Po,HierarchyNode:()=>Hb,HierarchySeries:()=>Kb,HierarchySeriesProperties:()=>$b,HighlightManager:()=>zc,HighlightProperties:()=>Bh,HighlightStyle:()=>Fh,INTERACTION_RANGE:()=>Yn,INTERPOLATION_STEP_POSITION:()=>jg,INTERPOLATION_TYPE:()=>zg,InteractionManager:()=>wc,InteractionState:()=>qo,InterpolationProperties:()=>Pg,KeyNavManager:()=>jc,LABEL_PLACEMENT:()=>Vn,LARGEST_KEY_INTERVAL:()=>dg,LESS_THAN:()=>xn,LINE_CAP:()=>Cn,LINE_DASH:()=>Rn,LINE_JOIN:()=>Tn,LINE_STYLE:()=>En,LayoutElement:()=>Ho,LayoutManager:()=>Ko,LonLatBBox:()=>Qb,MARKER_SHAPE:()=>Tg,MATCHING_CROSSLINE_TYPE:()=>Or,MAX_SPACING:()=>Hn,MIN_SPACING:()=>Zn,MercatorScale:()=>tx,ModuleRegistry:()=>Fo,Motion:()=>si,NAN:()=>un,NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>Mi,NUMBER:()=>ln,NUMBER_ARRAY:()=>Nn,NUMBER_OR_NAN:()=>gn,Navigator:()=>Rd,NavigatorModule:()=>Od,NodeRegionBBoxProvider:()=>Bc,OBJECT:()=>nn,OBJECT_ARRAY:()=>An,OR:()=>en,OVERFLOW_STRATEGY:()=>Gn,ObserveChanges:()=>qs,PHASE_METADATA:()=>yi,PHASE_ORDER:()=>fi,PLACEMENT:()=>Un,PLAIN_OBJECT:()=>an,POINTER_INTERACTION_TYPES:()=>xc,POSITION:()=>On,POSITION_TOP_COORDINATES:()=>Gr,POSITIVE_NUMBER:()=>hn,PolarAxis:()=>Um,PolarSeries:()=>cm,PropertiesArray:()=>Qi,ProxyOnWrite:()=>Qs,ProxyProperty:()=>$s,ProxyPropertyOnWrite:()=>Xs,QUICK_TRANSITION:()=>gi,RATIO:()=>dn,REAL_NUMBER:()=>cn,REGIONS:()=>Pc,RegionManager:()=>Vc,RepeatType:()=>mi,SKIP_JS_BUILTINS:()=>ii,SMALLEST_KEY_INTERVAL:()=>hg,SORT_DOMAIN_GROUPS:()=>pg,STRING:()=>on,STRING_ARRAY:()=>Ln,Series:()=>Qu,SeriesGroupingChangedEvent:()=>$u,SeriesItemHighlightStyle:()=>zh,SeriesMarker:()=>Eg,SeriesNodeEvent:()=>Ku,SeriesNodePickMode:()=>Hu,SeriesProperties:()=>Gh,SeriesTooltip:()=>Og,SimpleRegionBBoxProvider:()=>Fc,SimpleTextMeasurer:()=>Ts,StateMachine:()=>nr,TEXT_ALIGN:()=>Bn,TEXT_WRAP:()=>Pn,TICK_INTERVAL:()=>no,TOOLBAR_ALIGNMENTS:()=>Wc,TOOLBAR_GROUPS:()=>Zc,TOOLBAR_GROUP_ORDERING:()=>Hc,TOOLBAR_POSITIONS:()=>$c,TextUtils:()=>Cs,TextWrapper:()=>ar,ToolbarManager:()=>Xc,ToolbarPosition:()=>Kc,Tooltip:()=>mr,TooltipManager:()=>Jc,TooltipPosition:()=>yr,UNION:()=>Wn,UpdateService:()=>nu,VERTICAL_ALIGN:()=>Fn,Validate:()=>Ji,Vec2:()=>Im,Vec4:()=>Wb,ZIndexMap:()=>kr,ZoomManager:()=>qc,__FORCE_MODULE_DETECTION:()=>qb,accumulateGroup:()=>Mg,accumulateStack:()=>Ig,accumulatedValue:()=>Jp,accumulativeValueProperty:()=>og,addHitTestersToQuadtree:()=>iy,adjustLabelPlacement:()=>by,animationValidation:()=>xg,area:()=>Xp,arraysEqual:()=>Ci,backfillPathPointData:()=>uf,buildFormatter:()=>Yi,buildResetPathFn:()=>bf,calculateDefaultTimeTickFormat:()=>Zi,calculateLabelChartPadding:()=>Fr,calculateLabelTranslation:()=>Br,calculatePlacement:()=>ur,checkCrisp:()=>uy,circularSliceArray:()=>Oi,clamp:()=>Xt,clampArray:()=>Jt,collapsedStartingBarPosition:()=>dy,computeBarFocusBounds:()=>yy,computeMarkerFocusBounds:()=>sf,convertValuesToScaleByDefs:()=>Ju,countFractionDigits:()=>re,createButton:()=>tv,createCheckbox:()=>ev,createDatumId:()=>wg,createDeprecationWarning:()=>_b,createElement:()=>Ut,createElementId:()=>Qt,createElementNS:()=>Yt,createIcon:()=>av,createSelect:()=>iv,createTextArea:()=>nv,dateToNumber:()=>Vi,deconstructSelectionsOrNodes:()=>xi,deepClone:()=>Ys,deepMerge:()=>Qe,defaultTimeTickFormat:()=>Wi,determinePathStatus:()=>Of,diff:()=>Dg,downloadUrl:()=>Vt,enterpriseModule:()=>sr,excludesType:()=>Ke,extent:()=>ki,extractDecoratedProperties:()=>Ce,findMaxValue:()=>Vb,findMinMax:()=>qt,findQuadtreeMatch:()=>ny,findRangeExtent:()=>te,fixNumericExtent:()=>uu,focusCursorAtEnd:()=>Kt,formatNormalizedPercentage:()=>oe,formatPercentage:()=>le,formatValue:()=>Gp,fromToMotion:()=>Si,getDocument:()=>Gt,getLastFocus:()=>Ml,getMissCount:()=>hu,getPath:()=>ei,getPathComponents:()=>pu,getRectConfig:()=>cy,getWindow:()=>_t,groupAccumulativeValueProperty:()=>cg,groupAverage:()=>Qp,groupBy:()=>Ri,groupCount:()=>$p,groupStackValueProperty:()=>ug,groupSum:()=>Hp,initMenuKeyNav:()=>xl,initRovingTabIndex:()=>yl,initToolbarKeyNav:()=>fl,isAnimatingFloatingPosition:()=>Qc,isArray:()=>Ee,isBoolean:()=>Re,isButtonClickEvent:()=>vl,isDate:()=>Oe,isDecoratedObject:()=>ke,isDefined:()=>Te,isEnumKey:()=>We,isEnumValue:()=>Ze,isEqual:()=>ee,isFiniteNumber:()=>Ye,isFunction:()=>Pe,isHtmlElement:()=>Ve,isNegative:()=>ie,isNumber:()=>Ue,isObject:()=>Be,isObjectLike:()=>Fe,isPlainObject:()=>Ge,isProperties:()=>Xi,isRegExp:()=>je,isString:()=>_e,isSymbol:()=>He,isValidDate:()=>ze,jsonApply:()=>Zs,jsonDiff:()=>Us,jsonWalk:()=>Ws,keyProperty:()=>ag,labelDirectionHandling:()=>Kr,listDecoratedProperties:()=>Ae,makeAccessibleClickListener:()=>bl,mapValues:()=>qe,markerFadeInAnimation:()=>Jg,markerPaletteFactory:()=>jd,markerScaleInAnimation:()=>qg,markerSwipeScaleInAnimation:()=>tf,mergeArrayDefaults:()=>Je,mergeDefaults:()=>Xe,midpointStartingBarPosition:()=>py,minMax:()=>of,mod:()=>se,moduleRegistry:()=>Go,nearestSquared:()=>Pt,nearestSquaredInContainer:()=>Bt,normaliseGroupTo:()=>fg,normalisePropertyTo:()=>mg,normalisedExtentWithMetadata:()=>Ai,objectEqualWith:()=>$e,pairCategoryData:()=>Rf,pairContinuousData:()=>Ef,partialAssign:()=>ai,pathFadeInAnimation:()=>mf,pathFadeOutAnimation:()=>xf,pathRangePoints:()=>Lf,pathRangePointsReverse:()=>kf,pathRanges:()=>Nf,pathSwipeInAnimation:()=>yf,pickByMatchingAngle:()=>lm,pickNode:()=>qu,plotPath:()=>pf,predicateWithMessage:()=>Kn,prepareAreaPathAnimation:()=>Jf,prepareAxisAnimationContext:()=>co,prepareAxisAnimationFunctions:()=>po,prepareBarAnimationFunctions:()=>gy,prepareLinePathAnimation:()=>Pf,prepareLinePathAnimationFns:()=>jf,prepareLinePathPropertyAnimation:()=>zf,prepareMarkerAnimation:()=>af,preparePieSeriesAnimationFunctions:()=>rm,range:()=>Kp,rangedValueProperty:()=>rg,renderPartialPath:()=>ff,resetAxisGroupFn:()=>go,resetAxisLabelSelectionFn:()=>yo,resetAxisLineSelectionFn:()=>mo,resetAxisSelectionFn:()=>fo,resetBarSelectionsFn:()=>fy,resetIds:()=>Ct,resetLabelFn:()=>kg,resetMarkerFn:()=>ef,resetMarkerPositionFn:()=>nf,resetMotion:()=>ea,resetPieSelectionsFn:()=>om,round:()=>ne,scale:()=>Af,seriesLabelFadeInAnimation:()=>Ng,seriesLabelFadeOutAnimation:()=>Lg,setDocument:()=>Wt,setElementBBox:()=>Ht,setPath:()=>ni,setWindow:()=>Zt,shallowClone:()=>Vs,singleSeriesPaletteFactory:()=>zd,sortBasedOnArray:()=>zi,splitPairData:()=>gf,staticFromToMotion:()=>Ii,stopPageScrolling:()=>Sl,stringify:()=>Xn,sum:()=>Zp,sumValues:()=>Wp,toArray:()=>Ti,toFixed:()=>ae,toTooltipHtml:()=>fr,trailingAccumulatedValue:()=>qp,trailingAccumulatedValueProperty:()=>lg,unique:()=>Ei,updateClipPath:()=>vf,updateLabelNode:()=>my,updateRect:()=>ly,validateCrossLineValues:()=>zr,valueProperty:()=>sg,without:()=>ti});var Wb={bottomCenter:function(t){return{x:(t.x1+t.x2)/2,y:Math.max(t.y1,t.y2)}},center:function(t){return{x:(t.x1+t.x2)/2,y:(t.y1+t.y2)/2}},clone:function(t){return{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2}},end:function(t){return{x:t.x2,y:t.y2}},from:function(t,e,i,n){if("number"===typeof t)return{x1:t,y1:e,x2:i,y2:n};if("width"in t)return{x1:t.x,y1:t.y,x2:t.x+t.width,y2:t.y+t.height};throw new Error(`Values can not be converted into a vector4: [${t}] [${e}] [${i}] [${n}]`)},height:function(t){return Math.abs(t.y2-t.y1)},round:function(t){return{x1:Math.round(t.x1),y1:Math.round(t.y1),x2:Math.round(t.x2),y2:Math.round(t.y2)}},start:function(t){return{x:t.x1,y:t.y1}},topCenter:function(t){return{x:(t.x1+t.x2)/2,y:Math.min(t.y1,t.y2)}},origin:function(){return{x1:0,y1:0,x2:0,y2:0}},width:function(t){return Math.abs(t.x2-t.x1)}};var Zb=class t{constructor(t,e,i,n,a,s,r,o,l,c,u){this.series=t,this.index=e,this.datum=i,this.size=n,this.colorValue=a,this.fill=s,this.stroke=r,this.sumSize=o,this.depth=l,this.parent=c,this.children=u,this.midPoint={x:0,y:0}}contains(t){let e=t;for(;null!=e&&e.index>=this.index;){if(e===this)return!0;e=e.parent}return!1}walk(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.Walk.PreOrder;i===t.Walk.PreOrder&&e(this),this.children.forEach((t=>{t.walk(e,i)})),i===t.Walk.PostOrder&&e(this)}*[Symbol.iterator](){yield this;for(const t of this.children)yield*t}};Zb.Walk={PreOrder:0,PostOrder:1};var Hb=Zb,Kb=class extends Qu{constructor(t){super({moduleCtx:t,pickModes:[1,0],contentGroupVirtual:!1}),this.rootNode=new Hb(this,0,void 0,0,void 0,void 0,void 0,0,void 0,void 0,[]),this.colorDomain=[0,0],this.maxDepth=0,this.focusPath=[],this.animationState=new nr("empty",{empty:{update:{target:"ready",action:t=>this.animateEmptyUpdateReady(t)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:t=>this.animateReadyHighlight(t),resize:t=>this.animateReadyResize(t),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:t=>this.animateWaitingUpdateReady(t)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:t=>this.animateClearingUpdateEmpty(t)},reset:"empty",skip:"ready"}},(()=>this.checkProcessedDataAnimatable()))}resetAnimation(t){"initial"===t?this.animationState.transition("reset"):"ready"===t&&this.animationState.transition("skip")}async processData(){const{childrenKey:t,sizeKey:e,colorKey:i,fills:n,strokes:a,colorRange:s}=this.properties;let r=0;let o=0,l=1/0,c=-1/0;const u=new Array((this.data?.length??0)+1).fill(void 0),h=(n,a)=>{const s=(r+=1,r),h=null!=a.depth?a.depth+1:0,p=null!=t?n[t]:void 0,g=null==p||0===p.length;let f=null!=e?n[e]:void 0;f=Number.isFinite(f)?Math.max(f,0):g?1:0;const y=f;o=Math.max(o,h);const m=null!=i?n[i]:void 0;return"number"===typeof m&&(u[s]=m,l=Math.min(l,m),c=Math.max(c,m)),d(new Hb(this,s,n,f,m,void 0,void 0,y,h,a,[]),p)},d=(t,e)=>(e?.forEach((e=>{const i=h(e,t);t.children.push(i),t.sumSize+=i.sumSize})),t),p=d(new Hb(this,0,void 0,0,void 0,void 0,void 0,0,void 0,void 0,[]),this.data),g=[l,c];let f;null!=s&&Number.isFinite(l)&&Number.isFinite(c)&&(f=new vs,f.domain=g,f.range=s,f.update()),p.children.forEach(((t,e)=>{t.walk((t=>{let i;const s=u[t.index];null!=s&&(i=f?.convert(s)),i??(i=n?.[e%n.length]),t.fill=i,t.stroke=null==f?a?.[e%a.length]:"rgba(0, 0, 0, 0.2)"}))})),this.rootNode=p,this.maxDepth=o,this.colorDomain=g,this.focusPath=[{nodeDatum:this.rootNode,childIndex:0}]}async update(t){let{seriesRect:e}=t;await this.updateSelections(),await this.updateNodes();const i=this.getAnimationData();this.checkResize(e)&&this.animationState.transition("resize",i),this.animationState.transition("update",i)}resetAllAnimation(t){const e=this.animationResetFns?.datum;this.ctx.animationManager.stopByAnimationGroupId(this.id),null!=e&&ea(t.datumSelections,e)}animateEmptyUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}animateWaitingUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}animateReadyHighlight(t){const e=this.animationResetFns?.datum;null!=e&&ea([t],e)}animateReadyResize(t){this.resetAllAnimation(t)}animateClearingUpdateEmpty(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}animationTransitionClear(){this.animationState.transition("clear",this.getAnimationData())}getAnimationData(){return{datumSelections:[this.groupSelection]}}isProcessedDataAnimatable(){return!0}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}getLabelData(){return[]}getSeriesDomain(){return[NaN,NaN]}getLegendData(t){const{colorKey:e,colorName:i,colorRange:n,visible:a}=this.properties;return"gradient"===t&&null!=e&&null!=n?[{legendType:"gradient",enabled:a,seriesId:this.id,colorName:i,colorRange:n,colorDomain:this.colorDomain}]:[]}getDatumIdFromData(t){return`${t.index}`}getDatumId(t){return this.getDatumIdFromData(t)}pickFocus(t){if(0===this.rootNode.children.length)return;0===this.focusPath.length&&_.error("this.focusPath should not be empty");const{datumIndexDelta:e,otherIndexDelta:i}=t,{focusPath:n}=this,a=n.length-2;if(0!==i||1===n.length){const t=Math.max(0,a+i);if(void 0!==n[t+1])return n.length=t+2,this.computeFocusOutputs(n[t+1]);{let e=n[n.length-1];for(;e.nodeDatum.children.length>0&&(e.nodeDatum.depth??-1)<t;){const t={nodeDatum:e.nodeDatum.children[0],childIndex:0};n.push(t),e=t}return this.computeFocusOutputs(e)}}if(0===e)return this.computeFocusOutputs(n[n.length-1]);{const t=n[a+1].childIndex+e,i=n[a].nodeDatum,s=i?.children?.length;if(void 0!==s){const e=Xt(0,t,s-1),r={nodeDatum:i.children[e],childIndex:e};return n[a+1]=r,n.length=a+2,this.computeFocusOutputs(r)}}}getDatumAriaText(t,e){if(t instanceof Hb)return this.ctx.localeManager.t("ariaAnnounceHierarchyDatum",{level:(t.depth??-1)+1,count:t.children.length,description:e});_.error(`datum is not HierarchyNode: ${t}`)}computeFocusOutputs(t){let{nodeDatum:e,childIndex:i}=t;const n=this.computeFocusBounds(e);if(n)return{datum:e,datumIndex:i,otherIndex:e.depth,bounds:n,showFocusBox:!0}}},$b=class extends Gh{constructor(){super(...arguments),this.childrenKey="children",this.fills=Object.values(Xy),this.strokes=Object.values(Jy)}};R([Ji(on)],$b.prototype,"childrenKey",2),R([Ji(on,{optional:!0})],$b.prototype,"sizeKey",2),R([Ji(on,{optional:!0})],$b.prototype,"colorKey",2),R([Ji(on,{optional:!0})],$b.prototype,"colorName",2),R([Ji(Dn)],$b.prototype,"fills",2),R([Ji(Dn)],$b.prototype,"strokes",2),R([Ji(Dn,{optional:!0})],$b.prototype,"colorRange",2);var Qb=class{constructor(t,e,i,n){this.lon0=t,this.lat0=e,this.lon1=i,this.lat1=n}merge(t){this.lon0=Math.min(this.lon0,t.lon0),this.lat0=Math.min(this.lat0,t.lat0),this.lon1=Math.max(this.lon1,t.lon1),this.lat1=Math.max(this.lat1,t.lat1)}};var Xb=class t{constructor(){this.id=Tt(this),this.axisGroup=new Xa({name:`${this.id}-AxisTicks`,zIndex:2}),this.labelSelection=es.select(this.axisGroup,Rs),this.interval=new ao,this.label=new so,this.scale=new Jh,this.position="bottom",this.translationX=0,this.translationY=0,this.padding=0}attachAxis(t){t.appendChild(this.axisGroup)}calculateLayout(){this.scale.interval=this.interval.step;const t=[],e=this.generateTicks(),{translationX:i,translationY:n}=this;return this.labelSelection.update(e.ticks.map((t=>this.createLabelDatum(t))),void 0,(t=>t.tickId)),this.labelSelection.each(((e,i)=>{e.setProperties(i),i.visible&&t.push(e.getBBox())})),this.axisGroup.setProperties({translationX:i,translationY:n}),ue.merge(t)}getLabelParams(t){const{padding:e}=this,{translate:i}=t;switch(this.position){case"top":case"bottom":return{x:i,y:e,textAlign:"center",textBaseline:"top"};case"left":case"right":return{x:e,y:i,textAlign:"start",textBaseline:"middle"}}}inRange(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.001;const[i,n]=qt(this.scale.range);return t>=i-e&&t<=n+e}createLabelDatum(t){const{x:e,y:i,textBaseline:n,textAlign:a}=this.getLabelParams(t);return{visible:Boolean(t.tickLabel),tickId:t.tickId,fill:this.label.color,fontFamily:this.label.fontFamily,fontSize:this.label.fontSize,fontStyle:this.label.fontStyle,fontWeight:this.label.fontWeight,rotation:0,rotationCenterX:0,text:t.tickLabel,textAlign:a,textBaseline:n,x:e,y:i}}generateTicks(){const{minSpacing:e,maxSpacing:i}=this.interval,n=ne(te(this.scale.range),2),{maxTickCount:a,minTickCount:s,tickCount:r}=function(t,e,i,n,a){a=Math.max(a,t/(n+1)),isNaN(e)&&(e=a),isNaN(i)&&(i=t),e>i&&(e===a?e=i:i=e);const s=Xt(1,Math.floor(t/e),Math.min(Math.floor(t),100)),r=Math.min(s,Math.ceil(t/i));return{minTickCount:r,maxTickCount:s,tickCount:Xt(r,n,s)}}(n,e,i,t.DefaultTickCount,t.DefaultMinSpacing);r&&(this.scale.tickCount=r,this.scale.minTickCount=s,this.scale.maxTickCount=a);const o=this.getTicksData();if("bottom"===this.position||"top"===this.position){const t=ks.getMeasurer({font:this.label}),e=this.scale.getDomain(),i=e[0]>e[1]?-1:1;let n=-1/0*i;o.ticks=o.ticks.filter((e=>Math.sign(e.translate-n)===i&&(n=e.translate+t.textWidth(e.tickLabel,!0)*i,!0)))}return o}getTicksData(){const t=[],e=this.scale.ticks(),i=e.reduce(((t,e)=>Math.max(t,"number"===typeof e?re(e):0)),0),n=function(){const t=new Map;return e=>{const i=t.get(e);return i?(t.set(e,i+1),`${e}${i}`):(t.set(e,1),e)}}(),a=this.label.format?this.scale.tickFormat({ticks:e,specifier:this.label.format}):t=>Ue(t)?t.toFixed(i):String(t);for(let s=0;s<e.length;s++){const r=e[s],o=this.scale.convert(r);if(!this.inRange(o))continue;const l=this.label.formatter?.({value:r,index:s,fractionDigits:i})??a(r),c=n(l);t.push({tick:r,tickId:c,tickLabel:l,translate:o})}return{rawTicks:e,fractionDigits:i,ticks:t}}};Xb.DefaultTickCount=5,Xb.DefaultMinSpacing=50;var Jb=Xb,qb=0;function tv(t,e){const i=Ut("button",sv("ag-charts-input ag-charts-button",e));return void 0!==t.label?i.append(t.label):(i.append(av(t.icon)),i.ariaLabel=t.altText),i.addEventListener("click",t.onPress),or(i,e),i}function ev(t,e){const i=Ut("input",sv("ag-charts-input ag-charts-checkbox",e));return i.type="checkbox",i.checked=t.checked,i.addEventListener("change",(e=>t.onChange(i.checked,e))),i.addEventListener("keydown",(t=>{vl(t)&&(t.preventDefault(),i.click())})),or(i,e),i}function iv(t,e){const i=Ut("select",sv("ag-charts-input ag-charts-select",e));return i.append(...t.options.map((t=>{const e=Ut("option");return e.value=t.value,e.textContent=t.label,e}))),rr(i,"data-preventdefault",!1),i.value=t.value,i.addEventListener("change",(e=>t.onChange(i.value,e))),or(i,e),i}function nv(t,e){const i=Ut("textarea",sv("ag-charts-input ag-charts-textarea",e));return i.value=t.value,i.addEventListener("input",(e=>t.onChange(i.value,e))),or(i,e),i}function av(t){const e=Ut("span",`ag-charts-icon ag-charts-icon-${t}`);return rr(e,"aria-hidden",!0),e}function sv(t,e){return null==e?t:`${t} ${e.class}`}function rv(t,e){return{...t,container:e.current}}function ov(t,e){const i=(0,n.forwardRef)((function(e,i){const{options:a,style:s,className:r}=e,o=(0,n.useRef)(null),l=(0,n.useRef)();(0,n.useLayoutEffect)((()=>{const e=t(rv(a,o));return l.current=e,()=>{e.destroy()}}),[]);const c=void 0===l.current;return(0,n.useEffect)((()=>{c||l.current?.update(rv(a,o))}),[a]),(0,n.useImperativeHandle)(i,(()=>l.current),[]),(0,n.useMemo)((()=>(0,n.createElement)("div",{ref:o,style:s,className:r})),[s,r])}));return i.displayName=e,i}var lv=ov((t=>Nb.create(t)),"AgCharts");const cv=t=>{let{data:e}=t;const i={data:e,series:[{type:"bar",xKey:"line",yKey:"removed",yName:"Removed",fill:"red"},{type:"bar",xKey:"line",yKey:"added",yName:"Added",fill:"green"}],axes:[{type:"number",position:"left",title:{text:"chars"}},{type:"number",position:"bottom",label:{format:",.0f"},title:{text:"index"}}]};return(0,k.jsx)(lv,{options:i})};function uv(){const t=[];for(let e=1;e<10;e++)t.push({line:e,removed:0,added:0});return t}const hv=()=>{const[t,e]=(0,n.useState)(""),[i,a]=(0,n.useState)(""),[s,r]=(0,n.useState)([]),[l,c]=(0,n.useState)(uv),u=t=>{const e=t.target.scrollLeft;document.querySelectorAll(".text-viewer").forEach((i=>{i!==t.target&&(i.scrollLeft=e)}))};return(0,k.jsxs)("div",{children:[(0,k.jsxs)("div",{className:"app-container",children:[(0,k.jsx)("div",{className:"panel-container",children:(0,k.jsx)(A,{buttonText:"Paste",buttonOnClick:async()=>{const t=await navigator.clipboard.readText();e(t.replace(/\n$/,""))},viewerText:t,viewerOnScroll:u})}),(0,k.jsx)("div",{className:"panel-container",children:(0,k.jsx)(A,{buttonText:"Paste",buttonOnClick:async()=>{const t=await navigator.clipboard.readText();a(t.replace(/\n$/,""))},viewerText:i,viewerOnScroll:u})}),(0,k.jsx)("div",{className:"panel-container",children:(0,k.jsx)(A,{buttonText:"Compare",buttonOnClick:()=>{if(t===i)return r("texts are indentical.."),void c(uv());let e,n;if(t.includes("\n")||i.includes("\n")){const a=M(t,i,{ignoreWhitespace:!0});e=a.map(((t,e)=>{const i=t.added?"text-viewer-token-added":t.removed?"text-viewer-token-removed":"";return(0,k.jsx)("div",{className:i,children:t.value},e)})),n=function(t){const e=[];let i=1;for(let n=0;n<t.length;n++){let a=0,s=0;const r=t[n],o=r.value.replace(/\n$/,"").split("\n");for(const t of o)r.added?a=t.length:r.removed&&(s=-1*t.length),e.push({line:i,removed:s,added:a}),i+=1}return e}(a)}else{const r=(a=t,s=i,o.diff(a,s,l));e=r.map(((t,e)=>{const i=t.added?"text-viewer-token-added":t.removed?"text-viewer-token-removed":"";return(0,k.jsx)("span",{className:i,children:t.value},e)})),n=function(t){const e=[];let i=1;for(let n=0;n<t.length;n++){let a=0,s=0;const r=t[n],o=r.value.split("");for(const t of o)r.added?a=t.length:r.removed&&(s=-1*t.length),e.push({line:i,removed:s,added:a}),i+=1}return e}(r)}var a,s,l;r(e),c(n)},viewerText:s,viewerOnScroll:u})})]}),(0,k.jsx)("div",{className:"chart-container",children:(0,k.jsx)(cv,{data:l})})]})};(0,a.H)(document.getElementById("root")).render((0,k.jsx)(n.StrictMode,{children:(0,k.jsx)(hv,{})}))})();
//# sourceMappingURL=main.02a10975.js.map